{"metadata":{"usedHelpers":["typeof","interopRequireDefault"],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/zurb:foundation-sites/_build/assets/js/foundation.js","filenameRelative":"/packages/zurb:foundation-sites/_build/assets/js/foundation.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/zurb:foundation-sites/_build/assets/js/foundation.js.map","sourceFileName":"/packages/zurb:foundation-sites/_build/assets/js/foundation.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"foundation"},"ignored":false,"code":"var _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n!function ($) {\n\n  \"use strict\";\n\n  var FOUNDATION_VERSION = '6.2.2';\n\n  // Global Foundation object\n  // This is attached to the window, or used as a module for AMD/Browserify\n  var Foundation = {\n    version: FOUNDATION_VERSION,\n\n    /**\n     * Stores initialized plugins.\n     */\n    _plugins: {},\n\n    /**\n     * Stores generated unique ids for plugin instances\n     */\n    _uuids: [],\n\n    /**\n     * Returns a boolean for RTL support\n     */\n    rtl: function () {\n      function rtl() {\n        return $('html').attr('dir') === 'rtl';\n      }\n\n      return rtl;\n    }(),\n    /**\n     * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n     * @param {Object} plugin - The constructor of the plugin.\n     */\n    plugin: function () {\n      function plugin(_plugin, name) {\n        // Object key to use when adding to global Foundation object\n        // Examples: Foundation.Reveal, Foundation.OffCanvas\n        var className = name || functionName(_plugin);\n        // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n        // Examples: data-reveal, data-off-canvas\n        var attrName = hyphenate(className);\n\n        // Add to the Foundation object and the plugins list (for reflowing)\n        this._plugins[attrName] = this[className] = _plugin;\n      }\n\n      return plugin;\n    }(),\n    /**\n     * @function\n     * Populates the _uuids array with pointers to each individual plugin instance.\n     * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n     * Also fires the initialization event for each plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @param {String} name - the name of the plugin, passed as a camelCased string.\n     * @fires Plugin#init\n     */\n    registerPlugin: function () {\n      function registerPlugin(plugin, name) {\n        var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n        plugin.uuid = this.GetYoDigits(6, pluginName);\n\n        if (!plugin.$element.attr('data-' + pluginName)) {\n          plugin.$element.attr('data-' + pluginName, plugin.uuid);\n        }\n        if (!plugin.$element.data('zfPlugin')) {\n          plugin.$element.data('zfPlugin', plugin);\n        }\n        /**\n         * Fires when the plugin has initialized.\n         * @event Plugin#init\n         */\n        plugin.$element.trigger('init.zf.' + pluginName);\n\n        this._uuids.push(plugin.uuid);\n\n        return;\n      }\n\n      return registerPlugin;\n    }(),\n    /**\n     * @function\n     * Removes the plugins uuid from the _uuids array.\n     * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n     * Also fires the destroyed event for the plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @fires Plugin#destroyed\n     */\n    unregisterPlugin: function () {\n      function unregisterPlugin(plugin) {\n        var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n        this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n        plugin.$element.removeAttr('data-' + pluginName).removeData('zfPlugin')\n        /**\n         * Fires when the plugin has been destroyed.\n         * @event Plugin#destroyed\n         */\n        .trigger('destroyed.zf.' + pluginName);\n        for (var prop in meteorBabelHelpers.sanitizeForInObject(plugin)) {\n          plugin[prop] = null; //clean up script to prep for garbage collection.\n        }\n        return;\n      }\n\n      return unregisterPlugin;\n    }(),\n\n    /**\n     * @function\n     * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n     * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n     * @default If no argument is passed, reflow all currently active plugins.\n     */\n    reInit: function () {\n      function reInit(plugins) {\n        var isJQ = plugins instanceof $;\n        try {\n          if (isJQ) {\n            plugins.each(function () {\n              $(this).data('zfPlugin')._init();\n            });\n          } else {\n            var type = typeof plugins === 'undefined' ? 'undefined' : (0, _typeof3['default'])(plugins),\n                _this = this,\n                fns = {\n              'object': function () {\n                function object(plgs) {\n                  plgs.forEach(function (p) {\n                    p = hyphenate(p);\n                    $('[data-' + p + ']').foundation('_init');\n                  });\n                }\n\n                return object;\n              }(),\n              'string': function () {\n                function string() {\n                  plugins = hyphenate(plugins);\n                  $('[data-' + plugins + ']').foundation('_init');\n                }\n\n                return string;\n              }(),\n              'undefined': function () {\n                function undefined() {\n                  this['object'](Object.keys(_this._plugins));\n                }\n\n                return undefined;\n              }()\n            };\n            fns[type](plugins);\n          }\n        } catch (err) {\n          console.error(err);\n        } finally {\n          return plugins;\n        }\n      }\n\n      return reInit;\n    }(),\n\n    /**\n     * returns a random base-36 uid with namespacing\n     * @function\n     * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n     * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n     * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n     * @returns {String} - unique id\n     */\n    GetYoDigits: function () {\n      function GetYoDigits(length, namespace) {\n        length = length || 6;\n        return Math.round(Math.pow(36, length + 1) - Math.random() * Math.pow(36, length)).toString(36).slice(1) + (namespace ? '-' + namespace : '');\n      }\n\n      return GetYoDigits;\n    }(),\n    /**\n     * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n     * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n     * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n     */\n    reflow: function () {\n      function reflow(elem, plugins) {\n\n        // If plugins is undefined, just grab everything\n        if (typeof plugins === 'undefined') {\n          plugins = Object.keys(this._plugins);\n        }\n        // If plugins is a string, convert it to an array with one item\n        else if (typeof plugins === 'string') {\n            plugins = [plugins];\n          }\n\n        var _this = this;\n\n        // Iterate through each plugin\n        $.each(plugins, function (i, name) {\n          // Get the current plugin\n          var plugin = _this._plugins[name];\n\n          // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n          var $elem = $(elem).find('[data-' + name + ']').addBack('[data-' + name + ']');\n\n          // For each plugin found, initialize it\n          $elem.each(function () {\n            var $el = $(this),\n                opts = {};\n            // Don't double-dip on plugins\n            if ($el.data('zfPlugin')) {\n              console.warn(\"Tried to initialize \" + name + \" on an element that already has a Foundation plugin.\");\n              return;\n            }\n\n            if ($el.attr('data-options')) {\n              var thing = $el.attr('data-options').split(';').forEach(function (e, i) {\n                var opt = e.split(':').map(function (el) {\n                  return el.trim();\n                });\n                if (opt[0]) opts[opt[0]] = parseValue(opt[1]);\n              });\n            }\n            try {\n              $el.data('zfPlugin', new plugin($(this), opts));\n            } catch (er) {\n              console.error(er);\n            } finally {\n              return;\n            }\n          });\n        });\n      }\n\n      return reflow;\n    }(),\n    getFnName: functionName,\n    transitionend: function () {\n      function transitionend($elem) {\n        var transitions = {\n          'transition': 'transitionend',\n          'WebkitTransition': 'webkitTransitionEnd',\n          'MozTransition': 'transitionend',\n          'OTransition': 'otransitionend'\n        };\n        var elem = document.createElement('div'),\n            end;\n\n        for (var t in meteorBabelHelpers.sanitizeForInObject(transitions)) {\n          if (typeof elem.style[t] !== 'undefined') {\n            end = transitions[t];\n          }\n        }\n        if (end) {\n          return end;\n        } else {\n          end = setTimeout(function () {\n            $elem.triggerHandler('transitionend', [$elem]);\n          }, 1);\n          return 'transitionend';\n        }\n      }\n\n      return transitionend;\n    }()\n  };\n\n  Foundation.util = {\n    /**\n     * Function for applying a debounce effect to a function call.\n     * @function\n     * @param {Function} func - Function to be called at end of timeout.\n     * @param {Number} delay - Time in ms to delay the call of `func`.\n     * @returns function\n     */\n    throttle: function () {\n      function throttle(func, delay) {\n        var timer = null;\n\n        return function () {\n          var context = this,\n              args = arguments;\n\n          if (timer === null) {\n            timer = setTimeout(function () {\n              func.apply(context, args);\n              timer = null;\n            }, delay);\n          }\n        };\n      }\n\n      return throttle;\n    }()\n  };\n\n  // TODO: consider not making this a jQuery function\n  // TODO: need way to reflow vs. re-initialize\n  /**\n   * The Foundation jQuery method.\n   * @param {String|Array} method - An action to perform on the current jQuery object.\n   */\n  var foundation = function foundation(method) {\n    var type = typeof method === 'undefined' ? 'undefined' : (0, _typeof3['default'])(method),\n        $meta = $('meta.foundation-mq'),\n        $noJS = $('.no-js');\n\n    if (!$meta.length) {\n      $('<meta class=\"foundation-mq\">').appendTo(document.head);\n    }\n    if ($noJS.length) {\n      $noJS.removeClass('no-js');\n    }\n\n    if (type === 'undefined') {\n      //needs to initialize the Foundation object, or an individual plugin.\n      Foundation.MediaQuery._init();\n      Foundation.reflow(this);\n    } else if (type === 'string') {\n      //an individual method to invoke on a plugin or group of plugins\n      var args = Array.prototype.slice.call(arguments, 1); //collect all the arguments, if necessary\n      var plugClass = this.data('zfPlugin'); //determine the class of plugin\n\n      if (plugClass !== undefined && plugClass[method] !== undefined) {\n        //make sure both the class and method exist\n        if (this.length === 1) {\n          //if there's only one, call it directly.\n          plugClass[method].apply(plugClass, args);\n        } else {\n          this.each(function (i, el) {\n            //otherwise loop through the jQuery collection and invoke the method on each\n            plugClass[method].apply($(el).data('zfPlugin'), args);\n          });\n        }\n      } else {\n        //error for no class or no method\n        throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n      }\n    } else {\n      //error for invalid argument type\n      throw new TypeError('We\\'re sorry, ' + type + ' is not a valid parameter. You must use a string representing the method you wish to invoke.');\n    }\n    return this;\n  };\n\n  window.Foundation = Foundation;\n  $.fn.foundation = foundation;\n\n  // Polyfill for requestAnimationFrame\n  (function () {\n    if (!Date.now || !window.Date.now) window.Date.now = Date.now = function () {\n      return new Date().getTime();\n    };\n\n    var vendors = ['webkit', 'moz'];\n    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n      var vp = vendors[i];\n      window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\n      window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\n    }\n    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n      var lastTime = 0;\n      window.requestAnimationFrame = function (callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function () {\n          callback(lastTime = nextTime);\n        }, nextTime - now);\n      };\n      window.cancelAnimationFrame = clearTimeout;\n    }\n    /**\n     * Polyfill for performance.now, required by rAF\n     */\n    if (!window.performance || !window.performance.now) {\n      window.performance = {\n        start: Date.now(),\n        now: function () {\n          function now() {\n            return Date.now() - this.start;\n          }\n\n          return now;\n        }()\n      };\n    }\n  })();\n  if (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n      if (typeof this !== 'function') {\n        // closest thing possible to the ECMAScript 5\n        // internal IsCallable function\n        throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n      }\n\n      var aArgs = Array.prototype.slice.call(arguments, 1),\n          fToBind = this,\n          fNOP = function fNOP() {},\n          fBound = function fBound() {\n        return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n      };\n\n      if (this.prototype) {\n        // native functions don't have a prototype\n        fNOP.prototype = this.prototype;\n      }\n      fBound.prototype = new fNOP();\n\n      return fBound;\n    };\n  }\n  // Polyfill to get the name of a function in IE9\n  function functionName(fn) {\n    if (Function.prototype.name === undefined) {\n      var funcNameRegex = /function\\s([^(]{1,})\\(/;\n      var results = funcNameRegex.exec(fn.toString());\n      return results && results.length > 1 ? results[1].trim() : \"\";\n    } else if (fn.prototype === undefined) {\n      return fn.constructor.name;\n    } else {\n      return fn.prototype.constructor.name;\n    }\n  }\n  function parseValue(str) {\n    if (/true/.test(str)) return true;else if (/false/.test(str)) return false;else if (!isNaN(str * 1)) return parseFloat(str);\n    return str;\n  }\n  // Convert PascalCase to kebab-case\n  // Thank you: http://stackoverflow.com/a/8955580\n  function hyphenate(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  }\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  Foundation.Box = {\n    ImNotTouchingYou: ImNotTouchingYou,\n    GetDimensions: GetDimensions,\n    GetOffsets: GetOffsets\n  };\n\n  /**\n   * Compares the dimensions of an element to a container and determines collision events with container.\n   * @function\n   * @param {jQuery} element - jQuery object to test for collisions.\n   * @param {jQuery} parent - jQuery object to use as bounding container.\n   * @param {Boolean} lrOnly - set to true to check left and right values only.\n   * @param {Boolean} tbOnly - set to true to check top and bottom values only.\n   * @default if no parent object passed, detects collisions with `window`.\n   * @returns {Boolean} - true if collision free, false if a collision in any direction.\n   */\n  function ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\n    var eleDims = GetDimensions(element),\n        top,\n        bottom,\n        left,\n        right;\n\n    if (parent) {\n      var parDims = GetDimensions(parent);\n\n      bottom = eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top;\n      top = eleDims.offset.top >= parDims.offset.top;\n      left = eleDims.offset.left >= parDims.offset.left;\n      right = eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left;\n    } else {\n      bottom = eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top;\n      top = eleDims.offset.top >= eleDims.windowDims.offset.top;\n      left = eleDims.offset.left >= eleDims.windowDims.offset.left;\n      right = eleDims.offset.left + eleDims.width <= eleDims.windowDims.width;\n    }\n\n    var allDirs = [bottom, top, left, right];\n\n    if (lrOnly) {\n      return left === right === true;\n    }\n\n    if (tbOnly) {\n      return top === bottom === true;\n    }\n\n    return allDirs.indexOf(false) === -1;\n  };\n\n  /**\n   * Uses native methods to return an object of dimension values.\n   * @function\n   * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\n   * @returns {Object} - nested object of integer pixel values\n   * TODO - if element is window, return only those values.\n   */\n  function GetDimensions(elem, test) {\n    elem = elem.length ? elem[0] : elem;\n\n    if (elem === window || elem === document) {\n      throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\n    }\n\n    var rect = elem.getBoundingClientRect(),\n        parRect = elem.parentNode.getBoundingClientRect(),\n        winRect = document.body.getBoundingClientRect(),\n        winY = window.pageYOffset,\n        winX = window.pageXOffset;\n\n    return {\n      width: rect.width,\n      height: rect.height,\n      offset: {\n        top: rect.top + winY,\n        left: rect.left + winX\n      },\n      parentDims: {\n        width: parRect.width,\n        height: parRect.height,\n        offset: {\n          top: parRect.top + winY,\n          left: parRect.left + winX\n        }\n      },\n      windowDims: {\n        width: winRect.width,\n        height: winRect.height,\n        offset: {\n          top: winY,\n          left: winX\n        }\n      }\n    };\n  }\n\n  /**\n   * Returns an object of top and left integer pixel values for dynamically rendered elements,\n   * such as: Tooltip, Reveal, and Dropdown\n   * @function\n   * @param {jQuery} element - jQuery object for the element being positioned.\n   * @param {jQuery} anchor - jQuery object for the element's anchor point.\n   * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\n   * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\n   * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\n   * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\n   * TODO alter/rewrite to work with `em` values as well/instead of pixels\n   */\n  function GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\n    var $eleDims = GetDimensions(element),\n        $anchorDims = anchor ? GetDimensions(anchor) : null;\n\n    switch (position) {\n      case 'top':\n        return {\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left,\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n        };\n        break;\n      case 'left':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top\n        };\n        break;\n      case 'right':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset,\n          top: $anchorDims.offset.top\n        };\n        break;\n      case 'center top':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n        };\n        break;\n      case 'center bottom':\n        return {\n          left: isOverflow ? hOffset : $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n        break;\n      case 'center left':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'center right':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'center':\n        return {\n          left: $eleDims.windowDims.offset.left + $eleDims.windowDims.width / 2 - $eleDims.width / 2,\n          top: $eleDims.windowDims.offset.top + $eleDims.windowDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'reveal':\n        return {\n          left: ($eleDims.windowDims.width - $eleDims.width) / 2,\n          top: $eleDims.windowDims.offset.top + vOffset\n        };\n      case 'reveal full':\n        return {\n          left: $eleDims.windowDims.offset.left,\n          top: $eleDims.windowDims.offset.top\n        };\n        break;\n      case 'left bottom':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top + $anchorDims.height\n        };\n        break;\n      case 'right bottom':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\n          top: $anchorDims.offset.top + $anchorDims.height\n        };\n        break;\n      default:\n        return {\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n    }\n  }\n}(jQuery);\n/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function ($) {\n\n  var keyCodes = {\n    9: 'TAB',\n    13: 'ENTER',\n    27: 'ESCAPE',\n    32: 'SPACE',\n    37: 'ARROW_LEFT',\n    38: 'ARROW_UP',\n    39: 'ARROW_RIGHT',\n    40: 'ARROW_DOWN'\n  };\n\n  var commands = {};\n\n  var Keyboard = {\n    keys: getKeyCodes(keyCodes),\n\n    /**\n     * Parses the (keyboard) event and returns a String that represents its key\n     * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n     * @param {Event} event - the event generated by the event handler\n     * @return String key - String that represents the key pressed\n     */\n    parseKey: function () {\n      function parseKey(event) {\n        var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n        if (event.shiftKey) key = 'SHIFT_' + key;\n        if (event.ctrlKey) key = 'CTRL_' + key;\n        if (event.altKey) key = 'ALT_' + key;\n        return key;\n      }\n\n      return parseKey;\n    }(),\n\n    /**\n     * Handles the given (keyboard) event\n     * @param {Event} event - the event generated by the event handler\n     * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n     * @param {Objects} functions - collection of functions that are to be executed\n     */\n    handleKey: function () {\n      function handleKey(event, component, functions) {\n        var commandList = commands[component],\n            keyCode = this.parseKey(event),\n            cmds,\n            command,\n            fn;\n\n        if (!commandList) return console.warn('Component not defined!');\n\n        if (typeof commandList.ltr === 'undefined') {\n          // this component does not differentiate between ltr and rtl\n          cmds = commandList; // use plain list\n        } else {\n            // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n            if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n          }\n        command = cmds[keyCode];\n\n        fn = functions[command];\n        if (fn && typeof fn === 'function') {\n          // execute function  if exists\n          var returnValue = fn.apply();\n          if (functions.handled || typeof functions.handled === 'function') {\n            // execute function when event was handled\n            functions.handled(returnValue);\n          }\n        } else {\n          if (functions.unhandled || typeof functions.unhandled === 'function') {\n            // execute function when event was not handled\n            functions.unhandled();\n          }\n        }\n      }\n\n      return handleKey;\n    }(),\n\n    /**\n     * Finds all focusable elements within the given `$element`\n     * @param {jQuery} $element - jQuery object to search within\n     * @return {jQuery} $focusable - all focusable elements within `$element`\n     */\n    findFocusable: function () {\n      function findFocusable($element) {\n        return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function () {\n          if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) {\n            return false;\n          } //only have visible elements and those that have a tabindex greater or equal 0\n          return true;\n        });\n      }\n\n      return findFocusable;\n    }(),\n\n    /**\n     * Returns the component name name\n     * @param {Object} component - Foundation component, e.g. Slider or Reveal\n     * @return String componentName\n     */\n\n    register: function () {\n      function register(componentName, cmds) {\n        commands[componentName] = cmds;\n      }\n\n      return register;\n    }()\n  };\n\n  /*\n   * Constants for easier comparing.\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   */\n  function getKeyCodes(kcs) {\n    var k = {};\n    for (var kc in meteorBabelHelpers.sanitizeForInObject(kcs)) {\n      k[kcs[kc]] = kcs[kc];\n    }return k;\n  }\n\n  Foundation.Keyboard = Keyboard;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  // Default set of media queries\n  var defaultQueries = {\n    'default': 'only screen',\n    landscape: 'only screen and (orientation: landscape)',\n    portrait: 'only screen and (orientation: portrait)',\n    retina: 'only screen and (-webkit-min-device-pixel-ratio: 2),' + 'only screen and (min--moz-device-pixel-ratio: 2),' + 'only screen and (-o-min-device-pixel-ratio: 2/1),' + 'only screen and (min-device-pixel-ratio: 2),' + 'only screen and (min-resolution: 192dpi),' + 'only screen and (min-resolution: 2dppx)'\n  };\n\n  var MediaQuery = {\n    queries: [],\n\n    current: '',\n\n    /**\n     * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n     * @function\n     * @private\n     */\n    _init: function () {\n      function _init() {\n        var self = this;\n        var extractedStyles = $('.foundation-mq').css('font-family');\n        var namedQueries;\n\n        namedQueries = parseStyleToObject(extractedStyles);\n\n        for (var key in meteorBabelHelpers.sanitizeForInObject(namedQueries)) {\n          if (namedQueries.hasOwnProperty(key)) {\n            self.queries.push({\n              name: key,\n              value: 'only screen and (min-width: ' + namedQueries[key] + ')'\n            });\n          }\n        }\n\n        this.current = this._getCurrentSize();\n\n        this._watcher();\n      }\n\n      return _init;\n    }(),\n\n    /**\n     * Checks if the screen is at least as wide as a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to check.\n     * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n     */\n    atLeast: function () {\n      function atLeast(size) {\n        var query = this.get(size);\n\n        if (query) {\n          return window.matchMedia(query).matches;\n        }\n\n        return false;\n      }\n\n      return atLeast;\n    }(),\n\n    /**\n     * Gets the media query of a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to get.\n     * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n     */\n    get: function () {\n      function get(size) {\n        for (var i in meteorBabelHelpers.sanitizeForInObject(this.queries)) {\n          if (this.queries.hasOwnProperty(i)) {\n            var query = this.queries[i];\n            if (size === query.name) return query.value;\n          }\n        }\n\n        return null;\n      }\n\n      return get;\n    }(),\n\n    /**\n     * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n     * @function\n     * @private\n     * @returns {String} Name of the current breakpoint.\n     */\n    _getCurrentSize: function () {\n      function _getCurrentSize() {\n        var matched;\n\n        for (var i = 0; i < this.queries.length; i++) {\n          var query = this.queries[i];\n\n          if (window.matchMedia(query.value).matches) {\n            matched = query;\n          }\n        }\n\n        if ((typeof matched === 'undefined' ? 'undefined' : (0, _typeof3['default'])(matched)) === 'object') {\n          return matched.name;\n        } else {\n          return matched;\n        }\n      }\n\n      return _getCurrentSize;\n    }(),\n\n    /**\n     * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n     * @function\n     * @private\n     */\n    _watcher: function () {\n      function _watcher() {\n        var _this = this;\n\n        $(window).on('resize.zf.mediaquery', function () {\n          var newSize = _this._getCurrentSize(),\n              currentSize = _this.current;\n\n          if (newSize !== currentSize) {\n            // Change the current media query\n            _this.current = newSize;\n\n            // Broadcast the media query change on the window\n            $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n          }\n        });\n      }\n\n      return _watcher;\n    }()\n  };\n\n  Foundation.MediaQuery = MediaQuery;\n\n  // matchMedia() polyfill - Test a CSS media type/query in JS.\n  // Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\n  window.matchMedia || (window.matchMedia = function () {\n    'use strict';\n\n    // For browsers that support matchMedium api such as IE 9 and webkit\n\n    var styleMedia = window.styleMedia || window.media;\n\n    // For those that don't support matchMedium\n    if (!styleMedia) {\n      var style = document.createElement('style'),\n          script = document.getElementsByTagName('script')[0],\n          info = null;\n\n      style.type = 'text/css';\n      style.id = 'matchmediajs-test';\n\n      script.parentNode.insertBefore(style, script);\n\n      // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n      info = 'getComputedStyle' in window && window.getComputedStyle(style, null) || style.currentStyle;\n\n      styleMedia = {\n        matchMedium: function () {\n          function matchMedium(media) {\n            var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n            // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n            if (style.styleSheet) {\n              style.styleSheet.cssText = text;\n            } else {\n              style.textContent = text;\n            }\n\n            // Test if media query is true or false\n            return info.width === '1px';\n          }\n\n          return matchMedium;\n        }()\n      };\n    }\n\n    return function (media) {\n      return {\n        matches: styleMedia.matchMedium(media || 'all'),\n        media: media || 'all'\n      };\n    };\n  }());\n\n  // Thank you: https://github.com/sindresorhus/query-string\n  function parseStyleToObject(str) {\n    var styleObject = {};\n\n    if (typeof str !== 'string') {\n      return styleObject;\n    }\n\n    str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n    if (!str) {\n      return styleObject;\n    }\n\n    styleObject = str.split('&').reduce(function (ret, param) {\n      var parts = param.replace(/\\+/g, ' ').split('=');\n      var key = parts[0];\n      var val = parts[1];\n      key = decodeURIComponent(key);\n\n      // missing `=` should be `null`:\n      // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n      val = val === undefined ? null : decodeURIComponent(val);\n\n      if (!ret.hasOwnProperty(key)) {\n        ret[key] = val;\n      } else if (Array.isArray(ret[key])) {\n        ret[key].push(val);\n      } else {\n        ret[key] = [ret[key], val];\n      }\n      return ret;\n    }, {});\n\n    return styleObject;\n  }\n\n  Foundation.MediaQuery = MediaQuery;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  /**\n   * Motion module.\n   * @module foundation.motion\n   */\n\n  var initClasses = ['mui-enter', 'mui-leave'];\n  var activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\n  var Motion = {\n    animateIn: function () {\n      function animateIn(element, animation, cb) {\n        animate(true, element, animation, cb);\n      }\n\n      return animateIn;\n    }(),\n\n    animateOut: function () {\n      function animateOut(element, animation, cb) {\n        animate(false, element, animation, cb);\n      }\n\n      return animateOut;\n    }()\n  };\n\n  function Move(duration, elem, fn) {\n    var anim,\n        prog,\n        start = null;\n    // console.log('called');\n\n    function move(ts) {\n      if (!start) start = window.performance.now();\n      // console.log(start, ts);\n      prog = ts - start;\n      fn.apply(elem);\n\n      if (prog < duration) {\n        anim = window.requestAnimationFrame(move, elem);\n      } else {\n        window.cancelAnimationFrame(anim);\n        elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n      }\n    }\n    anim = window.requestAnimationFrame(move);\n  }\n\n  /**\n   * Animates an element in or out using a CSS transition class.\n   * @function\n   * @private\n   * @param {Boolean} isIn - Defines if the animation is in or out.\n   * @param {Object} element - jQuery or HTML object to animate.\n   * @param {String} animation - CSS class to use.\n   * @param {Function} cb - Callback to run when animation is finished.\n   */\n  function animate(isIn, element, animation, cb) {\n    element = $(element).eq(0);\n\n    if (!element.length) return;\n\n    var initClass = isIn ? initClasses[0] : initClasses[1];\n    var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n    // Set up the animation\n    reset();\n\n    element.addClass(animation).css('transition', 'none');\n\n    requestAnimationFrame(function () {\n      element.addClass(initClass);\n      if (isIn) element.show();\n    });\n\n    // Start the animation\n    requestAnimationFrame(function () {\n      element[0].offsetWidth;\n      element.css('transition', '').addClass(activeClass);\n    });\n\n    // Clean up the animation when it finishes\n    element.one(Foundation.transitionend(element), finish);\n\n    // Hides the element (for out animations), resets the element, and runs a callback\n    function finish() {\n      if (!isIn) element.hide();\n      reset();\n      if (cb) cb.apply(element);\n    }\n\n    // Resets transitions and removes motion-specific classes\n    function reset() {\n      element[0].style.transitionDuration = 0;\n      element.removeClass(initClass + ' ' + activeClass + ' ' + animation);\n    }\n  }\n\n  Foundation.Move = Move;\n  Foundation.Motion = Motion;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  var Nest = {\n    Feather: function () {\n      function Feather(menu) {\n        var type = arguments.length <= 1 || arguments[1] === undefined ? 'zf' : arguments[1];\n\n        menu.attr('role', 'menubar');\n\n        var items = menu.find('li').attr({ 'role': 'menuitem' }),\n            subMenuClass = 'is-' + type + '-submenu',\n            subItemClass = subMenuClass + '-item',\n            hasSubClass = 'is-' + type + '-submenu-parent';\n\n        menu.find('a:first').attr('tabindex', 0);\n\n        items.each(function () {\n          var $item = $(this),\n              $sub = $item.children('ul');\n\n          if ($sub.length) {\n            $item.addClass(hasSubClass).attr({\n              'aria-haspopup': true,\n              'aria-expanded': false,\n              'aria-label': $item.children('a:first').text()\n            });\n\n            $sub.addClass('submenu ' + subMenuClass).attr({\n              'data-submenu': '',\n              'aria-hidden': true,\n              'role': 'menu'\n            });\n          }\n\n          if ($item.parent('[data-submenu]').length) {\n            $item.addClass('is-submenu-item ' + subItemClass);\n          }\n        });\n\n        return;\n      }\n\n      return Feather;\n    }(),\n    Burn: function () {\n      function Burn(menu, type) {\n        var items = menu.find('li').removeAttr('tabindex'),\n            subMenuClass = 'is-' + type + '-submenu',\n            subItemClass = subMenuClass + '-item',\n            hasSubClass = 'is-' + type + '-submenu-parent';\n\n        menu.find('*').removeClass(subMenuClass + ' ' + subItemClass + ' ' + hasSubClass + ' is-submenu-item submenu is-active').removeAttr('data-submenu').css('display', '');\n\n        // console.log(      menu.find('.' + subMenuClass + ', .' + subItemClass + ', .has-submenu, .is-submenu-item, .submenu, [data-submenu]')\n        //           .removeClass(subMenuClass + ' ' + subItemClass + ' has-submenu is-submenu-item submenu')\n        //           .removeAttr('data-submenu'));\n        // items.each(function(){\n        //   var $item = $(this),\n        //       $sub = $item.children('ul');\n        //   if($item.parent('[data-submenu]').length){\n        //     $item.removeClass('is-submenu-item ' + subItemClass);\n        //   }\n        //   if($sub.length){\n        //     $item.removeClass('has-submenu');\n        //     $sub.removeClass('submenu ' + subMenuClass).removeAttr('data-submenu');\n        //   }\n        // });\n      }\n\n      return Burn;\n    }()\n  };\n\n  Foundation.Nest = Nest;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  function Timer(elem, options, cb) {\n    var _this = this,\n        duration = options.duration,\n\n    //options is an object for easily adding features later.\n    nameSpace = Object.keys(elem.data())[0] || 'timer',\n        remain = -1,\n        start,\n        timer;\n\n    this.isPaused = false;\n\n    this.restart = function () {\n      remain = -1;\n      clearTimeout(timer);\n      this.start();\n    };\n\n    this.start = function () {\n      this.isPaused = false;\n      // if(!elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n      clearTimeout(timer);\n      remain = remain <= 0 ? duration : remain;\n      elem.data('paused', false);\n      start = Date.now();\n      timer = setTimeout(function () {\n        if (options.infinite) {\n          _this.restart(); //rerun the timer.\n        }\n        cb();\n      }, remain);\n      elem.trigger('timerstart.zf.' + nameSpace);\n    };\n\n    this.pause = function () {\n      this.isPaused = true;\n      //if(elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n      clearTimeout(timer);\n      elem.data('paused', true);\n      var end = Date.now();\n      remain = remain - (end - start);\n      elem.trigger('timerpaused.zf.' + nameSpace);\n    };\n  }\n\n  /**\n   * Runs a callback function when images are fully loaded.\n   * @param {Object} images - Image(s) to check if loaded.\n   * @param {Func} callback - Function to execute when image is fully loaded.\n   */\n  function onImagesLoaded(images, callback) {\n    var self = this,\n        unloaded = images.length;\n\n    if (unloaded === 0) {\n      callback();\n    }\n\n    images.each(function () {\n      if (this.complete) {\n        singleImageLoaded();\n      } else if (typeof this.naturalWidth !== 'undefined' && this.naturalWidth > 0) {\n        singleImageLoaded();\n      } else {\n        $(this).one('load', function () {\n          singleImageLoaded();\n        });\n      }\n    });\n\n    function singleImageLoaded() {\n      unloaded--;\n      if (unloaded === 0) {\n        callback();\n      }\n    }\n  }\n\n  Foundation.Timer = Timer;\n  Foundation.onImagesLoaded = onImagesLoaded;\n}(jQuery);\n//**************************************************\n//**Work inspired by multiple jquery swipe plugins**\n//**Done by Yohai Ararat ***************************\n//**************************************************\n(function ($) {\n\n  $.spotSwipe = {\n    version: '1.0.0',\n    enabled: 'ontouchstart' in document.documentElement,\n    preventDefault: false,\n    moveThreshold: 75,\n    timeThreshold: 200\n  };\n\n  var startPosX,\n      startPosY,\n      startTime,\n      elapsedTime,\n      isMoving = false;\n\n  function onTouchEnd() {\n    //  alert(this);\n    this.removeEventListener('touchmove', onTouchMove);\n    this.removeEventListener('touchend', onTouchEnd);\n    isMoving = false;\n  }\n\n  function onTouchMove(e) {\n    if ($.spotSwipe.preventDefault) {\n      e.preventDefault();\n    }\n    if (isMoving) {\n      var x = e.touches[0].pageX;\n      var y = e.touches[0].pageY;\n      var dx = startPosX - x;\n      var dy = startPosY - y;\n      var dir;\n      elapsedTime = new Date().getTime() - startTime;\n      if (Math.abs(dx) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n        dir = dx > 0 ? 'left' : 'right';\n      }\n      // else if(Math.abs(dy) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n      //   dir = dy > 0 ? 'down' : 'up';\n      // }\n      if (dir) {\n        e.preventDefault();\n        onTouchEnd.call(this);\n        $(this).trigger('swipe', dir).trigger('swipe' + dir);\n      }\n    }\n  }\n\n  function onTouchStart(e) {\n    if (e.touches.length == 1) {\n      startPosX = e.touches[0].pageX;\n      startPosY = e.touches[0].pageY;\n      isMoving = true;\n      startTime = new Date().getTime();\n      this.addEventListener('touchmove', onTouchMove, false);\n      this.addEventListener('touchend', onTouchEnd, false);\n    }\n  }\n\n  function init() {\n    this.addEventListener && this.addEventListener('touchstart', onTouchStart, false);\n  }\n\n  function teardown() {\n    this.removeEventListener('touchstart', onTouchStart);\n  }\n\n  $.event.special.swipe = { setup: init };\n\n  $.each(['left', 'up', 'down', 'right'], function () {\n    $.event.special['swipe' + this] = { setup: function () {\n        function setup() {\n          $(this).on('swipe', $.noop);\n        }\n\n        return setup;\n      }() };\n  });\n})(jQuery);\n/****************************************************\n * Method for adding psuedo drag events to elements *\n ***************************************************/\n!function ($) {\n  $.fn.addTouch = function () {\n    this.each(function (i, el) {\n      $(el).bind('touchstart touchmove touchend touchcancel', function () {\n        //we pass the original event object because the jQuery event\n        //object is normalized to w3c specs and does not provide the TouchList\n        handleTouch(event);\n      });\n    });\n\n    var handleTouch = function handleTouch(event) {\n      var touches = event.changedTouches,\n          first = touches[0],\n          eventTypes = {\n        touchstart: 'mousedown',\n        touchmove: 'mousemove',\n        touchend: 'mouseup'\n      },\n          type = eventTypes[event.type],\n          simulatedEvent;\n\n      if ('MouseEvent' in window && typeof window.MouseEvent === 'function') {\n        simulatedEvent = new window.MouseEvent(type, {\n          'bubbles': true,\n          'cancelable': true,\n          'screenX': first.screenX,\n          'screenY': first.screenY,\n          'clientX': first.clientX,\n          'clientY': first.clientY\n        });\n      } else {\n        simulatedEvent = document.createEvent('MouseEvent');\n        simulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0 /*left*/, null);\n      }\n      first.target.dispatchEvent(simulatedEvent);\n    };\n  };\n}(jQuery);\n\n//**********************************\n//**From the jQuery Mobile Library**\n//**need to recreate functionality**\n//**and try to improve if possible**\n//**********************************\n\n/* Removing the jQuery function ****\n************************************\n\n(function( $, window, undefined ) {\n\n\tvar $document = $( document ),\n\t\t// supportTouch = $.mobile.support.touch,\n\t\ttouchStartEvent = 'touchstart'//supportTouch ? \"touchstart\" : \"mousedown\",\n\t\ttouchStopEvent = 'touchend'//supportTouch ? \"touchend\" : \"mouseup\",\n\t\ttouchMoveEvent = 'touchmove'//supportTouch ? \"touchmove\" : \"mousemove\";\n\n\t// setup new event shortcuts\n\t$.each( ( \"touchstart touchmove touchend \" +\n\t\t\"swipe swipeleft swiperight\" ).split( \" \" ), function( i, name ) {\n\n\t\t$.fn[ name ] = function( fn ) {\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\n\t\t};\n\n\t\t// jQuery < 1.8\n\t\tif ( $.attrFn ) {\n\t\t\t$.attrFn[ name ] = true;\n\t\t}\n\t});\n\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\n\t\tvar originalType = event.type;\n\t\tevent.type = eventType;\n\t\tif ( bubble ) {\n\t\t\t$.event.trigger( event, undefined, obj );\n\t\t} else {\n\t\t\t$.event.dispatch.call( obj, event );\n\t\t}\n\t\tevent.type = originalType;\n\t}\n\n\t// also handles taphold\n\n\t// Also handles swipeleft, swiperight\n\t$.event.special.swipe = {\n\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\n\t\tscrollSupressionThreshold: 30,\n\n\t\t// More time than this, and it isn't a swipe.\n\t\tdurationThreshold: 1000,\n\n\t\t// Swipe horizontal displacement must be more than this.\n\t\thorizontalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\t// Swipe vertical displacement must be less than this.\n\t\tverticalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\tgetLocation: function ( event ) {\n\t\t\tvar winPageX = window.pageXOffset,\n\t\t\t\twinPageY = window.pageYOffset,\n\t\t\t\tx = event.clientX,\n\t\t\t\ty = event.clientY;\n\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\n\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\n\t\t\t\tx = x - winPageX;\n\t\t\t\ty = y - winPageY;\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\n\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\n\t\t\t\tx = event.pageX - winPageX;\n\t\t\t\ty = event.pageY - winPageY;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\n\t\tstart: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\n\t\t\t\t\t\torigin: $( event.target )\n\t\t\t\t\t};\n\t\t},\n\n\t\tstop: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\n\t\t\t\t\t};\n\t\t},\n\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\n\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\n\t\t},\n\n\t\t// This serves as a flag to ensure that at most one swipe event event is\n\t\t// in work at any given time\n\t\teventInProgress: false,\n\n\t\tsetup: function() {\n\t\t\tvar events,\n\t\t\t\tthisObject = this,\n\t\t\t\t$this = $( thisObject ),\n\t\t\t\tcontext = {};\n\n\t\t\t// Retrieve the events data for this element and add the swipe context\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( !events ) {\n\t\t\t\tevents = { length: 0 };\n\t\t\t\t$.data( this, \"mobile-events\", events );\n\t\t\t}\n\t\t\tevents.length++;\n\t\t\tevents.swipe = context;\n\n\t\t\tcontext.start = function( event ) {\n\n\t\t\t\t// Bail if we're already working on a swipe event\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\n\n\t\t\t\tvar stop,\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\n\t\t\t\t\torigTarget = event.target,\n\t\t\t\t\temitted = false;\n\n\t\t\t\tcontext.move = function( event ) {\n\t\t\t\t\tif ( !start || event.isDefaultPrevented() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\n\t\t\t\t\tif ( !emitted ) {\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\n\t\t\t\t\t\tif ( emitted ) {\n\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// prevent scrolling\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tcontext.stop = function() {\n\t\t\t\t\t\temitted = true;\n\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t\t\tcontext.move = null;\n\t\t\t\t};\n\n\t\t\t\t$document.on( touchMoveEvent, context.move )\n\t\t\t\t\t.one( touchStopEvent, context.stop );\n\t\t\t};\n\t\t\t$this.on( touchStartEvent, context.start );\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar events, context;\n\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( events ) {\n\t\t\t\tcontext = events.swipe;\n\t\t\t\tdelete events.swipe;\n\t\t\t\tevents.length--;\n\t\t\t\tif ( events.length === 0 ) {\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( context ) {\n\t\t\t\tif ( context.start ) {\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\n\t\t\t\t}\n\t\t\t\tif ( context.move ) {\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t}\n\t\t\t\tif ( context.stop ) {\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.each({\n\t\tswipeleft: \"swipe.left\",\n\t\tswiperight: \"swipe.right\"\n\t}, function( event, sourceEvent ) {\n\n\t\t$.event.special[ event ] = {\n\t\t\tsetup: function() {\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\t$( this ).unbind( sourceEvent );\n\t\t\t}\n\t\t};\n\t});\n})( jQuery, this );\n*/\n'use strict';\n\n!function ($) {\n\n  var MutationObserver = function () {\n    var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n    for (var i = 0; i < prefixes.length; i++) {\n      if (prefixes[i] + 'MutationObserver' in window) {\n        return window[prefixes[i] + 'MutationObserver'];\n      }\n    }\n    return false;\n  }();\n\n  var triggers = function triggers(el, type) {\n    el.data(type).split(' ').forEach(function (id) {\n      $('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);\n    });\n  };\n  // Elements with [data-open] will reveal a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-open]', function () {\n    triggers($(this), 'open');\n  });\n\n  // Elements with [data-close] will close a plugin that supports it when clicked.\n  // If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n  $(document).on('click.zf.trigger', '[data-close]', function () {\n    var id = $(this).data('close');\n    if (id) {\n      triggers($(this), 'close');\n    } else {\n      $(this).trigger('close.zf.trigger');\n    }\n  });\n\n  // Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-toggle]', function () {\n    triggers($(this), 'toggle');\n  });\n\n  // Elements with [data-closable] will respond to close.zf.trigger events.\n  $(document).on('close.zf.trigger', '[data-closable]', function (e) {\n    e.stopPropagation();\n    var animation = $(this).data('closable');\n\n    if (animation !== '') {\n      Foundation.Motion.animateOut($(this), animation, function () {\n        $(this).trigger('closed.zf');\n      });\n    } else {\n      $(this).fadeOut().trigger('closed.zf');\n    }\n  });\n\n  $(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function () {\n    var id = $(this).data('toggle-focus');\n    $('#' + id).triggerHandler('toggle.zf.trigger', [$(this)]);\n  });\n\n  /**\n  * Fires once after all other scripts have loaded\n  * @function\n  * @private\n  */\n  $(window).load(function () {\n    checkListeners();\n  });\n\n  function checkListeners() {\n    eventsListener();\n    resizeListener();\n    scrollListener();\n    closemeListener();\n  }\n\n  //******** only fires this function once on load, if there's something to watch ********\n  function closemeListener(pluginName) {\n    var yetiBoxes = $('[data-yeti-box]'),\n        plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n    if (pluginName) {\n      if (typeof pluginName === 'string') {\n        plugNames.push(pluginName);\n      } else if ((typeof pluginName === 'undefined' ? 'undefined' : (0, _typeof3['default'])(pluginName)) === 'object' && typeof pluginName[0] === 'string') {\n        plugNames.concat(pluginName);\n      } else {\n        console.error('Plugin names must be strings');\n      }\n    }\n    if (yetiBoxes.length) {\n      var listeners = plugNames.map(function (name) {\n        return 'closeme.zf.' + name;\n      }).join(' ');\n\n      $(window).off(listeners).on(listeners, function (e, pluginId) {\n        var plugin = e.namespace.split('.')[0];\n        var plugins = $('[data-' + plugin + ']').not('[data-yeti-box=\"' + pluginId + '\"]');\n\n        plugins.each(function () {\n          var _this = $(this);\n\n          _this.triggerHandler('close.zf.trigger', [_this]);\n        });\n      });\n    }\n  }\n\n  function resizeListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-resize]');\n    if ($nodes.length) {\n      $(window).off('resize.zf.trigger').on('resize.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('resizeme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a resize event\n          $nodes.attr('data-events', \"resize\");\n        }, debounce || 10); //default time to emit resize event\n      });\n    }\n  }\n\n  function scrollListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-scroll]');\n    if ($nodes.length) {\n      $(window).off('scroll.zf.trigger').on('scroll.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('scrollme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a scroll event\n          $nodes.attr('data-events', \"scroll\");\n        }, debounce || 10); //default time to emit scroll event\n      });\n    }\n  }\n\n  function eventsListener() {\n    if (!MutationObserver) {\n      return false;\n    }\n    var nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\n\n    //element callback\n    var listeningElementsMutation = function listeningElementsMutation(mutationRecordsList) {\n      var $target = $(mutationRecordsList[0].target);\n      //trigger the event handler for the element depending on type\n      switch ($target.attr(\"data-events\")) {\n\n        case \"resize\":\n          $target.triggerHandler('resizeme.zf.trigger', [$target]);\n          break;\n\n        case \"scroll\":\n          $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n          break;\n\n        // case \"mutate\" :\n        // console.log('mutate', $target);\n        // $target.triggerHandler('mutate.zf.trigger');\n        //\n        // //make sure we don't get stuck in an infinite loop from sloppy codeing\n        // if ($target.index('[data-mutate]') == $(\"[data-mutate]\").length-1) {\n        //   domMutationObserver();\n        // }\n        // break;\n\n        default:\n          return false;\n        //nothing\n      }\n    };\n\n    if (nodes.length) {\n      //for each element that needs to listen for resizing, scrolling, (or coming soon mutation) add a single observer\n      for (var i = 0; i <= nodes.length - 1; i++) {\n        var elementObserver = new MutationObserver(listeningElementsMutation);\n        elementObserver.observe(nodes[i], { attributes: true, childList: false, characterData: false, subtree: false, attributeFilter: [\"data-events\"] });\n      }\n    }\n  }\n\n  // ------------------------------------\n\n  // [PH]\n  // Foundation.CheckWatchers = checkWatchers;\n  Foundation.IHearYou = checkListeners;\n  // Foundation.ISeeYou = scrollListener;\n  // Foundation.IFeelYou = closemeListener;\n}(jQuery);\n\n// function domMutationObserver(debounce) {\n//   // !!! This is coming soon and needs more work; not active  !!! //\n//   var timer,\n//   nodes = document.querySelectorAll('[data-mutate]');\n//   //\n//   if (nodes.length) {\n//     // var MutationObserver = (function () {\n//     //   var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n//     //   for (var i=0; i < prefixes.length; i++) {\n//     //     if (prefixes[i] + 'MutationObserver' in window) {\n//     //       return window[prefixes[i] + 'MutationObserver'];\n//     //     }\n//     //   }\n//     //   return false;\n//     // }());\n//\n//\n//     //for the body, we need to listen for all changes effecting the style and class attributes\n//     var bodyObserver = new MutationObserver(bodyMutation);\n//     bodyObserver.observe(document.body, { attributes: true, childList: true, characterData: false, subtree:true, attributeFilter:[\"style\", \"class\"]});\n//\n//\n//     //body callback\n//     function bodyMutation(mutate) {\n//       //trigger all listening elements and signal a mutation event\n//       if (timer) { clearTimeout(timer); }\n//\n//       timer = setTimeout(function() {\n//         bodyObserver.disconnect();\n//         $('[data-mutate]').attr('data-events',\"mutate\");\n//       }, debounce || 150);\n//     }\n//   }\n// }\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Abide module.\n   * @module foundation.abide\n   */\n\n  var Abide = function () {\n    /**\n     * Creates a new instance of Abide.\n     * @class\n     * @fires Abide#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Abide(element) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _classCallCheck(this, Abide);\n\n      this.$element = element;\n      this.options = $.extend({}, Abide.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Abide');\n    }\n\n    /**\n     * Initializes the Abide plugin and calls functions to get Abide functioning on load.\n     * @private\n     */\n\n    _createClass(Abide, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          this.$inputs = this.$element.find('input, textarea, select');\n\n          this._events();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Initializes events for Abide.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this2 = this;\n\n          this.$element.off('.abide').on('reset.zf.abide', function () {\n            _this2.resetForm();\n          }).on('submit.zf.abide', function () {\n            return _this2.validateForm();\n          });\n\n          if (this.options.validateOn === 'fieldChange') {\n            this.$inputs.off('change.zf.abide').on('change.zf.abide', function (e) {\n              _this2.validateInput($(e.target));\n            });\n          }\n\n          if (this.options.liveValidate) {\n            this.$inputs.off('input.zf.abide').on('input.zf.abide', function (e) {\n              _this2.validateInput($(e.target));\n            });\n          }\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Calls necessary functions to update Abide upon DOM change\n       * @private\n       */\n\n    }, {\n      key: '_reflow',\n      value: function () {\n        function _reflow() {\n          this._init();\n        }\n\n        return _reflow;\n      }()\n\n      /**\n       * Checks whether or not a form element has the required attribute and if it's checked or not\n       * @param {Object} element - jQuery object to check for required attribute\n       * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty\n       */\n\n    }, {\n      key: 'requiredCheck',\n      value: function () {\n        function requiredCheck($el) {\n          if (!$el.attr('required')) return true;\n\n          var isGood = true;\n\n          switch ($el[0].type) {\n            case 'checkbox':\n              isGood = $el[0].checked;\n              break;\n\n            case 'select':\n            case 'select-one':\n            case 'select-multiple':\n              var opt = $el.find('option:selected');\n              if (!opt.length || !opt.val()) isGood = false;\n              break;\n\n            default:\n              if (!$el.val() || !$el.val().length) isGood = false;\n          }\n\n          return isGood;\n        }\n\n        return requiredCheck;\n      }()\n\n      /**\n       * Based on $el, get the first element with selector in this order:\n       * 1. The element's direct sibling('s).\n       * 3. The element's parent's children.\n       *\n       * This allows for multiple form errors per input, though if none are found, no form errors will be shown.\n       *\n       * @param {Object} $el - jQuery object to use as reference to find the form error selector.\n       * @returns {Object} jQuery object with the selector.\n       */\n\n    }, {\n      key: 'findFormError',\n      value: function () {\n        function findFormError($el) {\n          var $error = $el.siblings(this.options.formErrorSelector);\n\n          if (!$error.length) {\n            $error = $el.parent().find(this.options.formErrorSelector);\n          }\n\n          return $error;\n        }\n\n        return findFormError;\n      }()\n\n      /**\n       * Get the first element in this order:\n       * 2. The <label> with the attribute `[for=\"someInputId\"]`\n       * 3. The `.closest()` <label>\n       *\n       * @param {Object} $el - jQuery object to check for required attribute\n       * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty\n       */\n\n    }, {\n      key: 'findLabel',\n      value: function () {\n        function findLabel($el) {\n          var id = $el[0].id;\n          var $label = this.$element.find('label[for=\"' + id + '\"]');\n\n          if (!$label.length) {\n            return $el.closest('label');\n          }\n\n          return $label;\n        }\n\n        return findLabel;\n      }()\n\n      /**\n       * Get the set of labels associated with a set of radio els in this order\n       * 2. The <label> with the attribute `[for=\"someInputId\"]`\n       * 3. The `.closest()` <label>\n       *\n       * @param {Object} $el - jQuery object to check for required attribute\n       * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty\n       */\n\n    }, {\n      key: 'findRadioLabels',\n      value: function () {\n        function findRadioLabels($els) {\n          var _this3 = this;\n\n          var labels = $els.map(function (i, el) {\n            var id = el.id;\n            var $label = _this3.$element.find('label[for=\"' + id + '\"]');\n\n            if (!$label.length) {\n              $label = $(el).closest('label');\n            }\n            return $label[0];\n          });\n\n          return $(labels);\n        }\n\n        return findRadioLabels;\n      }()\n\n      /**\n       * Adds the CSS error class as specified by the Abide settings to the label, input, and the form\n       * @param {Object} $el - jQuery object to add the class to\n       */\n\n    }, {\n      key: 'addErrorClasses',\n      value: function () {\n        function addErrorClasses($el) {\n          var $label = this.findLabel($el);\n          var $formError = this.findFormError($el);\n\n          if ($label.length) {\n            $label.addClass(this.options.labelErrorClass);\n          }\n\n          if ($formError.length) {\n            $formError.addClass(this.options.formErrorClass);\n          }\n\n          $el.addClass(this.options.inputErrorClass).attr('data-invalid', '');\n        }\n\n        return addErrorClasses;\n      }()\n\n      /**\n       * Remove CSS error classes etc from an entire radio button group\n       * @param {String} groupName - A string that specifies the name of a radio button group\n       *\n       */\n\n    }, {\n      key: 'removeRadioErrorClasses',\n      value: function () {\n        function removeRadioErrorClasses(groupName) {\n          var $els = this.$element.find(':radio[name=\"' + groupName + '\"]');\n          var $labels = this.findRadioLabels($els);\n          var $formErrors = this.findFormError($els);\n\n          if ($labels.length) {\n            $labels.removeClass(this.options.labelErrorClass);\n          }\n\n          if ($formErrors.length) {\n            $formErrors.removeClass(this.options.formErrorClass);\n          }\n\n          $els.removeClass(this.options.inputErrorClass).removeAttr('data-invalid');\n        }\n\n        return removeRadioErrorClasses;\n      }()\n\n      /**\n       * Removes CSS error class as specified by the Abide settings from the label, input, and the form\n       * @param {Object} $el - jQuery object to remove the class from\n       */\n\n    }, {\n      key: 'removeErrorClasses',\n      value: function () {\n        function removeErrorClasses($el) {\n          // radios need to clear all of the els\n          if ($el[0].type == 'radio') {\n            return this.removeRadioErrorClasses($el.attr('name'));\n          }\n\n          var $label = this.findLabel($el);\n          var $formError = this.findFormError($el);\n\n          if ($label.length) {\n            $label.removeClass(this.options.labelErrorClass);\n          }\n\n          if ($formError.length) {\n            $formError.removeClass(this.options.formErrorClass);\n          }\n\n          $el.removeClass(this.options.inputErrorClass).removeAttr('data-invalid');\n        }\n\n        return removeErrorClasses;\n      }()\n\n      /**\n       * Goes through a form to find inputs and proceeds to validate them in ways specific to their type\n       * @fires Abide#invalid\n       * @fires Abide#valid\n       * @param {Object} element - jQuery object to validate, should be an HTML input\n       * @returns {Boolean} goodToGo - If the input is valid or not.\n       */\n\n    }, {\n      key: 'validateInput',\n      value: function () {\n        function validateInput($el) {\n          var clearRequire = this.requiredCheck($el),\n              validated = false,\n              customValidator = true,\n              validator = $el.attr('data-validator'),\n              equalTo = true;\n\n          // don't validate ignored inputs or hidden inputs\n          if ($el.is('[data-abide-ignore]') || $el.is('[type=\"hidden\"]')) {\n            return true;\n          }\n\n          switch ($el[0].type) {\n            case 'radio':\n              validated = this.validateRadio($el.attr('name'));\n              break;\n\n            case 'checkbox':\n              validated = clearRequire;\n              break;\n\n            case 'select':\n            case 'select-one':\n            case 'select-multiple':\n              validated = clearRequire;\n              break;\n\n            default:\n              validated = this.validateText($el);\n          }\n\n          if (validator) {\n            customValidator = this.matchValidation($el, validator, $el.attr('required'));\n          }\n\n          if ($el.attr('data-equalto')) {\n            equalTo = this.options.validators.equalTo($el);\n          }\n\n          var goodToGo = [clearRequire, validated, customValidator, equalTo].indexOf(false) === -1;\n          var message = (goodToGo ? 'valid' : 'invalid') + '.zf.abide';\n\n          this[goodToGo ? 'removeErrorClasses' : 'addErrorClasses']($el);\n\n          /**\n           * Fires when the input is done checking for validation. Event trigger is either `valid.zf.abide` or `invalid.zf.abide`\n           * Trigger includes the DOM element of the input.\n           * @event Abide#valid\n           * @event Abide#invalid\n           */\n          $el.trigger(message, [$el]);\n\n          return goodToGo;\n        }\n\n        return validateInput;\n      }()\n\n      /**\n       * Goes through a form and if there are any invalid inputs, it will display the form error element\n       * @returns {Boolean} noError - true if no errors were detected...\n       * @fires Abide#formvalid\n       * @fires Abide#forminvalid\n       */\n\n    }, {\n      key: 'validateForm',\n      value: function () {\n        function validateForm() {\n          var acc = [];\n          var _this = this;\n\n          this.$inputs.each(function () {\n            acc.push(_this.validateInput($(this)));\n          });\n\n          var noError = acc.indexOf(false) === -1;\n\n          this.$element.find('[data-abide-error]').css('display', noError ? 'none' : 'block');\n\n          /**\n           * Fires when the form is finished validating. Event trigger is either `formvalid.zf.abide` or `forminvalid.zf.abide`.\n           * Trigger includes the element of the form.\n           * @event Abide#formvalid\n           * @event Abide#forminvalid\n           */\n          this.$element.trigger((noError ? 'formvalid' : 'forminvalid') + '.zf.abide', [this.$element]);\n\n          return noError;\n        }\n\n        return validateForm;\n      }()\n\n      /**\n       * Determines whether or a not a text input is valid based on the pattern specified in the attribute. If no matching pattern is found, returns true.\n       * @param {Object} $el - jQuery object to validate, should be a text input HTML element\n       * @param {String} pattern - string value of one of the RegEx patterns in Abide.options.patterns\n       * @returns {Boolean} Boolean value depends on whether or not the input value matches the pattern specified\n       */\n\n    }, {\n      key: 'validateText',\n      value: function () {\n        function validateText($el, pattern) {\n          // A pattern can be passed to this function, or it will be infered from the input's \"pattern\" attribute, or it's \"type\" attribute\n          pattern = pattern || $el.attr('pattern') || $el.attr('type');\n          var inputText = $el.val();\n          var valid = false;\n\n          if (inputText.length) {\n            // If the pattern attribute on the element is in Abide's list of patterns, then test that regexp\n            if (this.options.patterns.hasOwnProperty(pattern)) {\n              valid = this.options.patterns[pattern].test(inputText);\n            }\n            // If the pattern name isn't also the type attribute of the field, then test it as a regexp\n            else if (pattern !== $el.attr('type')) {\n                valid = new RegExp(pattern).test(inputText);\n              } else {\n                valid = true;\n              }\n          }\n          // An empty field is valid if it's not required\n          else if (!$el.prop('required')) {\n              valid = true;\n            }\n\n          return valid;\n        }\n\n        return validateText;\n      }()\n\n      /**\n       * Determines whether or a not a radio input is valid based on whether or not it is required and selected. Although the function targets a single `<input>`, it validates by checking the `required` and `checked` properties of all radio buttons in its group.\n       * @param {String} groupName - A string that specifies the name of a radio button group\n       * @returns {Boolean} Boolean value depends on whether or not at least one radio input has been selected (if it's required)\n       */\n\n    }, {\n      key: 'validateRadio',\n      value: function () {\n        function validateRadio(groupName) {\n          // If at least one radio in the group has the `required` attribute, the group is considered required\n          // Per W3C spec, all radio buttons in a group should have `required`, but we're being nice\n          var $group = this.$element.find(':radio[name=\"' + groupName + '\"]');\n          var valid = false,\n              required = false;\n\n          // For the group to be required, at least one radio needs to be required\n          $group.each(function (i, e) {\n            if ($(e).attr('required')) {\n              required = true;\n            }\n          });\n          if (!required) valid = true;\n\n          if (!valid) {\n            // For the group to be valid, at least one radio needs to be checked\n            $group.each(function (i, e) {\n              if ($(e).prop('checked')) {\n                valid = true;\n              }\n            });\n          };\n\n          return valid;\n        }\n\n        return validateRadio;\n      }()\n\n      /**\n       * Determines if a selected input passes a custom validation function. Multiple validations can be used, if passed to the element with `data-validator=\"foo bar baz\"` in a space separated listed.\n       * @param {Object} $el - jQuery input element.\n       * @param {String} validators - a string of function names matching functions in the Abide.options.validators object.\n       * @param {Boolean} required - self explanatory?\n       * @returns {Boolean} - true if validations passed.\n       */\n\n    }, {\n      key: 'matchValidation',\n      value: function () {\n        function matchValidation($el, validators, required) {\n          var _this4 = this;\n\n          required = required ? true : false;\n\n          var clear = validators.split(' ').map(function (v) {\n            return _this4.options.validators[v]($el, required, $el.parent());\n          });\n          return clear.indexOf(false) === -1;\n        }\n\n        return matchValidation;\n      }()\n\n      /**\n       * Resets form inputs and styles\n       * @fires Abide#formreset\n       */\n\n    }, {\n      key: 'resetForm',\n      value: function () {\n        function resetForm() {\n          var $form = this.$element,\n              opts = this.options;\n\n          $('.' + opts.labelErrorClass, $form).not('small').removeClass(opts.labelErrorClass);\n          $('.' + opts.inputErrorClass, $form).not('small').removeClass(opts.inputErrorClass);\n          $(opts.formErrorSelector + '.' + opts.formErrorClass).removeClass(opts.formErrorClass);\n          $form.find('[data-abide-error]').css('display', 'none');\n          $(':input', $form).not(':button, :submit, :reset, :hidden, :radio, :checkbox, [data-abide-ignore]').val('').removeAttr('data-invalid');\n          $(':input:radio', $form).not('[data-abide-ignore]').prop('checked', false).removeAttr('data-invalid');\n          $(':input:checkbox', $form).not('[data-abide-ignore]').prop('checked', false).removeAttr('data-invalid');\n          /**\n           * Fires when the form has been reset.\n           * @event Abide#formreset\n           */\n          $form.trigger('formreset.zf.abide', [$form]);\n        }\n\n        return resetForm;\n      }()\n\n      /**\n       * Destroys an instance of Abide.\n       * Removes error styles and classes from elements, without resetting their values.\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          var _this = this;\n          this.$element.off('.abide').find('[data-abide-error]').css('display', 'none');\n\n          this.$inputs.off('.abide').each(function () {\n            _this.removeErrorClasses($(this));\n          });\n\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Abide;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n  Abide.defaults = {\n    /**\n     * The default event to validate inputs. Checkboxes and radios validate immediately.\n     * Remove or change this value for manual validation.\n     * @option\n     * @example 'fieldChange'\n     */\n    validateOn: 'fieldChange',\n\n    /**\n     * Class to be applied to input labels on failed validation.\n     * @option\n     * @example 'is-invalid-label'\n     */\n    labelErrorClass: 'is-invalid-label',\n\n    /**\n     * Class to be applied to inputs on failed validation.\n     * @option\n     * @example 'is-invalid-input'\n     */\n    inputErrorClass: 'is-invalid-input',\n\n    /**\n     * Class selector to use to target Form Errors for show/hide.\n     * @option\n     * @example '.form-error'\n     */\n    formErrorSelector: '.form-error',\n\n    /**\n     * Class added to Form Errors on failed validation.\n     * @option\n     * @example 'is-visible'\n     */\n    formErrorClass: 'is-visible',\n\n    /**\n     * Set to true to validate text inputs on any value change.\n     * @option\n     * @example false\n     */\n    liveValidate: false,\n\n    patterns: {\n      alpha: /^[a-zA-Z]+$/,\n      alpha_numeric: /^[a-zA-Z0-9]+$/,\n      integer: /^[-+]?\\d+$/,\n      number: /^[-+]?\\d*(?:[\\.\\,]\\d+)?$/,\n\n      // amex, visa, diners\n      card: /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/,\n      cvv: /^([0-9]){3,4}$/,\n\n      // http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#valid-e-mail-address\n      email: /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,\n\n      url: /^(https?|ftp|file|ssh):\\/\\/(((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-zA-Z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-zA-Z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-zA-Z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-zA-Z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-zA-Z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-zA-Z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/,\n      // abc.de\n      domain: /^([a-zA-Z0-9]([a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,8}$/,\n\n      datetime: /^([0-2][0-9]{3})\\-([0-1][0-9])\\-([0-3][0-9])T([0-5][0-9])\\:([0-5][0-9])\\:([0-5][0-9])(Z|([\\-\\+]([0-1][0-9])\\:00))$/,\n      // YYYY-MM-DD\n      date: /(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,\n      // HH:MM:SS\n      time: /^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,\n      dateISO: /^\\d{4}[\\/\\-]\\d{1,2}[\\/\\-]\\d{1,2}$/,\n      // MM/DD/YYYY\n      month_day_year: /^(0[1-9]|1[012])[- \\/.](0[1-9]|[12][0-9]|3[01])[- \\/.]\\d{4}$/,\n      // DD/MM/YYYY\n      day_month_year: /^(0[1-9]|[12][0-9]|3[01])[- \\/.](0[1-9]|1[012])[- \\/.]\\d{4}$/,\n\n      // #FFF or #FFFFFF\n      color: /^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/\n    },\n\n    /**\n     * Optional validation functions to be used. `equalTo` being the only default included function.\n     * Functions should return only a boolean if the input is valid or not. Functions are given the following arguments:\n     * el : The jQuery element to validate.\n     * required : Boolean value of the required attribute be present or not.\n     * parent : The direct parent of the input.\n     * @option\n     */\n    validators: {\n      equalTo: function () {\n        function equalTo(el, required, parent) {\n          return $('#' + el.attr('data-equalto')).val() === el.val();\n        }\n\n        return equalTo;\n      }()\n    }\n  };\n\n  // Window exports\n  Foundation.plugin(Abide, 'Abide');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Accordion module.\n   * @module foundation.accordion\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   */\n\n  var Accordion = function () {\n    /**\n     * Creates a new instance of an accordion.\n     * @class\n     * @fires Accordion#init\n     * @param {jQuery} element - jQuery object to make into an accordion.\n     * @param {Object} options - a plain object with settings to override the default options.\n     */\n\n    function Accordion(element, options) {\n      _classCallCheck(this, Accordion);\n\n      this.$element = element;\n      this.options = $.extend({}, Accordion.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Accordion');\n      Foundation.Keyboard.register('Accordion', {\n        'ENTER': 'toggle',\n        'SPACE': 'toggle',\n        'ARROW_DOWN': 'next',\n        'ARROW_UP': 'previous'\n      });\n    }\n\n    /**\n     * Initializes the accordion by animating the preset active pane(s).\n     * @private\n     */\n\n    _createClass(Accordion, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          this.$element.attr('role', 'tablist');\n          this.$tabs = this.$element.children('li, [data-accordion-item]');\n\n          this.$tabs.each(function (idx, el) {\n            var $el = $(el),\n                $content = $el.children('[data-tab-content]'),\n                id = $content[0].id || Foundation.GetYoDigits(6, 'accordion'),\n                linkId = el.id || id + '-label';\n\n            $el.find('a:first').attr({\n              'aria-controls': id,\n              'role': 'tab',\n              'id': linkId,\n              'aria-expanded': false,\n              'aria-selected': false\n            });\n\n            $content.attr({ 'role': 'tabpanel', 'aria-labelledby': linkId, 'aria-hidden': true, 'id': id });\n          });\n          var $initActive = this.$element.find('.is-active').children('[data-tab-content]');\n          if ($initActive.length) {\n            this.down($initActive, true);\n          }\n          this._events();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Adds event handlers for items within the accordion.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this = this;\n\n          this.$tabs.each(function () {\n            var $elem = $(this);\n            var $tabContent = $elem.children('[data-tab-content]');\n            if ($tabContent.length) {\n              $elem.children('a').off('click.zf.accordion keydown.zf.accordion').on('click.zf.accordion', function (e) {\n                // $(this).children('a').on('click.zf.accordion', function(e) {\n                e.preventDefault();\n                if ($elem.hasClass('is-active')) {\n                  if (_this.options.allowAllClosed || $elem.siblings().hasClass('is-active')) {\n                    _this.up($tabContent);\n                  }\n                } else {\n                  _this.down($tabContent);\n                }\n              }).on('keydown.zf.accordion', function (e) {\n                Foundation.Keyboard.handleKey(e, 'Accordion', {\n                  toggle: function () {\n                    function toggle() {\n                      _this.toggle($tabContent);\n                    }\n\n                    return toggle;\n                  }(),\n                  next: function () {\n                    function next() {\n                      var $a = $elem.next().find('a').focus();\n                      if (!_this.options.multiExpand) {\n                        $a.trigger('click.zf.accordion');\n                      }\n                    }\n\n                    return next;\n                  }(),\n                  previous: function () {\n                    function previous() {\n                      var $a = $elem.prev().find('a').focus();\n                      if (!_this.options.multiExpand) {\n                        $a.trigger('click.zf.accordion');\n                      }\n                    }\n\n                    return previous;\n                  }(),\n                  handled: function () {\n                    function handled() {\n                      e.preventDefault();\n                      e.stopPropagation();\n                    }\n\n                    return handled;\n                  }()\n                });\n              });\n            }\n          });\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Toggles the selected content pane's open/close state.\n       * @param {jQuery} $target - jQuery object of the pane to toggle.\n       * @function\n       */\n\n    }, {\n      key: 'toggle',\n      value: function () {\n        function toggle($target) {\n          if ($target.parent().hasClass('is-active')) {\n            if (this.options.allowAllClosed || $target.parent().siblings().hasClass('is-active')) {\n              this.up($target);\n            } else {\n              return;\n            }\n          } else {\n            this.down($target);\n          }\n        }\n\n        return toggle;\n      }()\n\n      /**\n       * Opens the accordion tab defined by `$target`.\n       * @param {jQuery} $target - Accordion pane to open.\n       * @param {Boolean} firstTime - flag to determine if reflow should happen.\n       * @fires Accordion#down\n       * @function\n       */\n\n    }, {\n      key: 'down',\n      value: function () {\n        function down($target, firstTime) {\n          var _this2 = this;\n\n          if (!this.options.multiExpand && !firstTime) {\n            var $currentActive = this.$element.children('.is-active').children('[data-tab-content]');\n            if ($currentActive.length) {\n              this.up($currentActive);\n            }\n          }\n\n          $target.attr('aria-hidden', false).parent('[data-tab-content]').addBack().parent().addClass('is-active');\n\n          $target.slideDown(this.options.slideSpeed, function () {\n            /**\n             * Fires when the tab is done opening.\n             * @event Accordion#down\n             */\n            _this2.$element.trigger('down.zf.accordion', [$target]);\n          });\n\n          $('#' + $target.attr('aria-labelledby')).attr({\n            'aria-expanded': true,\n            'aria-selected': true\n          });\n        }\n\n        return down;\n      }()\n\n      /**\n       * Closes the tab defined by `$target`.\n       * @param {jQuery} $target - Accordion tab to close.\n       * @fires Accordion#up\n       * @function\n       */\n\n    }, {\n      key: 'up',\n      value: function () {\n        function up($target) {\n          var $aunts = $target.parent().siblings(),\n              _this = this;\n          var canClose = this.options.multiExpand ? $aunts.hasClass('is-active') : $target.parent().hasClass('is-active');\n\n          if (!this.options.allowAllClosed && !canClose) {\n            return;\n          }\n\n          // Foundation.Move(this.options.slideSpeed, $target, function(){\n          $target.slideUp(_this.options.slideSpeed, function () {\n            /**\n             * Fires when the tab is done collapsing up.\n             * @event Accordion#up\n             */\n            _this.$element.trigger('up.zf.accordion', [$target]);\n          });\n          // });\n\n          $target.attr('aria-hidden', true).parent().removeClass('is-active');\n\n          $('#' + $target.attr('aria-labelledby')).attr({\n            'aria-expanded': false,\n            'aria-selected': false\n          });\n        }\n\n        return up;\n      }()\n\n      /**\n       * Destroys an instance of an accordion.\n       * @fires Accordion#destroyed\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$element.find('[data-tab-content]').stop(true).slideUp(0).css('display', '');\n          this.$element.find('a').off('.zf.accordion');\n\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Accordion;\n  }();\n\n  Accordion.defaults = {\n    /**\n     * Amount of time to animate the opening of an accordion pane.\n     * @option\n     * @example 250\n     */\n    slideSpeed: 250,\n    /**\n     * Allow the accordion to have multiple open panes.\n     * @option\n     * @example false\n     */\n    multiExpand: false,\n    /**\n     * Allow the accordion to close all panes.\n     * @option\n     * @example false\n     */\n    allowAllClosed: false\n  };\n\n  // Window exports\n  Foundation.plugin(Accordion, 'Accordion');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * AccordionMenu module.\n   * @module foundation.accordionMenu\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   * @requires foundation.util.nest\n   */\n\n  var AccordionMenu = function () {\n    /**\n     * Creates a new instance of an accordion menu.\n     * @class\n     * @fires AccordionMenu#init\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function AccordionMenu(element, options) {\n      _classCallCheck(this, AccordionMenu);\n\n      this.$element = element;\n      this.options = $.extend({}, AccordionMenu.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'accordion');\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'AccordionMenu');\n      Foundation.Keyboard.register('AccordionMenu', {\n        'ENTER': 'toggle',\n        'SPACE': 'toggle',\n        'ARROW_RIGHT': 'open',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'close',\n        'ESCAPE': 'closeAll',\n        'TAB': 'down',\n        'SHIFT_TAB': 'up'\n      });\n    }\n\n    /**\n     * Initializes the accordion menu by hiding all nested menus.\n     * @private\n     */\n\n    _createClass(AccordionMenu, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          this.$element.find('[data-submenu]').not('.is-active').slideUp(0); //.find('a').css('padding-left', '1rem');\n          this.$element.attr({\n            'role': 'tablist',\n            'aria-multiselectable': this.options.multiOpen\n          });\n\n          this.$menuLinks = this.$element.find('.is-accordion-submenu-parent');\n          this.$menuLinks.each(function () {\n            var linkId = this.id || Foundation.GetYoDigits(6, 'acc-menu-link'),\n                $elem = $(this),\n                $sub = $elem.children('[data-submenu]'),\n                subId = $sub[0].id || Foundation.GetYoDigits(6, 'acc-menu'),\n                isActive = $sub.hasClass('is-active');\n            $elem.attr({\n              'aria-controls': subId,\n              'aria-expanded': isActive,\n              'role': 'tab',\n              'id': linkId\n            });\n            $sub.attr({\n              'aria-labelledby': linkId,\n              'aria-hidden': !isActive,\n              'role': 'tabpanel',\n              'id': subId\n            });\n          });\n          var initPanes = this.$element.find('.is-active');\n          if (initPanes.length) {\n            var _this = this;\n            initPanes.each(function () {\n              _this.down($(this));\n            });\n          }\n          this._events();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Adds event handlers for items within the menu.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this = this;\n\n          this.$element.find('li').each(function () {\n            var $submenu = $(this).children('[data-submenu]');\n\n            if ($submenu.length) {\n              $(this).children('a').off('click.zf.accordionMenu').on('click.zf.accordionMenu', function (e) {\n                e.preventDefault();\n\n                _this.toggle($submenu);\n              });\n            }\n          }).on('keydown.zf.accordionmenu', function (e) {\n            var $element = $(this),\n                $elements = $element.parent('ul').children('li'),\n                $prevElement,\n                $nextElement,\n                $target = $element.children('[data-submenu]');\n\n            $elements.each(function (i) {\n              if ($(this).is($element)) {\n                $prevElement = $elements.eq(Math.max(0, i - 1)).find('a').first();\n                $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1)).find('a').first();\n\n                if ($(this).children('[data-submenu]:visible').length) {\n                  // has open sub menu\n                  $nextElement = $element.find('li:first-child').find('a').first();\n                }\n                if ($(this).is(':first-child')) {\n                  // is first element of sub menu\n                  $prevElement = $element.parents('li').first().find('a').first();\n                } else if ($prevElement.children('[data-submenu]:visible').length) {\n                  // if previous element has open sub menu\n                  $prevElement = $prevElement.find('li:last-child').find('a').first();\n                }\n                if ($(this).is(':last-child')) {\n                  // is last element of sub menu\n                  $nextElement = $element.parents('li').first().next('li').find('a').first();\n                }\n\n                return;\n              }\n            });\n            Foundation.Keyboard.handleKey(e, 'AccordionMenu', {\n              open: function () {\n                function open() {\n                  if ($target.is(':hidden')) {\n                    _this.down($target);\n                    $target.find('li').first().find('a').first().focus();\n                  }\n                }\n\n                return open;\n              }(),\n              close: function () {\n                function close() {\n                  if ($target.length && !$target.is(':hidden')) {\n                    // close active sub of this item\n                    _this.up($target);\n                  } else if ($element.parent('[data-submenu]').length) {\n                    // close currently open sub\n                    _this.up($element.parent('[data-submenu]'));\n                    $element.parents('li').first().find('a').first().focus();\n                  }\n                }\n\n                return close;\n              }(),\n              up: function () {\n                function up() {\n                  $prevElement.attr('tabindex', -1).focus();\n                  return true;\n                }\n\n                return up;\n              }(),\n              down: function () {\n                function down() {\n                  $nextElement.attr('tabindex', -1).focus();\n                  return true;\n                }\n\n                return down;\n              }(),\n              toggle: function () {\n                function toggle() {\n                  if ($element.children('[data-submenu]').length) {\n                    _this.toggle($element.children('[data-submenu]'));\n                  }\n                }\n\n                return toggle;\n              }(),\n              closeAll: function () {\n                function closeAll() {\n                  _this.hideAll();\n                }\n\n                return closeAll;\n              }(),\n              handled: function () {\n                function handled(preventDefault) {\n                  if (preventDefault) {\n                    e.preventDefault();\n                  }\n                  e.stopImmediatePropagation();\n                }\n\n                return handled;\n              }()\n            });\n          }); //.attr('tabindex', 0);\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Closes all panes of the menu.\n       * @function\n       */\n\n    }, {\n      key: 'hideAll',\n      value: function () {\n        function hideAll() {\n          this.$element.find('[data-submenu]').slideUp(this.options.slideSpeed);\n        }\n\n        return hideAll;\n      }()\n\n      /**\n       * Toggles the open/close state of a submenu.\n       * @function\n       * @param {jQuery} $target - the submenu to toggle\n       */\n\n    }, {\n      key: 'toggle',\n      value: function () {\n        function toggle($target) {\n          if (!$target.is(':animated')) {\n            if (!$target.is(':hidden')) {\n              this.up($target);\n            } else {\n              this.down($target);\n            }\n          }\n        }\n\n        return toggle;\n      }()\n\n      /**\n       * Opens the sub-menu defined by `$target`.\n       * @param {jQuery} $target - Sub-menu to open.\n       * @fires AccordionMenu#down\n       */\n\n    }, {\n      key: 'down',\n      value: function () {\n        function down($target) {\n          var _this = this;\n\n          if (!this.options.multiOpen) {\n            this.up(this.$element.find('.is-active').not($target.parentsUntil(this.$element).add($target)));\n          }\n\n          $target.addClass('is-active').attr({ 'aria-hidden': false }).parent('.is-accordion-submenu-parent').attr({ 'aria-expanded': true });\n\n          //Foundation.Move(this.options.slideSpeed, $target, function() {\n          $target.slideDown(_this.options.slideSpeed, function () {\n            /**\n             * Fires when the menu is done opening.\n             * @event AccordionMenu#down\n             */\n            _this.$element.trigger('down.zf.accordionMenu', [$target]);\n          });\n          //});\n        }\n\n        return down;\n      }()\n\n      /**\n       * Closes the sub-menu defined by `$target`. All sub-menus inside the target will be closed as well.\n       * @param {jQuery} $target - Sub-menu to close.\n       * @fires AccordionMenu#up\n       */\n\n    }, {\n      key: 'up',\n      value: function () {\n        function up($target) {\n          var _this = this;\n          //Foundation.Move(this.options.slideSpeed, $target, function(){\n          $target.slideUp(_this.options.slideSpeed, function () {\n            /**\n             * Fires when the menu is done collapsing up.\n             * @event AccordionMenu#up\n             */\n            _this.$element.trigger('up.zf.accordionMenu', [$target]);\n          });\n          //});\n\n          var $menus = $target.find('[data-submenu]').slideUp(0).addBack().attr('aria-hidden', true);\n\n          $menus.parent('.is-accordion-submenu-parent').attr('aria-expanded', false);\n        }\n\n        return up;\n      }()\n\n      /**\n       * Destroys an instance of accordion menu.\n       * @fires AccordionMenu#destroyed\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$element.find('[data-submenu]').slideDown(0).css('display', '');\n          this.$element.find('a').off('click.zf.accordionMenu');\n\n          Foundation.Nest.Burn(this.$element, 'accordion');\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return AccordionMenu;\n  }();\n\n  AccordionMenu.defaults = {\n    /**\n     * Amount of time to animate the opening of a submenu in ms.\n     * @option\n     * @example 250\n     */\n    slideSpeed: 250,\n    /**\n     * Allow the menu to have multiple open panes.\n     * @option\n     * @example true\n     */\n    multiOpen: true\n  };\n\n  // Window exports\n  Foundation.plugin(AccordionMenu, 'AccordionMenu');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Drilldown module.\n   * @module foundation.drilldown\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   * @requires foundation.util.nest\n   */\n\n  var Drilldown = function () {\n    /**\n     * Creates a new instance of a drilldown menu.\n     * @class\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Drilldown(element, options) {\n      _classCallCheck(this, Drilldown);\n\n      this.$element = element;\n      this.options = $.extend({}, Drilldown.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'drilldown');\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Drilldown');\n      Foundation.Keyboard.register('Drilldown', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'previous',\n        'ESCAPE': 'close',\n        'TAB': 'down',\n        'SHIFT_TAB': 'up'\n      });\n    }\n\n    /**\n     * Initializes the drilldown by creating jQuery collections of elements\n     * @private\n     */\n\n    _createClass(Drilldown, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          this.$submenuAnchors = this.$element.find('li.is-drilldown-submenu-parent').children('a');\n          this.$submenus = this.$submenuAnchors.parent('li').children('[data-submenu]');\n          this.$menuItems = this.$element.find('li').not('.js-drilldown-back').attr('role', 'menuitem').find('a');\n\n          this._prepareMenu();\n\n          this._keyboardEvents();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * prepares drilldown menu by setting attributes to links and elements\n       * sets a min height to prevent content jumping\n       * wraps the element if not already wrapped\n       * @private\n       * @function\n       */\n\n    }, {\n      key: '_prepareMenu',\n      value: function () {\n        function _prepareMenu() {\n          var _this = this;\n          // if(!this.options.holdOpen){\n          //   this._menuLinkEvents();\n          // }\n          this.$submenuAnchors.each(function () {\n            var $link = $(this);\n            var $sub = $link.parent();\n            if (_this.options.parentLink) {\n              $link.clone().prependTo($sub.children('[data-submenu]')).wrap('<li class=\"is-submenu-parent-item is-submenu-item is-drilldown-submenu-item\" role=\"menu-item\"></li>');\n            }\n            $link.data('savedHref', $link.attr('href')).removeAttr('href');\n            $link.children('[data-submenu]').attr({\n              'aria-hidden': true,\n              'tabindex': 0,\n              'role': 'menu'\n            });\n            _this._events($link);\n          });\n          this.$submenus.each(function () {\n            var $menu = $(this),\n                $back = $menu.find('.js-drilldown-back');\n            if (!$back.length) {\n              $menu.prepend(_this.options.backButton);\n            }\n            _this._back($menu);\n          });\n          if (!this.$element.parent().hasClass('is-drilldown')) {\n            this.$wrapper = $(this.options.wrapper).addClass('is-drilldown');\n            this.$wrapper = this.$element.wrap(this.$wrapper).parent().css(this._getMaxDims());\n          }\n        }\n\n        return _prepareMenu;\n      }()\n\n      /**\n       * Adds event handlers to elements in the menu.\n       * @function\n       * @private\n       * @param {jQuery} $elem - the current menu item to add handlers to.\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events($elem) {\n          var _this = this;\n\n          $elem.off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n            if ($(e.target).parentsUntil('ul', 'li').hasClass('is-drilldown-submenu-parent')) {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n            }\n\n            // if(e.target !== e.currentTarget.firstElementChild){\n            //   return false;\n            // }\n            _this._show($elem.parent('li'));\n\n            if (_this.options.closeOnClick) {\n              var $body = $('body');\n              $body.off('.zf.drilldown').on('click.zf.drilldown', function (e) {\n                if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target)) {\n                  return;\n                }\n                e.preventDefault();\n                _this._hideAll();\n                $body.off('.zf.drilldown');\n              });\n            }\n          });\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Adds keydown event listener to `li`'s in the menu.\n       * @private\n       */\n\n    }, {\n      key: '_keyboardEvents',\n      value: function () {\n        function _keyboardEvents() {\n          var _this = this;\n\n          this.$menuItems.add(this.$element.find('.js-drilldown-back > a')).on('keydown.zf.drilldown', function (e) {\n\n            var $element = $(this),\n                $elements = $element.parent('li').parent('ul').children('li').children('a'),\n                $prevElement,\n                $nextElement;\n\n            $elements.each(function (i) {\n              if ($(this).is($element)) {\n                $prevElement = $elements.eq(Math.max(0, i - 1));\n                $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));\n                return;\n              }\n            });\n\n            Foundation.Keyboard.handleKey(e, 'Drilldown', {\n              next: function () {\n                function next() {\n                  if ($element.is(_this.$submenuAnchors)) {\n                    _this._show($element.parent('li'));\n                    $element.parent('li').one(Foundation.transitionend($element), function () {\n                      $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\n                    });\n                    return true;\n                  }\n                }\n\n                return next;\n              }(),\n              previous: function () {\n                function previous() {\n                  _this._hide($element.parent('li').parent('ul'));\n                  $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {\n                    setTimeout(function () {\n                      $element.parent('li').parent('ul').parent('li').children('a').first().focus();\n                    }, 1);\n                  });\n                  return true;\n                }\n\n                return previous;\n              }(),\n              up: function () {\n                function up() {\n                  $prevElement.focus();\n                  return true;\n                }\n\n                return up;\n              }(),\n              down: function () {\n                function down() {\n                  $nextElement.focus();\n                  return true;\n                }\n\n                return down;\n              }(),\n              close: function () {\n                function close() {\n                  _this._back();\n                  //_this.$menuItems.first().focus(); // focus to first element\n                }\n\n                return close;\n              }(),\n              open: function () {\n                function open() {\n                  if (!$element.is(_this.$menuItems)) {\n                    // not menu item means back button\n                    _this._hide($element.parent('li').parent('ul'));\n                    $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {\n                      setTimeout(function () {\n                        $element.parent('li').parent('ul').parent('li').children('a').first().focus();\n                      }, 1);\n                    });\n                  } else if ($element.is(_this.$submenuAnchors)) {\n                    _this._show($element.parent('li'));\n                    $element.parent('li').one(Foundation.transitionend($element), function () {\n                      $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\n                    });\n                  }\n                  return true;\n                }\n\n                return open;\n              }(),\n              handled: function () {\n                function handled(preventDefault) {\n                  if (preventDefault) {\n                    e.preventDefault();\n                  }\n                  e.stopImmediatePropagation();\n                }\n\n                return handled;\n              }()\n            });\n          }); // end keyboardAccess\n        }\n\n        return _keyboardEvents;\n      }()\n\n      /**\n       * Closes all open elements, and returns to root menu.\n       * @function\n       * @fires Drilldown#closed\n       */\n\n    }, {\n      key: '_hideAll',\n      value: function () {\n        function _hideAll() {\n          var $elem = this.$element.find('.is-drilldown-submenu.is-active').addClass('is-closing');\n          $elem.one(Foundation.transitionend($elem), function (e) {\n            $elem.removeClass('is-active is-closing');\n          });\n          /**\n           * Fires when the menu is fully closed.\n           * @event Drilldown#closed\n           */\n          this.$element.trigger('closed.zf.drilldown');\n        }\n\n        return _hideAll;\n      }()\n\n      /**\n       * Adds event listener for each `back` button, and closes open menus.\n       * @function\n       * @fires Drilldown#back\n       * @param {jQuery} $elem - the current sub-menu to add `back` event.\n       */\n\n    }, {\n      key: '_back',\n      value: function () {\n        function _back($elem) {\n          var _this = this;\n          $elem.off('click.zf.drilldown');\n          $elem.children('.js-drilldown-back').on('click.zf.drilldown', function (e) {\n            e.stopImmediatePropagation();\n            // console.log('mouseup on back');\n            _this._hide($elem);\n          });\n        }\n\n        return _back;\n      }()\n\n      /**\n       * Adds event listener to menu items w/o submenus to close open menus on click.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_menuLinkEvents',\n      value: function () {\n        function _menuLinkEvents() {\n          var _this = this;\n          this.$menuItems.not('.is-drilldown-submenu-parent').off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n            // e.stopImmediatePropagation();\n            setTimeout(function () {\n              _this._hideAll();\n            }, 0);\n          });\n        }\n\n        return _menuLinkEvents;\n      }()\n\n      /**\n       * Opens a submenu.\n       * @function\n       * @fires Drilldown#open\n       * @param {jQuery} $elem - the current element with a submenu to open, i.e. the `li` tag.\n       */\n\n    }, {\n      key: '_show',\n      value: function () {\n        function _show($elem) {\n          $elem.children('[data-submenu]').addClass('is-active');\n          /**\n           * Fires when the submenu has opened.\n           * @event Drilldown#open\n           */\n          this.$element.trigger('open.zf.drilldown', [$elem]);\n        }\n\n        return _show;\n      }()\n    }, {\n      key: '_hide',\n\n      /**\n       * Hides a submenu\n       * @function\n       * @fires Drilldown#hide\n       * @param {jQuery} $elem - the current sub-menu to hide, i.e. the `ul` tag.\n       */\n      value: function () {\n        function _hide($elem) {\n          var _this = this;\n          $elem.addClass('is-closing').one(Foundation.transitionend($elem), function () {\n            $elem.removeClass('is-active is-closing');\n            $elem.blur();\n          });\n          /**\n           * Fires when the submenu has closed.\n           * @event Drilldown#hide\n           */\n          $elem.trigger('hide.zf.drilldown', [$elem]);\n        }\n\n        return _hide;\n      }()\n\n      /**\n       * Iterates through the nested menus to calculate the min-height, and max-width for the menu.\n       * Prevents content jumping.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_getMaxDims',\n      value: function () {\n        function _getMaxDims() {\n          var max = 0,\n              result = {};\n          this.$submenus.add(this.$element).each(function () {\n            var numOfElems = $(this).children('li').length;\n            max = numOfElems > max ? numOfElems : max;\n          });\n\n          result['min-height'] = max * this.$menuItems[0].getBoundingClientRect().height + 'px';\n          result['max-width'] = this.$element[0].getBoundingClientRect().width + 'px';\n\n          return result;\n        }\n\n        return _getMaxDims;\n      }()\n\n      /**\n       * Destroys the Drilldown Menu\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this._hideAll();\n          Foundation.Nest.Burn(this.$element, 'drilldown');\n          this.$element.unwrap().find('.js-drilldown-back, .is-submenu-parent-item').remove().end().find('.is-active, .is-closing, .is-drilldown-submenu').removeClass('is-active is-closing is-drilldown-submenu').end().find('[data-submenu]').removeAttr('aria-hidden tabindex role');\n          this.$submenuAnchors.each(function () {\n            $(this).off('.zf.drilldown');\n          });\n          this.$element.find('a').each(function () {\n            var $link = $(this);\n            if ($link.data('savedHref')) {\n              $link.attr('href', $link.data('savedHref')).removeData('savedHref');\n            } else {\n              return;\n            }\n          });\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Drilldown;\n  }();\n\n  Drilldown.defaults = {\n    /**\n     * Markup used for JS generated back button. Prepended to submenu lists and deleted on `destroy` method, 'js-drilldown-back' class required. Remove the backslash (`\\`) if copy and pasting.\n     * @option\n     * @example '<\\li><\\a>Back<\\/a><\\/li>'\n     */\n    backButton: '<li class=\"js-drilldown-back\"><a tabindex=\"0\">Back</a></li>',\n    /**\n     * Markup used to wrap drilldown menu. Use a class name for independent styling; the JS applied class: `is-drilldown` is required. Remove the backslash (`\\`) if copy and pasting.\n     * @option\n     * @example '<\\div class=\"is-drilldown\"><\\/div>'\n     */\n    wrapper: '<div></div>',\n    /**\n     * Adds the parent link to the submenu.\n     * @option\n     * @example false\n     */\n    parentLink: false,\n    /**\n     * Allow the menu to return to root list on body click.\n     * @option\n     * @example false\n     */\n    closeOnClick: false\n    // holdOpen: false\n  };\n\n  // Window exports\n  Foundation.plugin(Drilldown, 'Drilldown');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Dropdown module.\n   * @module foundation.dropdown\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.box\n   * @requires foundation.util.triggers\n   */\n\n  var Dropdown = function () {\n    /**\n     * Creates a new instance of a dropdown.\n     * @class\n     * @param {jQuery} element - jQuery object to make into a dropdown.\n     *        Object should be of the dropdown panel, rather than its anchor.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Dropdown(element, options) {\n      _classCallCheck(this, Dropdown);\n\n      this.$element = element;\n      this.options = $.extend({}, Dropdown.defaults, this.$element.data(), options);\n      this._init();\n\n      Foundation.registerPlugin(this, 'Dropdown');\n      Foundation.Keyboard.register('Dropdown', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ESCAPE': 'close',\n        'TAB': 'tab_forward',\n        'SHIFT_TAB': 'tab_backward'\n      });\n    }\n\n    /**\n     * Initializes the plugin by setting/checking options and attributes, adding helper variables, and saving the anchor.\n     * @function\n     * @private\n     */\n\n    _createClass(Dropdown, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          var $id = this.$element.attr('id');\n\n          this.$anchor = $('[data-toggle=\"' + $id + '\"]') || $('[data-open=\"' + $id + '\"]');\n          this.$anchor.attr({\n            'aria-controls': $id,\n            'data-is-focus': false,\n            'data-yeti-box': $id,\n            'aria-haspopup': true,\n            'aria-expanded': false\n\n          });\n\n          this.options.positionClass = this.getPositionClass();\n          this.counter = 4;\n          this.usedPositions = [];\n          this.$element.attr({\n            'aria-hidden': 'true',\n            'data-yeti-box': $id,\n            'data-resize': $id,\n            'aria-labelledby': this.$anchor[0].id || Foundation.GetYoDigits(6, 'dd-anchor')\n          });\n          this._events();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Helper function to determine current orientation of dropdown pane.\n       * @function\n       * @returns {String} position - string value of a position class.\n       */\n\n    }, {\n      key: 'getPositionClass',\n      value: function () {\n        function getPositionClass() {\n          var verticalPosition = this.$element[0].className.match(/(top|left|right|bottom)/g);\n          verticalPosition = verticalPosition ? verticalPosition[0] : '';\n          var horizontalPosition = /float-(\\S+)\\s/.exec(this.$anchor[0].className);\n          horizontalPosition = horizontalPosition ? horizontalPosition[1] : '';\n          var position = horizontalPosition ? horizontalPosition + ' ' + verticalPosition : verticalPosition;\n          return position;\n        }\n\n        return getPositionClass;\n      }()\n\n      /**\n       * Adjusts the dropdown panes orientation by adding/removing positioning classes.\n       * @function\n       * @private\n       * @param {String} position - position class to remove.\n       */\n\n    }, {\n      key: '_reposition',\n      value: function () {\n        function _reposition(position) {\n          this.usedPositions.push(position ? position : 'bottom');\n          //default, try switching to opposite side\n          if (!position && this.usedPositions.indexOf('top') < 0) {\n            this.$element.addClass('top');\n          } else if (position === 'top' && this.usedPositions.indexOf('bottom') < 0) {\n            this.$element.removeClass(position);\n          } else if (position === 'left' && this.usedPositions.indexOf('right') < 0) {\n            this.$element.removeClass(position).addClass('right');\n          } else if (position === 'right' && this.usedPositions.indexOf('left') < 0) {\n            this.$element.removeClass(position).addClass('left');\n          }\n\n          //if default change didn't work, try bottom or left first\n          else if (!position && this.usedPositions.indexOf('top') > -1 && this.usedPositions.indexOf('left') < 0) {\n              this.$element.addClass('left');\n            } else if (position === 'top' && this.usedPositions.indexOf('bottom') > -1 && this.usedPositions.indexOf('left') < 0) {\n              this.$element.removeClass(position).addClass('left');\n            } else if (position === 'left' && this.usedPositions.indexOf('right') > -1 && this.usedPositions.indexOf('bottom') < 0) {\n              this.$element.removeClass(position);\n            } else if (position === 'right' && this.usedPositions.indexOf('left') > -1 && this.usedPositions.indexOf('bottom') < 0) {\n              this.$element.removeClass(position);\n            }\n            //if nothing cleared, set to bottom\n            else {\n                this.$element.removeClass(position);\n              }\n          this.classChanged = true;\n          this.counter--;\n        }\n\n        return _reposition;\n      }()\n\n      /**\n       * Sets the position and orientation of the dropdown pane, checks for collisions.\n       * Recursively calls itself if a collision is detected, with a new position class.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_setPosition',\n      value: function () {\n        function _setPosition() {\n          if (this.$anchor.attr('aria-expanded') === 'false') {\n            return false;\n          }\n          var position = this.getPositionClass(),\n              $eleDims = Foundation.Box.GetDimensions(this.$element),\n              $anchorDims = Foundation.Box.GetDimensions(this.$anchor),\n              _this = this,\n              direction = position === 'left' ? 'left' : position === 'right' ? 'left' : 'top',\n              param = direction === 'top' ? 'height' : 'width',\n              offset = param === 'height' ? this.options.vOffset : this.options.hOffset;\n\n          if ($eleDims.width >= $eleDims.windowDims.width || !this.counter && !Foundation.Box.ImNotTouchingYou(this.$element)) {\n            this.$element.offset(Foundation.Box.GetOffsets(this.$element, this.$anchor, 'center bottom', this.options.vOffset, this.options.hOffset, true)).css({\n              'width': $eleDims.windowDims.width - this.options.hOffset * 2,\n              'height': 'auto'\n            });\n            this.classChanged = true;\n            return false;\n          }\n\n          this.$element.offset(Foundation.Box.GetOffsets(this.$element, this.$anchor, position, this.options.vOffset, this.options.hOffset));\n\n          while (!Foundation.Box.ImNotTouchingYou(this.$element, false, true) && this.counter) {\n            this._reposition(position);\n            this._setPosition();\n          }\n        }\n\n        return _setPosition;\n      }()\n\n      /**\n       * Adds event listeners to the element utilizing the triggers utility library.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this = this;\n          this.$element.on({\n            'open.zf.trigger': this.open.bind(this),\n            'close.zf.trigger': this.close.bind(this),\n            'toggle.zf.trigger': this.toggle.bind(this),\n            'resizeme.zf.trigger': this._setPosition.bind(this)\n          });\n\n          if (this.options.hover) {\n            this.$anchor.off('mouseenter.zf.dropdown mouseleave.zf.dropdown').on('mouseenter.zf.dropdown', function () {\n              clearTimeout(_this.timeout);\n              _this.timeout = setTimeout(function () {\n                _this.open();\n                _this.$anchor.data('hover', true);\n              }, _this.options.hoverDelay);\n            }).on('mouseleave.zf.dropdown', function () {\n              clearTimeout(_this.timeout);\n              _this.timeout = setTimeout(function () {\n                _this.close();\n                _this.$anchor.data('hover', false);\n              }, _this.options.hoverDelay);\n            });\n            if (this.options.hoverPane) {\n              this.$element.off('mouseenter.zf.dropdown mouseleave.zf.dropdown').on('mouseenter.zf.dropdown', function () {\n                clearTimeout(_this.timeout);\n              }).on('mouseleave.zf.dropdown', function () {\n                clearTimeout(_this.timeout);\n                _this.timeout = setTimeout(function () {\n                  _this.close();\n                  _this.$anchor.data('hover', false);\n                }, _this.options.hoverDelay);\n              });\n            }\n          }\n          this.$anchor.add(this.$element).on('keydown.zf.dropdown', function (e) {\n\n            var $target = $(this),\n                visibleFocusableElements = Foundation.Keyboard.findFocusable(_this.$element);\n\n            Foundation.Keyboard.handleKey(e, 'Dropdown', {\n              tab_forward: function () {\n                function tab_forward() {\n                  if (_this.$element.find(':focus').is(visibleFocusableElements.eq(-1))) {\n                    // left modal downwards, setting focus to first element\n                    if (_this.options.trapFocus) {\n                      // if focus shall be trapped\n                      visibleFocusableElements.eq(0).focus();\n                      e.preventDefault();\n                    } else {\n                      // if focus is not trapped, close dropdown on focus out\n                      _this.close();\n                    }\n                  }\n                }\n\n                return tab_forward;\n              }(),\n              tab_backward: function () {\n                function tab_backward() {\n                  if (_this.$element.find(':focus').is(visibleFocusableElements.eq(0)) || _this.$element.is(':focus')) {\n                    // left modal upwards, setting focus to last element\n                    if (_this.options.trapFocus) {\n                      // if focus shall be trapped\n                      visibleFocusableElements.eq(-1).focus();\n                      e.preventDefault();\n                    } else {\n                      // if focus is not trapped, close dropdown on focus out\n                      _this.close();\n                    }\n                  }\n                }\n\n                return tab_backward;\n              }(),\n              open: function () {\n                function open() {\n                  if ($target.is(_this.$anchor)) {\n                    _this.open();\n                    _this.$element.attr('tabindex', -1).focus();\n                    e.preventDefault();\n                  }\n                }\n\n                return open;\n              }(),\n              close: function () {\n                function close() {\n                  _this.close();\n                  _this.$anchor.focus();\n                }\n\n                return close;\n              }()\n            });\n          });\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Adds an event handler to the body to close any dropdowns on a click.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_addBodyHandler',\n      value: function () {\n        function _addBodyHandler() {\n          var $body = $(document.body).not(this.$element),\n              _this = this;\n          $body.off('click.zf.dropdown').on('click.zf.dropdown', function (e) {\n            if (_this.$anchor.is(e.target) || _this.$anchor.find(e.target).length) {\n              return;\n            }\n            if (_this.$element.find(e.target).length) {\n              return;\n            }\n            _this.close();\n            $body.off('click.zf.dropdown');\n          });\n        }\n\n        return _addBodyHandler;\n      }()\n\n      /**\n       * Opens the dropdown pane, and fires a bubbling event to close other dropdowns.\n       * @function\n       * @fires Dropdown#closeme\n       * @fires Dropdown#show\n       */\n\n    }, {\n      key: 'open',\n      value: function () {\n        function open() {\n          // var _this = this;\n          /**\n           * Fires to close other open dropdowns\n           * @event Dropdown#closeme\n           */\n          this.$element.trigger('closeme.zf.dropdown', this.$element.attr('id'));\n          this.$anchor.addClass('hover').attr({ 'aria-expanded': true });\n          // this.$element/*.show()*/;\n          this._setPosition();\n          this.$element.addClass('is-open').attr({ 'aria-hidden': false });\n\n          if (this.options.autoFocus) {\n            var $focusable = Foundation.Keyboard.findFocusable(this.$element);\n            if ($focusable.length) {\n              $focusable.eq(0).focus();\n            }\n          }\n\n          if (this.options.closeOnClick) {\n            this._addBodyHandler();\n          }\n\n          /**\n           * Fires once the dropdown is visible.\n           * @event Dropdown#show\n           */\n          this.$element.trigger('show.zf.dropdown', [this.$element]);\n        }\n\n        return open;\n      }()\n\n      /**\n       * Closes the open dropdown pane.\n       * @function\n       * @fires Dropdown#hide\n       */\n\n    }, {\n      key: 'close',\n      value: function () {\n        function close() {\n          if (!this.$element.hasClass('is-open')) {\n            return false;\n          }\n          this.$element.removeClass('is-open').attr({ 'aria-hidden': true });\n\n          this.$anchor.removeClass('hover').attr('aria-expanded', false);\n\n          if (this.classChanged) {\n            var curPositionClass = this.getPositionClass();\n            if (curPositionClass) {\n              this.$element.removeClass(curPositionClass);\n            }\n            this.$element.addClass(this.options.positionClass)\n            /*.hide()*/.css({ height: '', width: '' });\n            this.classChanged = false;\n            this.counter = 4;\n            this.usedPositions.length = 0;\n          }\n          this.$element.trigger('hide.zf.dropdown', [this.$element]);\n        }\n\n        return close;\n      }()\n\n      /**\n       * Toggles the dropdown pane's visibility.\n       * @function\n       */\n\n    }, {\n      key: 'toggle',\n      value: function () {\n        function toggle() {\n          if (this.$element.hasClass('is-open')) {\n            if (this.$anchor.data('hover')) return;\n            this.close();\n          } else {\n            this.open();\n          }\n        }\n\n        return toggle;\n      }()\n\n      /**\n       * Destroys the dropdown.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$element.off('.zf.trigger').hide();\n          this.$anchor.off('.zf.dropdown');\n\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Dropdown;\n  }();\n\n  Dropdown.defaults = {\n    /**\n     * Amount of time to delay opening a submenu on hover event.\n     * @option\n     * @example 250\n     */\n    hoverDelay: 250,\n    /**\n     * Allow submenus to open on hover events\n     * @option\n     * @example false\n     */\n    hover: false,\n    /**\n     * Don't close dropdown when hovering over dropdown pane\n     * @option\n     * @example true\n     */\n    hoverPane: false,\n    /**\n     * Number of pixels between the dropdown pane and the triggering element on open.\n     * @option\n     * @example 1\n     */\n    vOffset: 1,\n    /**\n     * Number of pixels between the dropdown pane and the triggering element on open.\n     * @option\n     * @example 1\n     */\n    hOffset: 1,\n    /**\n     * Class applied to adjust open position. JS will test and fill this in.\n     * @option\n     * @example 'top'\n     */\n    positionClass: '',\n    /**\n     * Allow the plugin to trap focus to the dropdown pane if opened with keyboard commands.\n     * @option\n     * @example false\n     */\n    trapFocus: false,\n    /**\n     * Allow the plugin to set focus to the first focusable element within the pane, regardless of method of opening.\n     * @option\n     * @example true\n     */\n    autoFocus: false,\n    /**\n     * Allows a click on the body to close the dropdown.\n     * @option\n     * @example false\n     */\n    closeOnClick: false\n  };\n\n  // Window exports\n  Foundation.plugin(Dropdown, 'Dropdown');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * DropdownMenu module.\n   * @module foundation.dropdown-menu\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.box\n   * @requires foundation.util.nest\n   */\n\n  var DropdownMenu = function () {\n    /**\n     * Creates a new instance of DropdownMenu.\n     * @class\n     * @fires DropdownMenu#init\n     * @param {jQuery} element - jQuery object to make into a dropdown menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function DropdownMenu(element, options) {\n      _classCallCheck(this, DropdownMenu);\n\n      this.$element = element;\n      this.options = $.extend({}, DropdownMenu.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'dropdown');\n      this._init();\n\n      Foundation.registerPlugin(this, 'DropdownMenu');\n      Foundation.Keyboard.register('DropdownMenu', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'previous',\n        'ESCAPE': 'close'\n      });\n    }\n\n    /**\n     * Initializes the plugin, and calls _prepareMenu\n     * @private\n     * @function\n     */\n\n    _createClass(DropdownMenu, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          var subs = this.$element.find('li.is-dropdown-submenu-parent');\n          this.$element.children('.is-dropdown-submenu-parent').children('.is-dropdown-submenu').addClass('first-sub');\n\n          this.$menuItems = this.$element.find('[role=\"menuitem\"]');\n          this.$tabs = this.$element.children('[role=\"menuitem\"]');\n          this.$tabs.find('ul.is-dropdown-submenu').addClass(this.options.verticalClass);\n\n          if (this.$element.hasClass(this.options.rightClass) || this.options.alignment === 'right' || Foundation.rtl() || this.$element.parents('.top-bar-right').is('*')) {\n            this.options.alignment = 'right';\n            subs.addClass('opens-left');\n          } else {\n            subs.addClass('opens-right');\n          }\n          this.changed = false;\n          this._events();\n        }\n\n        return _init;\n      }()\n    }, {\n      key: '_events',\n\n      /**\n       * Adds event listeners to elements within the menu\n       * @private\n       * @function\n       */\n      value: function () {\n        function _events() {\n          var _this = this,\n              hasTouch = 'ontouchstart' in window || typeof window.ontouchstart !== 'undefined',\n              parClass = 'is-dropdown-submenu-parent';\n\n          // used for onClick and in the keyboard handlers\n          var handleClickFn = function () {\n            function handleClickFn(e) {\n              var $elem = $(e.target).parentsUntil('ul', '.' + parClass),\n                  hasSub = $elem.hasClass(parClass),\n                  hasClicked = $elem.attr('data-is-click') === 'true',\n                  $sub = $elem.children('.is-dropdown-submenu');\n\n              if (hasSub) {\n                if (hasClicked) {\n                  if (!_this.options.closeOnClick || !_this.options.clickOpen && !hasTouch || _this.options.forceFollow && hasTouch) {\n                    return;\n                  } else {\n                    e.stopImmediatePropagation();\n                    e.preventDefault();\n                    _this._hide($elem);\n                  }\n                } else {\n                  e.preventDefault();\n                  e.stopImmediatePropagation();\n                  _this._show($elem.children('.is-dropdown-submenu'));\n                  $elem.add($elem.parentsUntil(_this.$element, '.' + parClass)).attr('data-is-click', true);\n                }\n              } else {\n                return;\n              }\n            }\n\n            return handleClickFn;\n          }();\n\n          if (this.options.clickOpen || hasTouch) {\n            this.$menuItems.on('click.zf.dropdownmenu touchstart.zf.dropdownmenu', handleClickFn);\n          }\n\n          if (!this.options.disableHover) {\n            this.$menuItems.on('mouseenter.zf.dropdownmenu', function (e) {\n              var $elem = $(this),\n                  hasSub = $elem.hasClass(parClass);\n\n              if (hasSub) {\n                clearTimeout(_this.delay);\n                _this.delay = setTimeout(function () {\n                  _this._show($elem.children('.is-dropdown-submenu'));\n                }, _this.options.hoverDelay);\n              }\n            }).on('mouseleave.zf.dropdownmenu', function (e) {\n              var $elem = $(this),\n                  hasSub = $elem.hasClass(parClass);\n              if (hasSub && _this.options.autoclose) {\n                if ($elem.attr('data-is-click') === 'true' && _this.options.clickOpen) {\n                  return false;\n                }\n\n                clearTimeout(_this.delay);\n                _this.delay = setTimeout(function () {\n                  _this._hide($elem);\n                }, _this.options.closingTime);\n              }\n            });\n          }\n          this.$menuItems.on('keydown.zf.dropdownmenu', function (e) {\n            var $element = $(e.target).parentsUntil('ul', '[role=\"menuitem\"]'),\n                isTab = _this.$tabs.index($element) > -1,\n                $elements = isTab ? _this.$tabs : $element.siblings('li').add($element),\n                $prevElement,\n                $nextElement;\n\n            $elements.each(function (i) {\n              if ($(this).is($element)) {\n                $prevElement = $elements.eq(i - 1);\n                $nextElement = $elements.eq(i + 1);\n                return;\n              }\n            });\n\n            var nextSibling = function () {\n              function nextSibling() {\n                if (!$element.is(':last-child')) {\n                  $nextElement.children('a:first').focus();\n                  e.preventDefault();\n                }\n              }\n\n              return nextSibling;\n            }(),\n                prevSibling = function () {\n              function prevSibling() {\n                $prevElement.children('a:first').focus();\n                e.preventDefault();\n              }\n\n              return prevSibling;\n            }(),\n                openSub = function () {\n              function openSub() {\n                var $sub = $element.children('ul.is-dropdown-submenu');\n                if ($sub.length) {\n                  _this._show($sub);\n                  $element.find('li > a:first').focus();\n                  e.preventDefault();\n                } else {\n                  return;\n                }\n              }\n\n              return openSub;\n            }(),\n                closeSub = function () {\n              function closeSub() {\n                //if ($element.is(':first-child')) {\n                var close = $element.parent('ul').parent('li');\n                close.children('a:first').focus();\n                _this._hide(close);\n                e.preventDefault();\n                //}\n              }\n\n              return closeSub;\n            }();\n            var functions = {\n              open: openSub,\n              close: function () {\n                function close() {\n                  _this._hide(_this.$element);\n                  _this.$menuItems.find('a:first').focus(); // focus to first element\n                  e.preventDefault();\n                }\n\n                return close;\n              }(),\n              handled: function () {\n                function handled() {\n                  e.stopImmediatePropagation();\n                }\n\n                return handled;\n              }()\n            };\n\n            if (isTab) {\n              if (_this.$element.hasClass(_this.options.verticalClass)) {\n                // vertical menu\n                if (_this.options.alignment === 'left') {\n                  // left aligned\n                  $.extend(functions, {\n                    down: nextSibling,\n                    up: prevSibling,\n                    next: openSub,\n                    previous: closeSub\n                  });\n                } else {\n                  // right aligned\n                  $.extend(functions, {\n                    down: nextSibling,\n                    up: prevSibling,\n                    next: closeSub,\n                    previous: openSub\n                  });\n                }\n              } else {\n                // horizontal menu\n                $.extend(functions, {\n                  next: nextSibling,\n                  previous: prevSibling,\n                  down: openSub,\n                  up: closeSub\n                });\n              }\n            } else {\n              // not tabs -> one sub\n              if (_this.options.alignment === 'left') {\n                // left aligned\n                $.extend(functions, {\n                  next: openSub,\n                  previous: closeSub,\n                  down: nextSibling,\n                  up: prevSibling\n                });\n              } else {\n                // right aligned\n                $.extend(functions, {\n                  next: closeSub,\n                  previous: openSub,\n                  down: nextSibling,\n                  up: prevSibling\n                });\n              }\n            }\n            Foundation.Keyboard.handleKey(e, 'DropdownMenu', functions);\n          });\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Adds an event handler to the body to close any dropdowns on a click.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_addBodyHandler',\n      value: function () {\n        function _addBodyHandler() {\n          var $body = $(document.body),\n              _this = this;\n          $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu').on('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu', function (e) {\n            var $link = _this.$element.find(e.target);\n            if ($link.length) {\n              return;\n            }\n\n            _this._hide();\n            $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu');\n          });\n        }\n\n        return _addBodyHandler;\n      }()\n\n      /**\n       * Opens a dropdown pane, and checks for collisions first.\n       * @param {jQuery} $sub - ul element that is a submenu to show\n       * @function\n       * @private\n       * @fires DropdownMenu#show\n       */\n\n    }, {\n      key: '_show',\n      value: function () {\n        function _show($sub) {\n          var idx = this.$tabs.index(this.$tabs.filter(function (i, el) {\n            return $(el).find($sub).length > 0;\n          }));\n          var $sibs = $sub.parent('li.is-dropdown-submenu-parent').siblings('li.is-dropdown-submenu-parent');\n          this._hide($sibs, idx);\n          $sub.css('visibility', 'hidden').addClass('js-dropdown-active').attr({ 'aria-hidden': false }).parent('li.is-dropdown-submenu-parent').addClass('is-active').attr({ 'aria-expanded': true });\n          var clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\n          if (!clear) {\n            var oldClass = this.options.alignment === 'left' ? '-right' : '-left',\n                $parentLi = $sub.parent('.is-dropdown-submenu-parent');\n            $parentLi.removeClass('opens' + oldClass).addClass('opens-' + this.options.alignment);\n            clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\n            if (!clear) {\n              $parentLi.removeClass('opens-' + this.options.alignment).addClass('opens-inner');\n            }\n            this.changed = true;\n          }\n          $sub.css('visibility', '');\n          if (this.options.closeOnClick) {\n            this._addBodyHandler();\n          }\n          /**\n           * Fires when the new dropdown pane is visible.\n           * @event DropdownMenu#show\n           */\n          this.$element.trigger('show.zf.dropdownmenu', [$sub]);\n        }\n\n        return _show;\n      }()\n\n      /**\n       * Hides a single, currently open dropdown pane, if passed a parameter, otherwise, hides everything.\n       * @function\n       * @param {jQuery} $elem - element with a submenu to hide\n       * @param {Number} idx - index of the $tabs collection to hide\n       * @private\n       */\n\n    }, {\n      key: '_hide',\n      value: function () {\n        function _hide($elem, idx) {\n          var $toClose;\n          if ($elem && $elem.length) {\n            $toClose = $elem;\n          } else if (idx !== undefined) {\n            $toClose = this.$tabs.not(function (i, el) {\n              return i === idx;\n            });\n          } else {\n            $toClose = this.$element;\n          }\n          var somethingToClose = $toClose.hasClass('is-active') || $toClose.find('.is-active').length > 0;\n\n          if (somethingToClose) {\n            $toClose.find('li.is-active').add($toClose).attr({\n              'aria-expanded': false,\n              'data-is-click': false\n            }).removeClass('is-active');\n\n            $toClose.find('ul.js-dropdown-active').attr({\n              'aria-hidden': true\n            }).removeClass('js-dropdown-active');\n\n            if (this.changed || $toClose.find('opens-inner').length) {\n              var oldClass = this.options.alignment === 'left' ? 'right' : 'left';\n              $toClose.find('li.is-dropdown-submenu-parent').add($toClose).removeClass('opens-inner opens-' + this.options.alignment).addClass('opens-' + oldClass);\n              this.changed = false;\n            }\n            /**\n             * Fires when the open menus are closed.\n             * @event DropdownMenu#hide\n             */\n            this.$element.trigger('hide.zf.dropdownmenu', [$toClose]);\n          }\n        }\n\n        return _hide;\n      }()\n\n      /**\n       * Destroys the plugin.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$menuItems.off('.zf.dropdownmenu').removeAttr('data-is-click').removeClass('is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner');\n          $(document.body).off('.zf.dropdownmenu');\n          Foundation.Nest.Burn(this.$element, 'dropdown');\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return DropdownMenu;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n  DropdownMenu.defaults = {\n    /**\n     * Disallows hover events from opening submenus\n     * @option\n     * @example false\n     */\n    disableHover: false,\n    /**\n     * Allow a submenu to automatically close on a mouseleave event, if not clicked open.\n     * @option\n     * @example true\n     */\n    autoclose: true,\n    /**\n     * Amount of time to delay opening a submenu on hover event.\n     * @option\n     * @example 50\n     */\n    hoverDelay: 50,\n    /**\n     * Allow a submenu to open/remain open on parent click event. Allows cursor to move away from menu.\n     * @option\n     * @example true\n     */\n    clickOpen: false,\n    /**\n     * Amount of time to delay closing a submenu on a mouseleave event.\n     * @option\n     * @example 500\n     */\n\n    closingTime: 500,\n    /**\n     * Position of the menu relative to what direction the submenus should open. Handled by JS.\n     * @option\n     * @example 'left'\n     */\n    alignment: 'left',\n    /**\n     * Allow clicks on the body to close any open submenus.\n     * @option\n     * @example true\n     */\n    closeOnClick: true,\n    /**\n     * Class applied to vertical oriented menus, Foundation default is `vertical`. Update this if using your own class.\n     * @option\n     * @example 'vertical'\n     */\n    verticalClass: 'vertical',\n    /**\n     * Class applied to right-side oriented menus, Foundation default is `align-right`. Update this if using your own class.\n     * @option\n     * @example 'align-right'\n     */\n    rightClass: 'align-right',\n    /**\n     * Boolean to force overide the clicking of links to perform default action, on second touch event for mobile.\n     * @option\n     * @example false\n     */\n    forceFollow: true\n  };\n\n  // Window exports\n  Foundation.plugin(DropdownMenu, 'DropdownMenu');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Equalizer module.\n   * @module foundation.equalizer\n   */\n\n  var Equalizer = function () {\n    /**\n     * Creates a new instance of Equalizer.\n     * @class\n     * @fires Equalizer#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Equalizer(element, options) {\n      _classCallCheck(this, Equalizer);\n\n      this.$element = element;\n      this.options = $.extend({}, Equalizer.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Equalizer');\n    }\n\n    /**\n     * Initializes the Equalizer plugin and calls functions to get equalizer functioning on load.\n     * @private\n     */\n\n    _createClass(Equalizer, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          var eqId = this.$element.attr('data-equalizer') || '';\n          var $watched = this.$element.find('[data-equalizer-watch=\"' + eqId + '\"]');\n\n          this.$watched = $watched.length ? $watched : this.$element.find('[data-equalizer-watch]');\n          this.$element.attr('data-resize', eqId || Foundation.GetYoDigits(6, 'eq'));\n\n          this.hasNested = this.$element.find('[data-equalizer]').length > 0;\n          this.isNested = this.$element.parentsUntil(document.body, '[data-equalizer]').length > 0;\n          this.isOn = false;\n          this._bindHandler = {\n            onResizeMeBound: this._onResizeMe.bind(this),\n            onPostEqualizedBound: this._onPostEqualized.bind(this)\n          };\n\n          var imgs = this.$element.find('img');\n          var tooSmall;\n          if (this.options.equalizeOn) {\n            tooSmall = this._checkMQ();\n            $(window).on('changed.zf.mediaquery', this._checkMQ.bind(this));\n          } else {\n            this._events();\n          }\n          if (tooSmall !== undefined && tooSmall === false || tooSmall === undefined) {\n            if (imgs.length) {\n              Foundation.onImagesLoaded(imgs, this._reflow.bind(this));\n            } else {\n              this._reflow();\n            }\n          }\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Removes event listeners if the breakpoint is too small.\n       * @private\n       */\n\n    }, {\n      key: '_pauseEvents',\n      value: function () {\n        function _pauseEvents() {\n          this.isOn = false;\n          this.$element.off({\n            '.zf.equalizer': this._bindHandler.onPostEqualizedBound,\n            'resizeme.zf.trigger': this._bindHandler.onResizeMeBound\n          });\n        }\n\n        return _pauseEvents;\n      }()\n\n      /**\n       * function to handle $elements resizeme.zf.trigger, with bound this on _bindHandler.onResizeMeBound\n       * @private\n       */\n\n    }, {\n      key: '_onResizeMe',\n      value: function () {\n        function _onResizeMe(e) {\n          this._reflow();\n        }\n\n        return _onResizeMe;\n      }()\n\n      /**\n       * function to handle $elements postequalized.zf.equalizer, with bound this on _bindHandler.onPostEqualizedBound\n       * @private\n       */\n\n    }, {\n      key: '_onPostEqualized',\n      value: function () {\n        function _onPostEqualized(e) {\n          if (e.target !== this.$element[0]) {\n            this._reflow();\n          }\n        }\n\n        return _onPostEqualized;\n      }()\n\n      /**\n       * Initializes events for Equalizer.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this = this;\n          this._pauseEvents();\n          if (this.hasNested) {\n            this.$element.on('postequalized.zf.equalizer', this._bindHandler.onPostEqualizedBound);\n          } else {\n            this.$element.on('resizeme.zf.trigger', this._bindHandler.onResizeMeBound);\n          }\n          this.isOn = true;\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Checks the current breakpoint to the minimum required size.\n       * @private\n       */\n\n    }, {\n      key: '_checkMQ',\n      value: function () {\n        function _checkMQ() {\n          var tooSmall = !Foundation.MediaQuery.atLeast(this.options.equalizeOn);\n          if (tooSmall) {\n            if (this.isOn) {\n              this._pauseEvents();\n              this.$watched.css('height', 'auto');\n            }\n          } else {\n            if (!this.isOn) {\n              this._events();\n            }\n          }\n          return tooSmall;\n        }\n\n        return _checkMQ;\n      }()\n\n      /**\n       * A noop version for the plugin\n       * @private\n       */\n\n    }, {\n      key: '_killswitch',\n      value: function () {\n        function _killswitch() {\n          return;\n        }\n\n        return _killswitch;\n      }()\n\n      /**\n       * Calls necessary functions to update Equalizer upon DOM change\n       * @private\n       */\n\n    }, {\n      key: '_reflow',\n      value: function () {\n        function _reflow() {\n          if (!this.options.equalizeOnStack) {\n            if (this._isStacked()) {\n              this.$watched.css('height', 'auto');\n              return false;\n            }\n          }\n          if (this.options.equalizeByRow) {\n            this.getHeightsByRow(this.applyHeightByRow.bind(this));\n          } else {\n            this.getHeights(this.applyHeight.bind(this));\n          }\n        }\n\n        return _reflow;\n      }()\n\n      /**\n       * Manually determines if the first 2 elements are *NOT* stacked.\n       * @private\n       */\n\n    }, {\n      key: '_isStacked',\n      value: function () {\n        function _isStacked() {\n          return this.$watched[0].getBoundingClientRect().top !== this.$watched[1].getBoundingClientRect().top;\n        }\n\n        return _isStacked;\n      }()\n\n      /**\n       * Finds the outer heights of children contained within an Equalizer parent and returns them in an array\n       * @param {Function} cb - A non-optional callback to return the heights array to.\n       * @returns {Array} heights - An array of heights of children within Equalizer container\n       */\n\n    }, {\n      key: 'getHeights',\n      value: function () {\n        function getHeights(cb) {\n          var heights = [];\n          for (var i = 0, len = this.$watched.length; i < len; i++) {\n            this.$watched[i].style.height = 'auto';\n            heights.push(this.$watched[i].offsetHeight);\n          }\n          cb(heights);\n        }\n\n        return getHeights;\n      }()\n\n      /**\n       * Finds the outer heights of children contained within an Equalizer parent and returns them in an array\n       * @param {Function} cb - A non-optional callback to return the heights array to.\n       * @returns {Array} groups - An array of heights of children within Equalizer container grouped by row with element,height and max as last child\n       */\n\n    }, {\n      key: 'getHeightsByRow',\n      value: function () {\n        function getHeightsByRow(cb) {\n          var lastElTopOffset = this.$watched.length ? this.$watched.first().offset().top : 0,\n              groups = [],\n              group = 0;\n          //group by Row\n          groups[group] = [];\n          for (var i = 0, len = this.$watched.length; i < len; i++) {\n            this.$watched[i].style.height = 'auto';\n            //maybe could use this.$watched[i].offsetTop\n            var elOffsetTop = $(this.$watched[i]).offset().top;\n            if (elOffsetTop != lastElTopOffset) {\n              group++;\n              groups[group] = [];\n              lastElTopOffset = elOffsetTop;\n            }\n            groups[group].push([this.$watched[i], this.$watched[i].offsetHeight]);\n          }\n\n          for (var j = 0, ln = groups.length; j < ln; j++) {\n            var heights = $(groups[j]).map(function () {\n              return this[1];\n            }).get();\n            var max = Math.max.apply(null, heights);\n            groups[j].push(max);\n          }\n          cb(groups);\n        }\n\n        return getHeightsByRow;\n      }()\n\n      /**\n       * Changes the CSS height property of each child in an Equalizer parent to match the tallest\n       * @param {array} heights - An array of heights of children within Equalizer container\n       * @fires Equalizer#preequalized\n       * @fires Equalizer#postequalized\n       */\n\n    }, {\n      key: 'applyHeight',\n      value: function () {\n        function applyHeight(heights) {\n          var max = Math.max.apply(null, heights);\n          /**\n           * Fires before the heights are applied\n           * @event Equalizer#preequalized\n           */\n          this.$element.trigger('preequalized.zf.equalizer');\n\n          this.$watched.css('height', max);\n\n          /**\n           * Fires when the heights have been applied\n           * @event Equalizer#postequalized\n           */\n          this.$element.trigger('postequalized.zf.equalizer');\n        }\n\n        return applyHeight;\n      }()\n\n      /**\n       * Changes the CSS height property of each child in an Equalizer parent to match the tallest by row\n       * @param {array} groups - An array of heights of children within Equalizer container grouped by row with element,height and max as last child\n       * @fires Equalizer#preequalized\n       * @fires Equalizer#preequalizedRow\n       * @fires Equalizer#postequalizedRow\n       * @fires Equalizer#postequalized\n       */\n\n    }, {\n      key: 'applyHeightByRow',\n      value: function () {\n        function applyHeightByRow(groups) {\n          /**\n           * Fires before the heights are applied\n           */\n          this.$element.trigger('preequalized.zf.equalizer');\n          for (var i = 0, len = groups.length; i < len; i++) {\n            var groupsILength = groups[i].length,\n                max = groups[i][groupsILength - 1];\n            if (groupsILength <= 2) {\n              $(groups[i][0][0]).css({ 'height': 'auto' });\n              continue;\n            }\n            /**\n              * Fires before the heights per row are applied\n              * @event Equalizer#preequalizedRow\n              */\n            this.$element.trigger('preequalizedrow.zf.equalizer');\n            for (var j = 0, lenJ = groupsILength - 1; j < lenJ; j++) {\n              $(groups[i][j][0]).css({ 'height': max });\n            }\n            /**\n              * Fires when the heights per row have been applied\n              * @event Equalizer#postequalizedRow\n              */\n            this.$element.trigger('postequalizedrow.zf.equalizer');\n          }\n          /**\n           * Fires when the heights have been applied\n           */\n          this.$element.trigger('postequalized.zf.equalizer');\n        }\n\n        return applyHeightByRow;\n      }()\n\n      /**\n       * Destroys an instance of Equalizer.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this._pauseEvents();\n          this.$watched.css('height', 'auto');\n\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Equalizer;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n  Equalizer.defaults = {\n    /**\n     * Enable height equalization when stacked on smaller screens.\n     * @option\n     * @example true\n     */\n    equalizeOnStack: true,\n    /**\n     * Enable height equalization row by row.\n     * @option\n     * @example false\n     */\n    equalizeByRow: false,\n    /**\n     * String representing the minimum breakpoint size the plugin should equalize heights on.\n     * @option\n     * @example 'medium'\n     */\n    equalizeOn: ''\n  };\n\n  // Window exports\n  Foundation.plugin(Equalizer, 'Equalizer');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Interchange module.\n   * @module foundation.interchange\n   * @requires foundation.util.mediaQuery\n   * @requires foundation.util.timerAndImageLoader\n   */\n\n  var Interchange = function () {\n    /**\n     * Creates a new instance of Interchange.\n     * @class\n     * @fires Interchange#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Interchange(element, options) {\n      _classCallCheck(this, Interchange);\n\n      this.$element = element;\n      this.options = $.extend({}, Interchange.defaults, options);\n      this.rules = [];\n      this.currentPath = '';\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'Interchange');\n    }\n\n    /**\n     * Initializes the Interchange plugin and calls functions to get interchange functioning on load.\n     * @function\n     * @private\n     */\n\n    _createClass(Interchange, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          this._addBreakpoints();\n          this._generateRules();\n          this._reflow();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Initializes events for Interchange.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          $(window).on('resize.zf.interchange', Foundation.util.throttle(this._reflow.bind(this), 50));\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Calls necessary functions to update Interchange upon DOM change\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_reflow',\n      value: function () {\n        function _reflow() {\n          var match;\n\n          // Iterate through each rule, but only save the last match\n          for (var i in meteorBabelHelpers.sanitizeForInObject(this.rules)) {\n            if (this.rules.hasOwnProperty(i)) {\n              var rule = this.rules[i];\n\n              if (window.matchMedia(rule.query).matches) {\n                match = rule;\n              }\n            }\n          }\n\n          if (match) {\n            this.replace(match.path);\n          }\n        }\n\n        return _reflow;\n      }()\n\n      /**\n       * Gets the Foundation breakpoints and adds them to the Interchange.SPECIAL_QUERIES object.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_addBreakpoints',\n      value: function () {\n        function _addBreakpoints() {\n          for (var i in meteorBabelHelpers.sanitizeForInObject(Foundation.MediaQuery.queries)) {\n            if (Foundation.MediaQuery.queries.hasOwnProperty(i)) {\n              var query = Foundation.MediaQuery.queries[i];\n              Interchange.SPECIAL_QUERIES[query.name] = query.value;\n            }\n          }\n        }\n\n        return _addBreakpoints;\n      }()\n\n      /**\n       * Checks the Interchange element for the provided media query + content pairings\n       * @function\n       * @private\n       * @param {Object} element - jQuery object that is an Interchange instance\n       * @returns {Array} scenarios - Array of objects that have 'mq' and 'path' keys with corresponding keys\n       */\n\n    }, {\n      key: '_generateRules',\n      value: function () {\n        function _generateRules(element) {\n          var rulesList = [];\n          var rules;\n\n          if (this.options.rules) {\n            rules = this.options.rules;\n          } else {\n            rules = this.$element.data('interchange').match(/\\[.*?\\]/g);\n          }\n\n          for (var i in meteorBabelHelpers.sanitizeForInObject(rules)) {\n            if (rules.hasOwnProperty(i)) {\n              var rule = rules[i].slice(1, -1).split(', ');\n              var path = rule.slice(0, -1).join('');\n              var query = rule[rule.length - 1];\n\n              if (Interchange.SPECIAL_QUERIES[query]) {\n                query = Interchange.SPECIAL_QUERIES[query];\n              }\n\n              rulesList.push({\n                path: path,\n                query: query\n              });\n            }\n          }\n\n          this.rules = rulesList;\n        }\n\n        return _generateRules;\n      }()\n\n      /**\n       * Update the `src` property of an image, or change the HTML of a container, to the specified path.\n       * @function\n       * @param {String} path - Path to the image or HTML partial.\n       * @fires Interchange#replaced\n       */\n\n    }, {\n      key: 'replace',\n      value: function () {\n        function replace(path) {\n          if (this.currentPath === path) return;\n\n          var _this = this,\n              trigger = 'replaced.zf.interchange';\n\n          // Replacing images\n          if (this.$element[0].nodeName === 'IMG') {\n            this.$element.attr('src', path).load(function () {\n              _this.currentPath = path;\n            }).trigger(trigger);\n          }\n          // Replacing background images\n          else if (path.match(/\\.(gif|jpg|jpeg|png|svg|tiff)([?#].*)?/i)) {\n              this.$element.css({ 'background-image': 'url(' + path + ')' }).trigger(trigger);\n            }\n            // Replacing HTML\n            else {\n                $.get(path, function (response) {\n                  _this.$element.html(response).trigger(trigger);\n                  $(response).foundation();\n                  _this.currentPath = path;\n                });\n              }\n\n          /**\n           * Fires when content in an Interchange element is done being loaded.\n           * @event Interchange#replaced\n           */\n          // this.$element.trigger('replaced.zf.interchange');\n        }\n\n        return replace;\n      }()\n\n      /**\n       * Destroys an instance of interchange.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          //TODO this.\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Interchange;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n  Interchange.defaults = {\n    /**\n     * Rules to be applied to Interchange elements. Set with the `data-interchange` array notation.\n     * @option\n     */\n    rules: null\n  };\n\n  Interchange.SPECIAL_QUERIES = {\n    'landscape': 'screen and (orientation: landscape)',\n    'portrait': 'screen and (orientation: portrait)',\n    'retina': 'only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)'\n  };\n\n  // Window exports\n  Foundation.plugin(Interchange, 'Interchange');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Magellan module.\n   * @module foundation.magellan\n   */\n\n  var Magellan = function () {\n    /**\n     * Creates a new instance of Magellan.\n     * @class\n     * @fires Magellan#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Magellan(element, options) {\n      _classCallCheck(this, Magellan);\n\n      this.$element = element;\n      this.options = $.extend({}, Magellan.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Magellan');\n    }\n\n    /**\n     * Initializes the Magellan plugin and calls functions to get equalizer functioning on load.\n     * @private\n     */\n\n    _createClass(Magellan, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          var id = this.$element[0].id || Foundation.GetYoDigits(6, 'magellan');\n          var _this = this;\n          this.$targets = $('[data-magellan-target]');\n          this.$links = this.$element.find('a');\n          this.$element.attr({\n            'data-resize': id,\n            'data-scroll': id,\n            'id': id\n          });\n          this.$active = $();\n          this.scrollPos = parseInt(window.pageYOffset, 10);\n\n          this._events();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Calculates an array of pixel values that are the demarcation lines between locations on the page.\n       * Can be invoked if new elements are added or the size of a location changes.\n       * @function\n       */\n\n    }, {\n      key: 'calcPoints',\n      value: function () {\n        function calcPoints() {\n          var _this = this,\n              body = document.body,\n              html = document.documentElement;\n\n          this.points = [];\n          this.winHeight = Math.round(Math.max(window.innerHeight, html.clientHeight));\n          this.docHeight = Math.round(Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight));\n\n          this.$targets.each(function () {\n            var $tar = $(this),\n                pt = Math.round($tar.offset().top - _this.options.threshold);\n            $tar.targetPoint = pt;\n            _this.points.push(pt);\n          });\n        }\n\n        return calcPoints;\n      }()\n\n      /**\n       * Initializes events for Magellan.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this = this,\n              $body = $('html, body'),\n              opts = {\n            duration: _this.options.animationDuration,\n            easing: _this.options.animationEasing\n          };\n          $(window).one('load', function () {\n            if (_this.options.deepLinking) {\n              if (location.hash) {\n                _this.scrollToLoc(location.hash);\n              }\n            }\n            _this.calcPoints();\n            _this._updateActive();\n          });\n\n          this.$element.on({\n            'resizeme.zf.trigger': this.reflow.bind(this),\n            'scrollme.zf.trigger': this._updateActive.bind(this)\n          }).on('click.zf.magellan', 'a[href^=\"#\"]', function (e) {\n            e.preventDefault();\n            var arrival = this.getAttribute('href');\n            _this.scrollToLoc(arrival);\n          });\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Function to scroll to a given location on the page.\n       * @param {String} loc - a properly formatted jQuery id selector. Example: '#foo'\n       * @function\n       */\n\n    }, {\n      key: 'scrollToLoc',\n      value: function () {\n        function scrollToLoc(loc) {\n          var scrollPos = Math.round($(loc).offset().top - this.options.threshold / 2 - this.options.barOffset);\n\n          $('html, body').stop(true).animate({ scrollTop: scrollPos }, this.options.animationDuration, this.options.animationEasing);\n        }\n\n        return scrollToLoc;\n      }()\n\n      /**\n       * Calls necessary functions to update Magellan upon DOM change\n       * @function\n       */\n\n    }, {\n      key: 'reflow',\n      value: function () {\n        function reflow() {\n          this.calcPoints();\n          this._updateActive();\n        }\n\n        return reflow;\n      }()\n\n      /**\n       * Updates the visibility of an active location link, and updates the url hash for the page, if deepLinking enabled.\n       * @private\n       * @function\n       * @fires Magellan#update\n       */\n\n    }, {\n      key: '_updateActive',\n      value: function () {\n        function _updateActive() /*evt, elem, scrollPos*/{\n          var winPos = /*scrollPos ||*/parseInt(window.pageYOffset, 10),\n              curIdx;\n\n          if (winPos + this.winHeight === this.docHeight) {\n            curIdx = this.points.length - 1;\n          } else if (winPos < this.points[0]) {\n            curIdx = 0;\n          } else {\n            var isDown = this.scrollPos < winPos,\n                _this = this,\n                curVisible = this.points.filter(function (p, i) {\n              return isDown ? p - _this.options.barOffset <= winPos : p - _this.options.barOffset - _this.options.threshold <= winPos;\n            });\n            curIdx = curVisible.length ? curVisible.length - 1 : 0;\n          }\n\n          this.$active.removeClass(this.options.activeClass);\n          this.$active = this.$links.eq(curIdx).addClass(this.options.activeClass);\n\n          if (this.options.deepLinking) {\n            var hash = this.$active[0].getAttribute('href');\n            if (window.history.pushState) {\n              window.history.pushState(null, null, hash);\n            } else {\n              window.location.hash = hash;\n            }\n          }\n\n          this.scrollPos = winPos;\n          /**\n           * Fires when magellan is finished updating to the new active element.\n           * @event Magellan#update\n           */\n          this.$element.trigger('update.zf.magellan', [this.$active]);\n        }\n\n        return _updateActive;\n      }()\n\n      /**\n       * Destroys an instance of Magellan and resets the url of the window.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$element.off('.zf.trigger .zf.magellan').find('.' + this.options.activeClass).removeClass(this.options.activeClass);\n\n          if (this.options.deepLinking) {\n            var hash = this.$active[0].getAttribute('href');\n            window.location.hash.replace(hash, '');\n          }\n\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Magellan;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n  Magellan.defaults = {\n    /**\n     * Amount of time, in ms, the animated scrolling should take between locations.\n     * @option\n     * @example 500\n     */\n    animationDuration: 500,\n    /**\n     * Animation style to use when scrolling between locations.\n     * @option\n     * @example 'ease-in-out'\n     */\n    animationEasing: 'linear',\n    /**\n     * Number of pixels to use as a marker for location changes.\n     * @option\n     * @example 50\n     */\n    threshold: 50,\n    /**\n     * Class applied to the active locations link on the magellan container.\n     * @option\n     * @example 'active'\n     */\n    activeClass: 'active',\n    /**\n     * Allows the script to manipulate the url of the current page, and if supported, alter the history.\n     * @option\n     * @example true\n     */\n    deepLinking: false,\n    /**\n     * Number of pixels to offset the scroll of the page on item click if using a sticky nav bar.\n     * @option\n     * @example 25\n     */\n    barOffset: 0\n  };\n\n  // Window exports\n  Foundation.plugin(Magellan, 'Magellan');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * OffCanvas module.\n   * @module foundation.offcanvas\n   * @requires foundation.util.mediaQuery\n   * @requires foundation.util.triggers\n   * @requires foundation.util.motion\n   */\n\n  var OffCanvas = function () {\n    /**\n     * Creates a new instance of an off-canvas wrapper.\n     * @class\n     * @fires OffCanvas#init\n     * @param {Object} element - jQuery object to initialize.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function OffCanvas(element, options) {\n      _classCallCheck(this, OffCanvas);\n\n      this.$element = element;\n      this.options = $.extend({}, OffCanvas.defaults, this.$element.data(), options);\n      this.$lastTrigger = $();\n      this.$triggers = $();\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'OffCanvas');\n    }\n\n    /**\n     * Initializes the off-canvas wrapper by adding the exit overlay (if needed).\n     * @function\n     * @private\n     */\n\n    _createClass(OffCanvas, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          var id = this.$element.attr('id');\n\n          this.$element.attr('aria-hidden', 'true');\n\n          // Find triggers that affect this element and add aria-expanded to them\n          this.$triggers = $(document).find('[data-open=\"' + id + '\"], [data-close=\"' + id + '\"], [data-toggle=\"' + id + '\"]').attr('aria-expanded', 'false').attr('aria-controls', id);\n\n          // Add a close trigger over the body if necessary\n          if (this.options.closeOnClick) {\n            if ($('.js-off-canvas-exit').length) {\n              this.$exiter = $('.js-off-canvas-exit');\n            } else {\n              var exiter = document.createElement('div');\n              exiter.setAttribute('class', 'js-off-canvas-exit');\n              $('[data-off-canvas-content]').append(exiter);\n\n              this.$exiter = $(exiter);\n            }\n          }\n\n          this.options.isRevealed = this.options.isRevealed || new RegExp(this.options.revealClass, 'g').test(this.$element[0].className);\n\n          if (this.options.isRevealed) {\n            this.options.revealOn = this.options.revealOn || this.$element[0].className.match(/(reveal-for-medium|reveal-for-large)/g)[0].split('-')[2];\n            this._setMQChecker();\n          }\n          if (!this.options.transitionTime) {\n            this.options.transitionTime = parseFloat(window.getComputedStyle($('[data-off-canvas-wrapper]')[0]).transitionDuration) * 1000;\n          }\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Adds event handlers to the off-canvas wrapper and the exit overlay.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          this.$element.off('.zf.trigger .zf.offcanvas').on({\n            'open.zf.trigger': this.open.bind(this),\n            'close.zf.trigger': this.close.bind(this),\n            'toggle.zf.trigger': this.toggle.bind(this),\n            'keydown.zf.offcanvas': this._handleKeyboard.bind(this)\n          });\n\n          if (this.options.closeOnClick && this.$exiter.length) {\n            this.$exiter.on({ 'click.zf.offcanvas': this.close.bind(this) });\n          }\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Applies event listener for elements that will reveal at certain breakpoints.\n       * @private\n       */\n\n    }, {\n      key: '_setMQChecker',\n      value: function () {\n        function _setMQChecker() {\n          var _this = this;\n\n          $(window).on('changed.zf.mediaquery', function () {\n            if (Foundation.MediaQuery.atLeast(_this.options.revealOn)) {\n              _this.reveal(true);\n            } else {\n              _this.reveal(false);\n            }\n          }).one('load.zf.offcanvas', function () {\n            if (Foundation.MediaQuery.atLeast(_this.options.revealOn)) {\n              _this.reveal(true);\n            }\n          });\n        }\n\n        return _setMQChecker;\n      }()\n\n      /**\n       * Handles the revealing/hiding the off-canvas at breakpoints, not the same as open.\n       * @param {Boolean} isRevealed - true if element should be revealed.\n       * @function\n       */\n\n    }, {\n      key: 'reveal',\n      value: function () {\n        function reveal(isRevealed) {\n          var $closer = this.$element.find('[data-close]');\n          if (isRevealed) {\n            this.close();\n            this.isRevealed = true;\n            // if (!this.options.forceTop) {\n            //   var scrollPos = parseInt(window.pageYOffset);\n            //   this.$element[0].style.transform = 'translate(0,' + scrollPos + 'px)';\n            // }\n            // if (this.options.isSticky) { this._stick(); }\n            this.$element.off('open.zf.trigger toggle.zf.trigger');\n            if ($closer.length) {\n              $closer.hide();\n            }\n          } else {\n            this.isRevealed = false;\n            // if (this.options.isSticky || !this.options.forceTop) {\n            //   this.$element[0].style.transform = '';\n            //   $(window).off('scroll.zf.offcanvas');\n            // }\n            this.$element.on({\n              'open.zf.trigger': this.open.bind(this),\n              'toggle.zf.trigger': this.toggle.bind(this)\n            });\n            if ($closer.length) {\n              $closer.show();\n            }\n          }\n        }\n\n        return reveal;\n      }()\n\n      /**\n       * Opens the off-canvas menu.\n       * @function\n       * @param {Object} event - Event object passed from listener.\n       * @param {jQuery} trigger - element that triggered the off-canvas to open.\n       * @fires OffCanvas#opened\n       */\n\n    }, {\n      key: 'open',\n      value: function () {\n        function open(event, trigger) {\n          if (this.$element.hasClass('is-open') || this.isRevealed) {\n            return;\n          }\n          var _this = this,\n              $body = $(document.body);\n\n          if (this.options.forceTop) {\n            $('body').scrollTop(0);\n          }\n          // window.pageYOffset = 0;\n\n          // if (!this.options.forceTop) {\n          //   var scrollPos = parseInt(window.pageYOffset);\n          //   this.$element[0].style.transform = 'translate(0,' + scrollPos + 'px)';\n          //   if (this.$exiter.length) {\n          //     this.$exiter[0].style.transform = 'translate(0,' + scrollPos + 'px)';\n          //   }\n          // }\n          /**\n           * Fires when the off-canvas menu opens.\n           * @event OffCanvas#opened\n           */\n          Foundation.Move(this.options.transitionTime, this.$element, function () {\n            $('[data-off-canvas-wrapper]').addClass('is-off-canvas-open is-open-' + _this.options.position);\n\n            _this.$element.addClass('is-open');\n\n            // if (_this.options.isSticky) {\n            //   _this._stick();\n            // }\n          });\n\n          this.$triggers.attr('aria-expanded', 'true');\n          this.$element.attr('aria-hidden', 'false').trigger('opened.zf.offcanvas');\n\n          if (this.options.closeOnClick) {\n            this.$exiter.addClass('is-visible');\n          }\n\n          if (trigger) {\n            this.$lastTrigger = trigger;\n          }\n\n          if (this.options.autoFocus) {\n            this.$element.one(Foundation.transitionend(this.$element), function () {\n              _this.$element.find('a, button').eq(0).focus();\n            });\n          }\n\n          if (this.options.trapFocus) {\n            $('[data-off-canvas-content]').attr('tabindex', '-1');\n            this._trapFocus();\n          }\n        }\n\n        return open;\n      }()\n\n      /**\n       * Traps focus within the offcanvas on open.\n       * @private\n       */\n\n    }, {\n      key: '_trapFocus',\n      value: function () {\n        function _trapFocus() {\n          var focusable = Foundation.Keyboard.findFocusable(this.$element),\n              first = focusable.eq(0),\n              last = focusable.eq(-1);\n\n          focusable.off('.zf.offcanvas').on('keydown.zf.offcanvas', function (e) {\n            if (e.which === 9 || e.keycode === 9) {\n              if (e.target === last[0] && !e.shiftKey) {\n                e.preventDefault();\n                first.focus();\n              }\n              if (e.target === first[0] && e.shiftKey) {\n                e.preventDefault();\n                last.focus();\n              }\n            }\n          });\n        }\n\n        return _trapFocus;\n      }()\n\n      /**\n       * Allows the offcanvas to appear sticky utilizing translate properties.\n       * @private\n       */\n      // OffCanvas.prototype._stick = function() {\n      //   var elStyle = this.$element[0].style;\n      //\n      //   if (this.options.closeOnClick) {\n      //     var exitStyle = this.$exiter[0].style;\n      //   }\n      //\n      //   $(window).on('scroll.zf.offcanvas', function(e) {\n      //     console.log(e);\n      //     var pageY = window.pageYOffset;\n      //     elStyle.transform = 'translate(0,' + pageY + 'px)';\n      //     if (exitStyle !== undefined) { exitStyle.transform = 'translate(0,' + pageY + 'px)'; }\n      //   });\n      //   // this.$element.trigger('stuck.zf.offcanvas');\n      // };\n      /**\n       * Closes the off-canvas menu.\n       * @function\n       * @param {Function} cb - optional cb to fire after closure.\n       * @fires OffCanvas#closed\n       */\n\n    }, {\n      key: 'close',\n      value: function () {\n        function close(cb) {\n          if (!this.$element.hasClass('is-open') || this.isRevealed) {\n            return;\n          }\n\n          var _this = this;\n\n          //  Foundation.Move(this.options.transitionTime, this.$element, function() {\n          $('[data-off-canvas-wrapper]').removeClass('is-off-canvas-open is-open-' + _this.options.position);\n          _this.$element.removeClass('is-open');\n          // Foundation._reflow();\n          // });\n          this.$element.attr('aria-hidden', 'true')\n          /**\n           * Fires when the off-canvas menu opens.\n           * @event OffCanvas#closed\n           */\n          .trigger('closed.zf.offcanvas');\n          // if (_this.options.isSticky || !_this.options.forceTop) {\n          //   setTimeout(function() {\n          //     _this.$element[0].style.transform = '';\n          //     $(window).off('scroll.zf.offcanvas');\n          //   }, this.options.transitionTime);\n          // }\n          if (this.options.closeOnClick) {\n            this.$exiter.removeClass('is-visible');\n          }\n\n          this.$triggers.attr('aria-expanded', 'false');\n          if (this.options.trapFocus) {\n            $('[data-off-canvas-content]').removeAttr('tabindex');\n          }\n        }\n\n        return close;\n      }()\n\n      /**\n       * Toggles the off-canvas menu open or closed.\n       * @function\n       * @param {Object} event - Event object passed from listener.\n       * @param {jQuery} trigger - element that triggered the off-canvas to open.\n       */\n\n    }, {\n      key: 'toggle',\n      value: function () {\n        function toggle(event, trigger) {\n          if (this.$element.hasClass('is-open')) {\n            this.close(event, trigger);\n          } else {\n            this.open(event, trigger);\n          }\n        }\n\n        return toggle;\n      }()\n\n      /**\n       * Handles keyboard input when detected. When the escape key is pressed, the off-canvas menu closes, and focus is restored to the element that opened the menu.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_handleKeyboard',\n      value: function () {\n        function _handleKeyboard(event) {\n          if (event.which !== 27) return;\n\n          event.stopPropagation();\n          event.preventDefault();\n          this.close();\n          this.$lastTrigger.focus();\n        }\n\n        return _handleKeyboard;\n      }()\n\n      /**\n       * Destroys the offcanvas plugin.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.close();\n          this.$element.off('.zf.trigger .zf.offcanvas');\n          this.$exiter.off('.zf.offcanvas');\n\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return OffCanvas;\n  }();\n\n  OffCanvas.defaults = {\n    /**\n     * Allow the user to click outside of the menu to close it.\n     * @option\n     * @example true\n     */\n    closeOnClick: true,\n\n    /**\n     * Amount of time in ms the open and close transition requires. If none selected, pulls from body style.\n     * @option\n     * @example 500\n     */\n    transitionTime: 0,\n\n    /**\n     * Direction the offcanvas opens from. Determines class applied to body.\n     * @option\n     * @example left\n     */\n    position: 'left',\n\n    /**\n     * Force the page to scroll to top on open.\n     * @option\n     * @example true\n     */\n    forceTop: true,\n\n    /**\n     * Allow the offcanvas to remain open for certain breakpoints.\n     * @option\n     * @example false\n     */\n    isRevealed: false,\n\n    /**\n     * Breakpoint at which to reveal. JS will use a RegExp to target standard classes, if changing classnames, pass your class with the `revealClass` option.\n     * @option\n     * @example reveal-for-large\n     */\n    revealOn: null,\n\n    /**\n     * Force focus to the offcanvas on open. If true, will focus the opening trigger on close.\n     * @option\n     * @example true\n     */\n    autoFocus: true,\n\n    /**\n     * Class used to force an offcanvas to remain open. Foundation defaults for this are `reveal-for-large` & `reveal-for-medium`.\n     * @option\n     * TODO improve the regex testing for this.\n     * @example reveal-for-large\n     */\n    revealClass: 'reveal-for-',\n\n    /**\n     * Triggers optional focus trapping when opening an offcanvas. Sets tabindex of [data-off-canvas-content] to -1 for accessibility purposes.\n     * @option\n     * @example true\n     */\n    trapFocus: false\n  };\n\n  // Window exports\n  Foundation.plugin(OffCanvas, 'OffCanvas');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Orbit module.\n   * @module foundation.orbit\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   * @requires foundation.util.timerAndImageLoader\n   * @requires foundation.util.touch\n   */\n\n  var Orbit = function () {\n    /**\n    * Creates a new instance of an orbit carousel.\n    * @class\n    * @param {jQuery} element - jQuery object to make into an Orbit Carousel.\n    * @param {Object} options - Overrides to the default plugin settings.\n    */\n\n    function Orbit(element, options) {\n      _classCallCheck(this, Orbit);\n\n      this.$element = element;\n      this.options = $.extend({}, Orbit.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Orbit');\n      Foundation.Keyboard.register('Orbit', {\n        'ltr': {\n          'ARROW_RIGHT': 'next',\n          'ARROW_LEFT': 'previous'\n        },\n        'rtl': {\n          'ARROW_LEFT': 'next',\n          'ARROW_RIGHT': 'previous'\n        }\n      });\n    }\n\n    /**\n    * Initializes the plugin by creating jQuery collections, setting attributes, and starting the animation.\n    * @function\n    * @private\n    */\n\n    _createClass(Orbit, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          this.$wrapper = this.$element.find('.' + this.options.containerClass);\n          this.$slides = this.$element.find('.' + this.options.slideClass);\n          var $images = this.$element.find('img'),\n              initActive = this.$slides.filter('.is-active');\n\n          if (!initActive.length) {\n            this.$slides.eq(0).addClass('is-active');\n          }\n\n          if (!this.options.useMUI) {\n            this.$slides.addClass('no-motionui');\n          }\n\n          if ($images.length) {\n            Foundation.onImagesLoaded($images, this._prepareForOrbit.bind(this));\n          } else {\n            this._prepareForOrbit(); //hehe\n          }\n\n          if (this.options.bullets) {\n            this._loadBullets();\n          }\n\n          this._events();\n\n          if (this.options.autoPlay && this.$slides.length > 1) {\n            this.geoSync();\n          }\n\n          if (this.options.accessible) {\n            // allow wrapper to be focusable to enable arrow navigation\n            this.$wrapper.attr('tabindex', 0);\n          }\n        }\n\n        return _init;\n      }()\n\n      /**\n      * Creates a jQuery collection of bullets, if they are being used.\n      * @function\n      * @private\n      */\n\n    }, {\n      key: '_loadBullets',\n      value: function () {\n        function _loadBullets() {\n          this.$bullets = this.$element.find('.' + this.options.boxOfBullets).find('button');\n        }\n\n        return _loadBullets;\n      }()\n\n      /**\n      * Sets a `timer` object on the orbit, and starts the counter for the next slide.\n      * @function\n      */\n\n    }, {\n      key: 'geoSync',\n      value: function () {\n        function geoSync() {\n          var _this = this;\n          this.timer = new Foundation.Timer(this.$element, {\n            duration: this.options.timerDelay,\n            infinite: false\n          }, function () {\n            _this.changeSlide(true);\n          });\n          this.timer.start();\n        }\n\n        return geoSync;\n      }()\n\n      /**\n      * Sets wrapper and slide heights for the orbit.\n      * @function\n      * @private\n      */\n\n    }, {\n      key: '_prepareForOrbit',\n      value: function () {\n        function _prepareForOrbit() {\n          var _this = this;\n          this._setWrapperHeight(function (max) {\n            _this._setSlideHeight(max);\n          });\n        }\n\n        return _prepareForOrbit;\n      }()\n\n      /**\n      * Calulates the height of each slide in the collection, and uses the tallest one for the wrapper height.\n      * @function\n      * @private\n      * @param {Function} cb - a callback function to fire when complete.\n      */\n\n    }, {\n      key: '_setWrapperHeight',\n      value: function () {\n        function _setWrapperHeight(cb) {\n          //rewrite this to `for` loop\n          var max = 0,\n              temp,\n              counter = 0;\n\n          this.$slides.each(function () {\n            temp = this.getBoundingClientRect().height;\n            $(this).attr('data-slide', counter);\n\n            if (counter) {\n              //if not the first slide, set css position and display property\n              $(this).css({ 'position': 'relative', 'display': 'none' });\n            }\n            max = temp > max ? temp : max;\n            counter++;\n          });\n\n          if (counter === this.$slides.length) {\n            this.$wrapper.css({ 'height': max }); //only change the wrapper height property once.\n            cb(max); //fire callback with max height dimension.\n          }\n        }\n\n        return _setWrapperHeight;\n      }()\n\n      /**\n      * Sets the max-height of each slide.\n      * @function\n      * @private\n      */\n\n    }, {\n      key: '_setSlideHeight',\n      value: function () {\n        function _setSlideHeight(height) {\n          this.$slides.each(function () {\n            $(this).css('max-height', height);\n          });\n        }\n\n        return _setSlideHeight;\n      }()\n\n      /**\n      * Adds event listeners to basically everything within the element.\n      * @function\n      * @private\n      */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this = this;\n\n          //***************************************\n          //**Now using custom event - thanks to:**\n          //**      Yohai Ararat of Toronto      **\n          //***************************************\n          if (this.$slides.length > 1) {\n\n            if (this.options.swipe) {\n              this.$slides.off('swipeleft.zf.orbit swiperight.zf.orbit').on('swipeleft.zf.orbit', function (e) {\n                e.preventDefault();\n                _this.changeSlide(true);\n              }).on('swiperight.zf.orbit', function (e) {\n                e.preventDefault();\n                _this.changeSlide(false);\n              });\n            }\n            //***************************************\n\n            if (this.options.autoPlay) {\n              this.$slides.on('click.zf.orbit', function () {\n                _this.$element.data('clickedOn', _this.$element.data('clickedOn') ? false : true);\n                _this.timer[_this.$element.data('clickedOn') ? 'pause' : 'start']();\n              });\n\n              if (this.options.pauseOnHover) {\n                this.$element.on('mouseenter.zf.orbit', function () {\n                  _this.timer.pause();\n                }).on('mouseleave.zf.orbit', function () {\n                  if (!_this.$element.data('clickedOn')) {\n                    _this.timer.start();\n                  }\n                });\n              }\n            }\n\n            if (this.options.navButtons) {\n              var $controls = this.$element.find('.' + this.options.nextClass + ', .' + this.options.prevClass);\n              $controls.attr('tabindex', 0)\n              //also need to handle enter/return and spacebar key presses\n              .on('click.zf.orbit touchend.zf.orbit', function (e) {\n                e.preventDefault();\n                _this.changeSlide($(this).hasClass(_this.options.nextClass));\n              });\n            }\n\n            if (this.options.bullets) {\n              this.$bullets.on('click.zf.orbit touchend.zf.orbit', function () {\n                if (/is-active/g.test(this.className)) {\n                  return false;\n                } //if this is active, kick out of function.\n                var idx = $(this).data('slide'),\n                    ltr = idx > _this.$slides.filter('.is-active').data('slide'),\n                    $slide = _this.$slides.eq(idx);\n\n                _this.changeSlide(ltr, $slide, idx);\n              });\n            }\n\n            this.$wrapper.add(this.$bullets).on('keydown.zf.orbit', function (e) {\n              // handle keyboard event with keyboard util\n              Foundation.Keyboard.handleKey(e, 'Orbit', {\n                next: function () {\n                  function next() {\n                    _this.changeSlide(true);\n                  }\n\n                  return next;\n                }(),\n                previous: function () {\n                  function previous() {\n                    _this.changeSlide(false);\n                  }\n\n                  return previous;\n                }(),\n                handled: function () {\n                  function handled() {\n                    // if bullet is focused, make sure focus moves\n                    if ($(e.target).is(_this.$bullets)) {\n                      _this.$bullets.filter('.is-active').focus();\n                    }\n                  }\n\n                  return handled;\n                }()\n              });\n            });\n          }\n        }\n\n        return _events;\n      }()\n\n      /**\n      * Changes the current slide to a new one.\n      * @function\n      * @param {Boolean} isLTR - flag if the slide should move left to right.\n      * @param {jQuery} chosenSlide - the jQuery element of the slide to show next, if one is selected.\n      * @param {Number} idx - the index of the new slide in its collection, if one chosen.\n      * @fires Orbit#slidechange\n      */\n\n    }, {\n      key: 'changeSlide',\n      value: function () {\n        function changeSlide(isLTR, chosenSlide, idx) {\n          var $curSlide = this.$slides.filter('.is-active').eq(0);\n\n          if (/mui/g.test($curSlide[0].className)) {\n            return false;\n          } //if the slide is currently animating, kick out of the function\n\n          var $firstSlide = this.$slides.first(),\n              $lastSlide = this.$slides.last(),\n              dirIn = isLTR ? 'Right' : 'Left',\n              dirOut = isLTR ? 'Left' : 'Right',\n              _this = this,\n              $newSlide;\n\n          if (!chosenSlide) {\n            //most of the time, this will be auto played or clicked from the navButtons.\n            $newSlide = isLTR ? //if wrapping enabled, check to see if there is a `next` or `prev` sibling, if not, select the first or last slide to fill in. if wrapping not enabled, attempt to select `next` or `prev`, if there's nothing there, the function will kick out on next step. CRAZY NESTED TERNARIES!!!!!\n            this.options.infiniteWrap ? $curSlide.next('.' + this.options.slideClass).length ? $curSlide.next('.' + this.options.slideClass) : $firstSlide : $curSlide.next('.' + this.options.slideClass) : //pick next slide if moving left to right\n            this.options.infiniteWrap ? $curSlide.prev('.' + this.options.slideClass).length ? $curSlide.prev('.' + this.options.slideClass) : $lastSlide : $curSlide.prev('.' + this.options.slideClass); //pick prev slide if moving right to left\n          } else {\n              $newSlide = chosenSlide;\n            }\n\n          if ($newSlide.length) {\n            if (this.options.bullets) {\n              idx = idx || this.$slides.index($newSlide); //grab index to update bullets\n              this._updateBullets(idx);\n            }\n\n            if (this.options.useMUI) {\n              Foundation.Motion.animateIn($newSlide.addClass('is-active').css({ 'position': 'absolute', 'top': 0 }), this.options['animInFrom' + dirIn], function () {\n                $newSlide.css({ 'position': 'relative', 'display': 'block' }).attr('aria-live', 'polite');\n              });\n\n              Foundation.Motion.animateOut($curSlide.removeClass('is-active'), this.options['animOutTo' + dirOut], function () {\n                $curSlide.removeAttr('aria-live');\n                if (_this.options.autoPlay && !_this.timer.isPaused) {\n                  _this.timer.restart();\n                }\n                //do stuff?\n              });\n            } else {\n                $curSlide.removeClass('is-active is-in').removeAttr('aria-live').hide();\n                $newSlide.addClass('is-active is-in').attr('aria-live', 'polite').show();\n                if (this.options.autoPlay && !this.timer.isPaused) {\n                  this.timer.restart();\n                }\n              }\n            /**\n            * Triggers when the slide has finished animating in.\n            * @event Orbit#slidechange\n            */\n            this.$element.trigger('slidechange.zf.orbit', [$newSlide]);\n          }\n        }\n\n        return changeSlide;\n      }()\n\n      /**\n      * Updates the active state of the bullets, if displayed.\n      * @function\n      * @private\n      * @param {Number} idx - the index of the current slide.\n      */\n\n    }, {\n      key: '_updateBullets',\n      value: function () {\n        function _updateBullets(idx) {\n          var $oldBullet = this.$element.find('.' + this.options.boxOfBullets).find('.is-active').removeClass('is-active').blur(),\n              span = $oldBullet.find('span:last').detach(),\n              $newBullet = this.$bullets.eq(idx).addClass('is-active').append(span);\n        }\n\n        return _updateBullets;\n      }()\n\n      /**\n      * Destroys the carousel and hides the element.\n      * @function\n      */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$element.off('.zf.orbit').find('*').off('.zf.orbit').end().hide();\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Orbit;\n  }();\n\n  Orbit.defaults = {\n    /**\n    * Tells the JS to look for and loadBullets.\n    * @option\n    * @example true\n    */\n    bullets: true,\n    /**\n    * Tells the JS to apply event listeners to nav buttons\n    * @option\n    * @example true\n    */\n    navButtons: true,\n    /**\n    * motion-ui animation class to apply\n    * @option\n    * @example 'slide-in-right'\n    */\n    animInFromRight: 'slide-in-right',\n    /**\n    * motion-ui animation class to apply\n    * @option\n    * @example 'slide-out-right'\n    */\n    animOutToRight: 'slide-out-right',\n    /**\n    * motion-ui animation class to apply\n    * @option\n    * @example 'slide-in-left'\n    *\n    */\n    animInFromLeft: 'slide-in-left',\n    /**\n    * motion-ui animation class to apply\n    * @option\n    * @example 'slide-out-left'\n    */\n    animOutToLeft: 'slide-out-left',\n    /**\n    * Allows Orbit to automatically animate on page load.\n    * @option\n    * @example true\n    */\n    autoPlay: true,\n    /**\n    * Amount of time, in ms, between slide transitions\n    * @option\n    * @example 5000\n    */\n    timerDelay: 5000,\n    /**\n    * Allows Orbit to infinitely loop through the slides\n    * @option\n    * @example true\n    */\n    infiniteWrap: true,\n    /**\n    * Allows the Orbit slides to bind to swipe events for mobile, requires an additional util library\n    * @option\n    * @example true\n    */\n    swipe: true,\n    /**\n    * Allows the timing function to pause animation on hover.\n    * @option\n    * @example true\n    */\n    pauseOnHover: true,\n    /**\n    * Allows Orbit to bind keyboard events to the slider, to animate frames with arrow keys\n    * @option\n    * @example true\n    */\n    accessible: true,\n    /**\n    * Class applied to the container of Orbit\n    * @option\n    * @example 'orbit-container'\n    */\n    containerClass: 'orbit-container',\n    /**\n    * Class applied to individual slides.\n    * @option\n    * @example 'orbit-slide'\n    */\n    slideClass: 'orbit-slide',\n    /**\n    * Class applied to the bullet container. You're welcome.\n    * @option\n    * @example 'orbit-bullets'\n    */\n    boxOfBullets: 'orbit-bullets',\n    /**\n    * Class applied to the `next` navigation button.\n    * @option\n    * @example 'orbit-next'\n    */\n    nextClass: 'orbit-next',\n    /**\n    * Class applied to the `previous` navigation button.\n    * @option\n    * @example 'orbit-previous'\n    */\n    prevClass: 'orbit-previous',\n    /**\n    * Boolean to flag the js to use motion ui classes or not. Default to true for backwards compatability.\n    * @option\n    * @example true\n    */\n    useMUI: true\n  };\n\n  // Window exports\n  Foundation.plugin(Orbit, 'Orbit');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * ResponsiveMenu module.\n   * @module foundation.responsiveMenu\n   * @requires foundation.util.triggers\n   * @requires foundation.util.mediaQuery\n   * @requires foundation.util.accordionMenu\n   * @requires foundation.util.drilldown\n   * @requires foundation.util.dropdown-menu\n   */\n\n  var ResponsiveMenu = function () {\n    /**\n     * Creates a new instance of a responsive menu.\n     * @class\n     * @fires ResponsiveMenu#init\n     * @param {jQuery} element - jQuery object to make into a dropdown menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function ResponsiveMenu(element, options) {\n      _classCallCheck(this, ResponsiveMenu);\n\n      this.$element = $(element);\n      this.rules = this.$element.data('responsive-menu');\n      this.currentMq = null;\n      this.currentPlugin = null;\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'ResponsiveMenu');\n    }\n\n    /**\n     * Initializes the Menu by parsing the classes from the 'data-ResponsiveMenu' attribute on the element.\n     * @function\n     * @private\n     */\n\n    _createClass(ResponsiveMenu, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          // The first time an Interchange plugin is initialized, this.rules is converted from a string of \"classes\" to an object of rules\n          if (typeof this.rules === 'string') {\n            var rulesTree = {};\n\n            // Parse rules from \"classes\" pulled from data attribute\n            var rules = this.rules.split(' ');\n\n            // Iterate through every rule found\n            for (var i = 0; i < rules.length; i++) {\n              var rule = rules[i].split('-');\n              var ruleSize = rule.length > 1 ? rule[0] : 'small';\n              var rulePlugin = rule.length > 1 ? rule[1] : rule[0];\n\n              if (MenuPlugins[rulePlugin] !== null) {\n                rulesTree[ruleSize] = MenuPlugins[rulePlugin];\n              }\n            }\n\n            this.rules = rulesTree;\n          }\n\n          if (!$.isEmptyObject(this.rules)) {\n            this._checkMediaQueries();\n          }\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Initializes events for the Menu.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this = this;\n\n          $(window).on('changed.zf.mediaquery', function () {\n            _this._checkMediaQueries();\n          });\n          // $(window).on('resize.zf.ResponsiveMenu', function() {\n          //   _this._checkMediaQueries();\n          // });\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Checks the current screen width against available media queries. If the media query has changed, and the plugin needed has changed, the plugins will swap out.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_checkMediaQueries',\n      value: function () {\n        function _checkMediaQueries() {\n          var matchedMq,\n              _this = this;\n          // Iterate through each rule and find the last matching rule\n          $.each(this.rules, function (key) {\n            if (Foundation.MediaQuery.atLeast(key)) {\n              matchedMq = key;\n            }\n          });\n\n          // No match? No dice\n          if (!matchedMq) return;\n\n          // Plugin already initialized? We good\n          if (this.currentPlugin instanceof this.rules[matchedMq].plugin) return;\n\n          // Remove existing plugin-specific CSS classes\n          $.each(MenuPlugins, function (key, value) {\n            _this.$element.removeClass(value.cssClass);\n          });\n\n          // Add the CSS class for the new plugin\n          this.$element.addClass(this.rules[matchedMq].cssClass);\n\n          // Create an instance of the new plugin\n          if (this.currentPlugin) this.currentPlugin.destroy();\n          this.currentPlugin = new this.rules[matchedMq].plugin(this.$element, {});\n        }\n\n        return _checkMediaQueries;\n      }()\n\n      /**\n       * Destroys the instance of the current plugin on this element, as well as the window resize handler that switches the plugins out.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.currentPlugin.destroy();\n          $(window).off('.zf.ResponsiveMenu');\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return ResponsiveMenu;\n  }();\n\n  ResponsiveMenu.defaults = {};\n\n  // The plugin matches the plugin classes with these plugin instances.\n  var MenuPlugins = {\n    dropdown: {\n      cssClass: 'dropdown',\n      plugin: Foundation._plugins['dropdown-menu'] || null\n    },\n    drilldown: {\n      cssClass: 'drilldown',\n      plugin: Foundation._plugins['drilldown'] || null\n    },\n    accordion: {\n      cssClass: 'accordion-menu',\n      plugin: Foundation._plugins['accordion-menu'] || null\n    }\n  };\n\n  // Window exports\n  Foundation.plugin(ResponsiveMenu, 'ResponsiveMenu');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * ResponsiveToggle module.\n   * @module foundation.responsiveToggle\n   * @requires foundation.util.mediaQuery\n   */\n\n  var ResponsiveToggle = function () {\n    /**\n     * Creates a new instance of Tab Bar.\n     * @class\n     * @fires ResponsiveToggle#init\n     * @param {jQuery} element - jQuery object to attach tab bar functionality to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function ResponsiveToggle(element, options) {\n      _classCallCheck(this, ResponsiveToggle);\n\n      this.$element = $(element);\n      this.options = $.extend({}, ResponsiveToggle.defaults, this.$element.data(), options);\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'ResponsiveToggle');\n    }\n\n    /**\n     * Initializes the tab bar by finding the target element, toggling element, and running update().\n     * @function\n     * @private\n     */\n\n    _createClass(ResponsiveToggle, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          var targetID = this.$element.data('responsive-toggle');\n          if (!targetID) {\n            console.error('Your tab bar needs an ID of a Menu as the value of data-tab-bar.');\n          }\n\n          this.$targetMenu = $('#' + targetID);\n          this.$toggler = this.$element.find('[data-toggle]');\n\n          this._update();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Adds necessary event handlers for the tab bar to work.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this = this;\n\n          this._updateMqHandler = this._update.bind(this);\n\n          $(window).on('changed.zf.mediaquery', this._updateMqHandler);\n\n          this.$toggler.on('click.zf.responsiveToggle', this.toggleMenu.bind(this));\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Checks the current media query to determine if the tab bar should be visible or hidden.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_update',\n      value: function () {\n        function _update() {\n          // Mobile\n          if (!Foundation.MediaQuery.atLeast(this.options.hideFor)) {\n            this.$element.show();\n            this.$targetMenu.hide();\n          }\n\n          // Desktop\n          else {\n              this.$element.hide();\n              this.$targetMenu.show();\n            }\n        }\n\n        return _update;\n      }()\n\n      /**\n       * Toggles the element attached to the tab bar. The toggle only happens if the screen is small enough to allow it.\n       * @function\n       * @fires ResponsiveToggle#toggled\n       */\n\n    }, {\n      key: 'toggleMenu',\n      value: function () {\n        function toggleMenu() {\n          if (!Foundation.MediaQuery.atLeast(this.options.hideFor)) {\n            this.$targetMenu.toggle(0);\n\n            /**\n             * Fires when the element attached to the tab bar toggles.\n             * @event ResponsiveToggle#toggled\n             */\n            this.$element.trigger('toggled.zf.responsiveToggle');\n          }\n        }\n\n        return toggleMenu;\n      }()\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$element.off('.zf.responsiveToggle');\n          this.$toggler.off('.zf.responsiveToggle');\n\n          $(window).off('changed.zf.mediaquery', this._updateMqHandler);\n\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return ResponsiveToggle;\n  }();\n\n  ResponsiveToggle.defaults = {\n    /**\n     * The breakpoint after which the menu is always shown, and the tab bar is hidden.\n     * @option\n     * @example 'medium'\n     */\n    hideFor: 'medium'\n  };\n\n  // Window exports\n  Foundation.plugin(ResponsiveToggle, 'ResponsiveToggle');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Reveal module.\n   * @module foundation.reveal\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.box\n   * @requires foundation.util.triggers\n   * @requires foundation.util.mediaQuery\n   * @requires foundation.util.motion if using animations\n   */\n\n  var Reveal = function () {\n    /**\n     * Creates a new instance of Reveal.\n     * @class\n     * @param {jQuery} element - jQuery object to use for the modal.\n     * @param {Object} options - optional parameters.\n     */\n\n    function Reveal(element, options) {\n      _classCallCheck(this, Reveal);\n\n      this.$element = element;\n      this.options = $.extend({}, Reveal.defaults, this.$element.data(), options);\n      this._init();\n\n      Foundation.registerPlugin(this, 'Reveal');\n      Foundation.Keyboard.register('Reveal', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ESCAPE': 'close',\n        'TAB': 'tab_forward',\n        'SHIFT_TAB': 'tab_backward'\n      });\n    }\n\n    /**\n     * Initializes the modal by adding the overlay and close buttons, (if selected).\n     * @private\n     */\n\n    _createClass(Reveal, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          this.id = this.$element.attr('id');\n          this.isActive = false;\n          this.cached = { mq: Foundation.MediaQuery.current };\n          this.isMobile = mobileSniff();\n\n          this.$anchor = $('[data-open=\"' + this.id + '\"]').length ? $('[data-open=\"' + this.id + '\"]') : $('[data-toggle=\"' + this.id + '\"]');\n          this.$anchor.attr({\n            'aria-controls': this.id,\n            'aria-haspopup': true,\n            'tabindex': 0\n          });\n\n          if (this.options.fullScreen || this.$element.hasClass('full')) {\n            this.options.fullScreen = true;\n            this.options.overlay = false;\n          }\n          if (this.options.overlay && !this.$overlay) {\n            this.$overlay = this._makeOverlay(this.id);\n          }\n\n          this.$element.attr({\n            'role': 'dialog',\n            'aria-hidden': true,\n            'data-yeti-box': this.id,\n            'data-resize': this.id\n          });\n\n          if (this.$overlay) {\n            this.$element.detach().appendTo(this.$overlay);\n          } else {\n            this.$element.detach().appendTo($('body'));\n            this.$element.addClass('without-overlay');\n          }\n          this._events();\n          if (this.options.deepLink && window.location.hash === '#' + this.id) {\n            $(window).one('load.zf.reveal', this.open.bind(this));\n          }\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Creates an overlay div to display behind the modal.\n       * @private\n       */\n\n    }, {\n      key: '_makeOverlay',\n      value: function () {\n        function _makeOverlay(id) {\n          var $overlay = $('<div></div>').addClass('reveal-overlay').appendTo('body');\n          return $overlay;\n        }\n\n        return _makeOverlay;\n      }()\n\n      /**\n       * Updates position of modal\n       * TODO:  Figure out if we actually need to cache these values or if it doesn't matter\n       * @private\n       */\n\n    }, {\n      key: '_updatePosition',\n      value: function () {\n        function _updatePosition() {\n          var width = this.$element.outerWidth();\n          var outerWidth = $(window).width();\n          var height = this.$element.outerHeight();\n          var outerHeight = $(window).height();\n          var left, top;\n          if (this.options.hOffset === 'auto') {\n            left = parseInt((outerWidth - width) / 2, 10);\n          } else {\n            left = parseInt(this.options.hOffset, 10);\n          }\n          if (this.options.vOffset === 'auto') {\n            if (height > outerHeight) {\n              top = parseInt(Math.min(100, outerHeight / 10), 10);\n            } else {\n              top = parseInt((outerHeight - height) / 4, 10);\n            }\n          } else {\n            top = parseInt(this.options.vOffset, 10);\n          }\n          this.$element.css({ top: top + 'px' });\n          // only worry about left if we don't have an overlay or we havea  horizontal offset,\n          // otherwise we're perfectly in the middle\n          if (!this.$overlay || this.options.hOffset !== 'auto') {\n            this.$element.css({ left: left + 'px' });\n            this.$element.css({ margin: '0px' });\n          }\n        }\n\n        return _updatePosition;\n      }()\n\n      /**\n       * Adds event handlers for the modal.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this2 = this;\n\n          var _this = this;\n\n          this.$element.on({\n            'open.zf.trigger': this.open.bind(this),\n            'close.zf.trigger': function () {\n              function closeZfTrigger(event, $element) {\n                if (event.target === _this.$element[0] || $(event.target).parents('[data-closable]')[0] === $element) {\n                  // only close reveal when it's explicitly called\n                  return _this2.close.apply(_this2);\n                }\n              }\n\n              return closeZfTrigger;\n            }(),\n            'toggle.zf.trigger': this.toggle.bind(this),\n            'resizeme.zf.trigger': function () {\n              function resizemeZfTrigger() {\n                _this._updatePosition();\n              }\n\n              return resizemeZfTrigger;\n            }()\n          });\n\n          if (this.$anchor.length) {\n            this.$anchor.on('keydown.zf.reveal', function (e) {\n              if (e.which === 13 || e.which === 32) {\n                e.stopPropagation();\n                e.preventDefault();\n                _this.open();\n              }\n            });\n          }\n\n          if (this.options.closeOnClick && this.options.overlay) {\n            this.$overlay.off('.zf.reveal').on('click.zf.reveal', function (e) {\n              if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target)) {\n                return;\n              }\n              _this.close();\n            });\n          }\n          if (this.options.deepLink) {\n            $(window).on('popstate.zf.reveal:' + this.id, this._handleState.bind(this));\n          }\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Handles modal methods on back/forward button clicks or any other event that triggers popstate.\n       * @private\n       */\n\n    }, {\n      key: '_handleState',\n      value: function () {\n        function _handleState(e) {\n          if (window.location.hash === '#' + this.id && !this.isActive) {\n            this.open();\n          } else {\n            this.close();\n          }\n        }\n\n        return _handleState;\n      }()\n\n      /**\n       * Opens the modal controlled by `this.$anchor`, and closes all others by default.\n       * @function\n       * @fires Reveal#closeme\n       * @fires Reveal#open\n       */\n\n    }, {\n      key: 'open',\n      value: function () {\n        function open() {\n          var _this3 = this;\n\n          if (this.options.deepLink) {\n            var hash = '#' + this.id;\n\n            if (window.history.pushState) {\n              window.history.pushState(null, null, hash);\n            } else {\n              window.location.hash = hash;\n            }\n          }\n\n          this.isActive = true;\n\n          // Make elements invisible, but remove display: none so we can get size and positioning\n          this.$element.css({ 'visibility': 'hidden' }).show().scrollTop(0);\n          if (this.options.overlay) {\n            this.$overlay.css({ 'visibility': 'hidden' }).show();\n          }\n\n          this._updatePosition();\n\n          this.$element.hide().css({ 'visibility': '' });\n\n          if (this.$overlay) {\n            this.$overlay.css({ 'visibility': '' }).hide();\n            if (this.$element.hasClass('fast')) {\n              this.$overlay.addClass('fast');\n            } else if (this.$element.hasClass('slow')) {\n              this.$overlay.addClass('slow');\n            }\n          }\n\n          if (!this.options.multipleOpened) {\n            /**\n             * Fires immediately before the modal opens.\n             * Closes any other modals that are currently open\n             * @event Reveal#closeme\n             */\n            this.$element.trigger('closeme.zf.reveal', this.id);\n          }\n          // Motion UI method of reveal\n          if (this.options.animationIn) {\n            var _this;\n\n            (function () {\n              var afterAnimationFocus = function () {\n                function afterAnimationFocus() {\n                  _this.$element.attr({\n                    'aria-hidden': false,\n                    'tabindex': -1\n                  }).focus();\n                  console.log('focus');\n                }\n\n                return afterAnimationFocus;\n              }();\n\n              _this = _this3;\n\n              if (_this3.options.overlay) {\n                Foundation.Motion.animateIn(_this3.$overlay, 'fade-in');\n              }\n              Foundation.Motion.animateIn(_this3.$element, _this3.options.animationIn, function () {\n                _this3.focusableElements = Foundation.Keyboard.findFocusable(_this3.$element);\n                afterAnimationFocus();\n              });\n            })();\n          }\n          // jQuery method of reveal\n          else {\n              if (this.options.overlay) {\n                this.$overlay.show(0);\n              }\n              this.$element.show(this.options.showDelay);\n            }\n\n          // handle accessibility\n          this.$element.attr({\n            'aria-hidden': false,\n            'tabindex': -1\n          }).focus();\n\n          /**\n           * Fires when the modal has successfully opened.\n           * @event Reveal#open\n           */\n          this.$element.trigger('open.zf.reveal');\n\n          if (this.isMobile) {\n            this.originalScrollPos = window.pageYOffset;\n            $('html, body').addClass('is-reveal-open');\n          } else {\n            $('body').addClass('is-reveal-open');\n          }\n\n          setTimeout(function () {\n            _this3._extraHandlers();\n          }, 0);\n        }\n\n        return open;\n      }()\n\n      /**\n       * Adds extra event handlers for the body and window if necessary.\n       * @private\n       */\n\n    }, {\n      key: '_extraHandlers',\n      value: function () {\n        function _extraHandlers() {\n          var _this = this;\n          this.focusableElements = Foundation.Keyboard.findFocusable(this.$element);\n\n          if (!this.options.overlay && this.options.closeOnClick && !this.options.fullScreen) {\n            $('body').on('click.zf.reveal', function (e) {\n              if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target)) {\n                return;\n              }\n              _this.close();\n            });\n          }\n\n          if (this.options.closeOnEsc) {\n            $(window).on('keydown.zf.reveal', function (e) {\n              Foundation.Keyboard.handleKey(e, 'Reveal', {\n                close: function () {\n                  function close() {\n                    if (_this.options.closeOnEsc) {\n                      _this.close();\n                      _this.$anchor.focus();\n                    }\n                  }\n\n                  return close;\n                }()\n              });\n            });\n          }\n\n          // lock focus within modal while tabbing\n          this.$element.on('keydown.zf.reveal', function (e) {\n            var $target = $(this);\n            // handle keyboard event with keyboard util\n            Foundation.Keyboard.handleKey(e, 'Reveal', {\n              tab_forward: function () {\n                function tab_forward() {\n                  if (_this.$element.find(':focus').is(_this.focusableElements.eq(-1))) {\n                    // left modal downwards, setting focus to first element\n                    _this.focusableElements.eq(0).focus();\n                    return true;\n                  }\n                  if (_this.focusableElements.length === 0) {\n                    // no focusable elements inside the modal at all, prevent tabbing in general\n                    return true;\n                  }\n                }\n\n                return tab_forward;\n              }(),\n              tab_backward: function () {\n                function tab_backward() {\n                  if (_this.$element.find(':focus').is(_this.focusableElements.eq(0)) || _this.$element.is(':focus')) {\n                    // left modal upwards, setting focus to last element\n                    _this.focusableElements.eq(-1).focus();\n                    return true;\n                  }\n                  if (_this.focusableElements.length === 0) {\n                    // no focusable elements inside the modal at all, prevent tabbing in general\n                    return true;\n                  }\n                }\n\n                return tab_backward;\n              }(),\n              open: function () {\n                function open() {\n                  if (_this.$element.find(':focus').is(_this.$element.find('[data-close]'))) {\n                    setTimeout(function () {\n                      // set focus back to anchor if close button has been activated\n                      _this.$anchor.focus();\n                    }, 1);\n                  } else if ($target.is(_this.focusableElements)) {\n                    // dont't trigger if acual element has focus (i.e. inputs, links, ...)\n                    _this.open();\n                  }\n                }\n\n                return open;\n              }(),\n              close: function () {\n                function close() {\n                  if (_this.options.closeOnEsc) {\n                    _this.close();\n                    _this.$anchor.focus();\n                  }\n                }\n\n                return close;\n              }(),\n              handled: function () {\n                function handled(preventDefault) {\n                  if (preventDefault) {\n                    e.preventDefault();\n                  }\n                }\n\n                return handled;\n              }()\n            });\n          });\n        }\n\n        return _extraHandlers;\n      }()\n\n      /**\n       * Closes the modal.\n       * @function\n       * @fires Reveal#closed\n       */\n\n    }, {\n      key: 'close',\n      value: function () {\n        function close() {\n          if (!this.isActive || !this.$element.is(':visible')) {\n            return false;\n          }\n          var _this = this;\n\n          // Motion UI method of hiding\n          if (this.options.animationOut) {\n            if (this.options.overlay) {\n              Foundation.Motion.animateOut(this.$overlay, 'fade-out', finishUp);\n            } else {\n              finishUp();\n            }\n\n            Foundation.Motion.animateOut(this.$element, this.options.animationOut);\n          }\n          // jQuery method of hiding\n          else {\n              if (this.options.overlay) {\n                this.$overlay.hide(0, finishUp);\n              } else {\n                finishUp();\n              }\n\n              this.$element.hide(this.options.hideDelay);\n            }\n\n          // Conditionals to remove extra event listeners added on open\n          if (this.options.closeOnEsc) {\n            $(window).off('keydown.zf.reveal');\n          }\n\n          if (!this.options.overlay && this.options.closeOnClick) {\n            $('body').off('click.zf.reveal');\n          }\n\n          this.$element.off('keydown.zf.reveal');\n\n          function finishUp() {\n            if (_this.isMobile) {\n              $('html, body').removeClass('is-reveal-open');\n              if (_this.originalScrollPos) {\n                $('body').scrollTop(_this.originalScrollPos);\n                _this.originalScrollPos = null;\n              }\n            } else {\n              $('body').removeClass('is-reveal-open');\n            }\n\n            _this.$element.attr('aria-hidden', true);\n\n            /**\n            * Fires when the modal is done closing.\n            * @event Reveal#closed\n            */\n            _this.$element.trigger('closed.zf.reveal');\n          }\n\n          /**\n          * Resets the modal content\n          * This prevents a running video to keep going in the background\n          */\n          if (this.options.resetOnClose) {\n            this.$element.html(this.$element.html());\n          }\n\n          this.isActive = false;\n          if (_this.options.deepLink) {\n            if (window.history.replaceState) {\n              window.history.replaceState(\"\", document.title, window.location.pathname);\n            } else {\n              window.location.hash = '';\n            }\n          }\n        }\n\n        return close;\n      }()\n\n      /**\n       * Toggles the open/closed state of a modal.\n       * @function\n       */\n\n    }, {\n      key: 'toggle',\n      value: function () {\n        function toggle() {\n          if (this.isActive) {\n            this.close();\n          } else {\n            this.open();\n          }\n        }\n\n        return toggle;\n      }()\n    }, {\n      key: 'destroy',\n\n      /**\n       * Destroys an instance of a modal.\n       * @function\n       */\n      value: function () {\n        function destroy() {\n          if (this.options.overlay) {\n            this.$element.appendTo($('body')); // move $element outside of $overlay to prevent error unregisterPlugin()\n            this.$overlay.hide().off().remove();\n          }\n          this.$element.hide().off();\n          this.$anchor.off('.zf');\n          $(window).off('.zf.reveal:' + this.id);\n\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Reveal;\n  }();\n\n  Reveal.defaults = {\n    /**\n     * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.\n     * @option\n     * @example 'slide-in-left'\n     */\n    animationIn: '',\n    /**\n     * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.\n     * @option\n     * @example 'slide-out-right'\n     */\n    animationOut: '',\n    /**\n     * Time, in ms, to delay the opening of a modal after a click if no animation used.\n     * @option\n     * @example 10\n     */\n    showDelay: 0,\n    /**\n     * Time, in ms, to delay the closing of a modal after a click if no animation used.\n     * @option\n     * @example 10\n     */\n    hideDelay: 0,\n    /**\n     * Allows a click on the body/overlay to close the modal.\n     * @option\n     * @example true\n     */\n    closeOnClick: true,\n    /**\n     * Allows the modal to close if the user presses the `ESCAPE` key.\n     * @option\n     * @example true\n     */\n    closeOnEsc: true,\n    /**\n     * If true, allows multiple modals to be displayed at once.\n     * @option\n     * @example false\n     */\n    multipleOpened: false,\n    /**\n     * Distance, in pixels, the modal should push down from the top of the screen.\n     * @option\n     * @example auto\n     */\n    vOffset: 'auto',\n    /**\n     * Distance, in pixels, the modal should push in from the side of the screen.\n     * @option\n     * @example auto\n     */\n    hOffset: 'auto',\n    /**\n     * Allows the modal to be fullscreen, completely blocking out the rest of the view. JS checks for this as well.\n     * @option\n     * @example false\n     */\n    fullScreen: false,\n    /**\n     * Percentage of screen height the modal should push up from the bottom of the view.\n     * @option\n     * @example 10\n     */\n    btmOffsetPct: 10,\n    /**\n     * Allows the modal to generate an overlay div, which will cover the view when modal opens.\n     * @option\n     * @example true\n     */\n    overlay: true,\n    /**\n     * Allows the modal to remove and reinject markup on close. Should be true if using video elements w/o using provider's api, otherwise, videos will continue to play in the background.\n     * @option\n     * @example false\n     */\n    resetOnClose: false,\n    /**\n     * Allows the modal to alter the url on open/close, and allows the use of the `back` button to close modals. ALSO, allows a modal to auto-maniacally open on page load IF the hash === the modal's user-set id.\n     * @option\n     * @example false\n     */\n    deepLink: false\n  };\n\n  // Window exports\n  Foundation.plugin(Reveal, 'Reveal');\n\n  function iPhoneSniff() {\n    return (/iP(ad|hone|od).*OS/.test(window.navigator.userAgent)\n    );\n  }\n\n  function androidSniff() {\n    return (/Android/.test(window.navigator.userAgent)\n    );\n  }\n\n  function mobileSniff() {\n    return iPhoneSniff() || androidSniff();\n  }\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Slider module.\n   * @module foundation.slider\n   * @requires foundation.util.motion\n   * @requires foundation.util.triggers\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.touch\n   */\n\n  var Slider = function () {\n    /**\n     * Creates a new instance of a drilldown menu.\n     * @class\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Slider(element, options) {\n      _classCallCheck(this, Slider);\n\n      this.$element = element;\n      this.options = $.extend({}, Slider.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Slider');\n      Foundation.Keyboard.register('Slider', {\n        'ltr': {\n          'ARROW_RIGHT': 'increase',\n          'ARROW_UP': 'increase',\n          'ARROW_DOWN': 'decrease',\n          'ARROW_LEFT': 'decrease',\n          'SHIFT_ARROW_RIGHT': 'increase_fast',\n          'SHIFT_ARROW_UP': 'increase_fast',\n          'SHIFT_ARROW_DOWN': 'decrease_fast',\n          'SHIFT_ARROW_LEFT': 'decrease_fast'\n        },\n        'rtl': {\n          'ARROW_LEFT': 'increase',\n          'ARROW_RIGHT': 'decrease',\n          'SHIFT_ARROW_LEFT': 'increase_fast',\n          'SHIFT_ARROW_RIGHT': 'decrease_fast'\n        }\n      });\n    }\n\n    /**\n     * Initilizes the plugin by reading/setting attributes, creating collections and setting the initial position of the handle(s).\n     * @function\n     * @private\n     */\n\n    _createClass(Slider, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          this.inputs = this.$element.find('input');\n          this.handles = this.$element.find('[data-slider-handle]');\n\n          this.$handle = this.handles.eq(0);\n          this.$input = this.inputs.length ? this.inputs.eq(0) : $('#' + this.$handle.attr('aria-controls'));\n          this.$fill = this.$element.find('[data-slider-fill]').css(this.options.vertical ? 'height' : 'width', 0);\n\n          var isDbl = false,\n              _this = this;\n          if (this.options.disabled || this.$element.hasClass(this.options.disabledClass)) {\n            this.options.disabled = true;\n            this.$element.addClass(this.options.disabledClass);\n          }\n          if (!this.inputs.length) {\n            this.inputs = $().add(this.$input);\n            this.options.binding = true;\n          }\n          this._setInitAttr(0);\n          this._events(this.$handle);\n\n          if (this.handles[1]) {\n            this.options.doubleSided = true;\n            this.$handle2 = this.handles.eq(1);\n            this.$input2 = this.inputs.length > 1 ? this.inputs.eq(1) : $('#' + this.$handle2.attr('aria-controls'));\n\n            if (!this.inputs[1]) {\n              this.inputs = this.inputs.add(this.$input2);\n            }\n            isDbl = true;\n\n            this._setHandlePos(this.$handle, this.options.initialStart, true, function () {\n\n              _this._setHandlePos(_this.$handle2, _this.options.initialEnd, true);\n            });\n            // this.$handle.triggerHandler('click.zf.slider');\n            this._setInitAttr(1);\n            this._events(this.$handle2);\n          }\n\n          if (!isDbl) {\n            this._setHandlePos(this.$handle, this.options.initialStart, true);\n          }\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Sets the position of the selected handle and fill bar.\n       * @function\n       * @private\n       * @param {jQuery} $hndl - the selected handle to move.\n       * @param {Number} location - floating point between the start and end values of the slider bar.\n       * @param {Function} cb - callback function to fire on completion.\n       * @fires Slider#moved\n       * @fires Slider#changed\n       */\n\n    }, {\n      key: '_setHandlePos',\n      value: function () {\n        function _setHandlePos($hndl, location, noInvert, cb) {\n          // don't move if the slider has been disabled since its initialization\n          if (this.$element.hasClass(this.options.disabledClass)) {\n            return;\n          }\n          //might need to alter that slightly for bars that will have odd number selections.\n          location = parseFloat(location); //on input change events, convert string to number...grumble.\n\n          // prevent slider from running out of bounds, if value exceeds the limits set through options, override the value to min/max\n          if (location < this.options.start) {\n            location = this.options.start;\n          } else if (location > this.options.end) {\n            location = this.options.end;\n          }\n\n          var isDbl = this.options.doubleSided;\n\n          if (isDbl) {\n            //this block is to prevent 2 handles from crossing eachother. Could/should be improved.\n            if (this.handles.index($hndl) === 0) {\n              var h2Val = parseFloat(this.$handle2.attr('aria-valuenow'));\n              location = location >= h2Val ? h2Val - this.options.step : location;\n            } else {\n              var h1Val = parseFloat(this.$handle.attr('aria-valuenow'));\n              location = location <= h1Val ? h1Val + this.options.step : location;\n            }\n          }\n\n          //this is for single-handled vertical sliders, it adjusts the value to account for the slider being \"upside-down\"\n          //for click and drag events, it's weird due to the scale(-1, 1) css property\n          if (this.options.vertical && !noInvert) {\n            location = this.options.end - location;\n          }\n\n          var _this = this,\n              vert = this.options.vertical,\n              hOrW = vert ? 'height' : 'width',\n              lOrT = vert ? 'top' : 'left',\n              handleDim = $hndl[0].getBoundingClientRect()[hOrW],\n              elemDim = this.$element[0].getBoundingClientRect()[hOrW],\n\n\n          //percentage of bar min/max value based on click or drag point\n          pctOfBar = percent(location - this.options.start, this.options.end - this.options.start).toFixed(2),\n\n\n          //number of actual pixels to shift the handle, based on the percentage obtained above\n          pxToMove = (elemDim - handleDim) * pctOfBar,\n\n\n          //percentage of bar to shift the handle\n          movement = (percent(pxToMove, elemDim) * 100).toFixed(this.options.decimal);\n          //fixing the decimal value for the location number, is passed to other methods as a fixed floating-point value\n          location = parseFloat(location.toFixed(this.options.decimal));\n          // declare empty object for css adjustments, only used with 2 handled-sliders\n          var css = {};\n\n          this._setValues($hndl, location);\n\n          // TODO update to calculate based on values set to respective inputs??\n          if (isDbl) {\n            var isLeftHndl = this.handles.index($hndl) === 0,\n\n\n            //empty variable, will be used for min-height/width for fill bar\n            dim,\n\n\n            //percentage w/h of the handle compared to the slider bar\n            handlePct = ~~(percent(handleDim, elemDim) * 100);\n            //if left handle, the math is slightly different than if it's the right handle, and the left/top property needs to be changed for the fill bar\n            if (isLeftHndl) {\n              //left or top percentage value to apply to the fill bar.\n              css[lOrT] = movement + '%';\n              //calculate the new min-height/width for the fill bar.\n              dim = parseFloat(this.$handle2[0].style[lOrT]) - movement + handlePct;\n              //this callback is necessary to prevent errors and allow the proper placement and initialization of a 2-handled slider\n              //plus, it means we don't care if 'dim' isNaN on init, it won't be in the future.\n              if (cb && typeof cb === 'function') {\n                cb();\n              } //this is only needed for the initialization of 2 handled sliders\n            } else {\n                //just caching the value of the left/bottom handle's left/top property\n                var handlePos = parseFloat(this.$handle[0].style[lOrT]);\n                //calculate the new min-height/width for the fill bar. Use isNaN to prevent false positives for numbers <= 0\n                //based on the percentage of movement of the handle being manipulated, less the opposing handle's left/top position, plus the percentage w/h of the handle itself\n                dim = movement - (isNaN(handlePos) ? this.options.initialStart / ((this.options.end - this.options.start) / 100) : handlePos) + handlePct;\n              }\n            // assign the min-height/width to our css object\n            css['min-' + hOrW] = dim + '%';\n          }\n\n          this.$element.one('finished.zf.animate', function () {\n            /**\n             * Fires when the handle is done moving.\n             * @event Slider#moved\n             */\n            _this.$element.trigger('moved.zf.slider', [$hndl]);\n          });\n\n          //because we don't know exactly how the handle will be moved, check the amount of time it should take to move.\n          var moveTime = this.$element.data('dragging') ? 1000 / 60 : this.options.moveTime;\n\n          Foundation.Move(moveTime, $hndl, function () {\n            //adjusting the left/top property of the handle, based on the percentage calculated above\n            $hndl.css(lOrT, movement + '%');\n\n            if (!_this.options.doubleSided) {\n              //if single-handled, a simple method to expand the fill bar\n              _this.$fill.css(hOrW, pctOfBar * 100 + '%');\n            } else {\n              //otherwise, use the css object we created above\n              _this.$fill.css(css);\n            }\n          });\n\n          /**\n           * Fires when the value has not been change for a given time.\n           * @event Slider#changed\n           */\n          clearTimeout(_this.timeout);\n          _this.timeout = setTimeout(function () {\n            _this.$element.trigger('changed.zf.slider', [$hndl]);\n          }, _this.options.changedDelay);\n        }\n\n        return _setHandlePos;\n      }()\n\n      /**\n       * Sets the initial attribute for the slider element.\n       * @function\n       * @private\n       * @param {Number} idx - index of the current handle/input to use.\n       */\n\n    }, {\n      key: '_setInitAttr',\n      value: function () {\n        function _setInitAttr(idx) {\n          var id = this.inputs.eq(idx).attr('id') || Foundation.GetYoDigits(6, 'slider');\n          this.inputs.eq(idx).attr({\n            'id': id,\n            'max': this.options.end,\n            'min': this.options.start,\n            'step': this.options.step\n          });\n          this.handles.eq(idx).attr({\n            'role': 'slider',\n            'aria-controls': id,\n            'aria-valuemax': this.options.end,\n            'aria-valuemin': this.options.start,\n            'aria-valuenow': idx === 0 ? this.options.initialStart : this.options.initialEnd,\n            'aria-orientation': this.options.vertical ? 'vertical' : 'horizontal',\n            'tabindex': 0\n          });\n        }\n\n        return _setInitAttr;\n      }()\n\n      /**\n       * Sets the input and `aria-valuenow` values for the slider element.\n       * @function\n       * @private\n       * @param {jQuery} $handle - the currently selected handle.\n       * @param {Number} val - floating point of the new value.\n       */\n\n    }, {\n      key: '_setValues',\n      value: function () {\n        function _setValues($handle, val) {\n          var idx = this.options.doubleSided ? this.handles.index($handle) : 0;\n          this.inputs.eq(idx).val(val);\n          $handle.attr('aria-valuenow', val);\n        }\n\n        return _setValues;\n      }()\n\n      /**\n       * Handles events on the slider element.\n       * Calculates the new location of the current handle.\n       * If there are two handles and the bar was clicked, it determines which handle to move.\n       * @function\n       * @private\n       * @param {Object} e - the `event` object passed from the listener.\n       * @param {jQuery} $handle - the current handle to calculate for, if selected.\n       * @param {Number} val - floating point number for the new value of the slider.\n       * TODO clean this up, there's a lot of repeated code between this and the _setHandlePos fn.\n       */\n\n    }, {\n      key: '_handleEvent',\n      value: function () {\n        function _handleEvent(e, $handle, val) {\n          var value, hasVal;\n          if (!val) {\n            //click or drag events\n            e.preventDefault();\n            var _this = this,\n                vertical = this.options.vertical,\n                param = vertical ? 'height' : 'width',\n                direction = vertical ? 'top' : 'left',\n                eventOffset = vertical ? e.pageY : e.pageX,\n                halfOfHandle = this.$handle[0].getBoundingClientRect()[param] / 2,\n                barDim = this.$element[0].getBoundingClientRect()[param],\n                windowScroll = vertical ? $(window).scrollTop() : $(window).scrollLeft();\n\n            var elemOffset = this.$element.offset()[direction];\n\n            // touch events emulated by the touch util give position relative to screen, add window.scroll to event coordinates...\n            // best way to guess this is simulated is if clientY == pageY\n            if (e.clientY === e.pageY) {\n              eventOffset = eventOffset + windowScroll;\n            }\n            var eventFromBar = eventOffset - elemOffset;\n            var barXY;\n            if (eventFromBar < 0) {\n              barXY = 0;\n            } else if (eventFromBar > barDim) {\n              barXY = barDim;\n            } else {\n              barXY = eventFromBar;\n            }\n            offsetPct = percent(barXY, barDim);\n\n            value = (this.options.end - this.options.start) * offsetPct + this.options.start;\n\n            // turn everything around for RTL, yay math!\n            if (Foundation.rtl() && !this.options.vertical) {\n              value = this.options.end - value;\n            }\n\n            value = _this._adjustValue(null, value);\n            //boolean flag for the setHandlePos fn, specifically for vertical sliders\n            hasVal = false;\n\n            if (!$handle) {\n              //figure out which handle it is, pass it to the next function.\n              var firstHndlPos = absPosition(this.$handle, direction, barXY, param),\n                  secndHndlPos = absPosition(this.$handle2, direction, barXY, param);\n              $handle = firstHndlPos <= secndHndlPos ? this.$handle : this.$handle2;\n            }\n          } else {\n            //change event on input\n            value = this._adjustValue(null, val);\n            hasVal = true;\n          }\n\n          this._setHandlePos($handle, value, hasVal);\n        }\n\n        return _handleEvent;\n      }()\n\n      /**\n       * Adjustes value for handle in regard to step value. returns adjusted value\n       * @function\n       * @private\n       * @param {jQuery} $handle - the selected handle.\n       * @param {Number} value - value to adjust. used if $handle is falsy\n       */\n\n    }, {\n      key: '_adjustValue',\n      value: function () {\n        function _adjustValue($handle, value) {\n          var val,\n              step = this.options.step,\n              div = parseFloat(step / 2),\n              left,\n              prev_val,\n              next_val;\n          if (!!$handle) {\n            val = parseFloat($handle.attr('aria-valuenow'));\n          } else {\n            val = value;\n          }\n          left = val % step;\n          prev_val = val - left;\n          next_val = prev_val + step;\n          if (left === 0) {\n            return val;\n          }\n          val = val >= prev_val + div ? next_val : prev_val;\n          return val;\n        }\n\n        return _adjustValue;\n      }()\n\n      /**\n       * Adds event listeners to the slider elements.\n       * @function\n       * @private\n       * @param {jQuery} $handle - the current handle to apply listeners to.\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events($handle) {\n          var _this = this,\n              curHandle,\n              timer;\n\n          this.inputs.off('change.zf.slider').on('change.zf.slider', function (e) {\n            var idx = _this.inputs.index($(this));\n            _this._handleEvent(e, _this.handles.eq(idx), $(this).val());\n          });\n\n          if (this.options.clickSelect) {\n            this.$element.off('click.zf.slider').on('click.zf.slider', function (e) {\n              if (_this.$element.data('dragging')) {\n                return false;\n              }\n\n              if (!$(e.target).is('[data-slider-handle]')) {\n                if (_this.options.doubleSided) {\n                  _this._handleEvent(e);\n                } else {\n                  _this._handleEvent(e, _this.$handle);\n                }\n              }\n            });\n          }\n\n          if (this.options.draggable) {\n            this.handles.addTouch();\n\n            var $body = $('body');\n            $handle.off('mousedown.zf.slider').on('mousedown.zf.slider', function (e) {\n              $handle.addClass('is-dragging');\n              _this.$fill.addClass('is-dragging'); //\n              _this.$element.data('dragging', true);\n\n              curHandle = $(e.currentTarget);\n\n              $body.on('mousemove.zf.slider', function (e) {\n                e.preventDefault();\n                _this._handleEvent(e, curHandle);\n              }).on('mouseup.zf.slider', function (e) {\n                _this._handleEvent(e, curHandle);\n\n                $handle.removeClass('is-dragging');\n                _this.$fill.removeClass('is-dragging');\n                _this.$element.data('dragging', false);\n\n                $body.off('mousemove.zf.slider mouseup.zf.slider');\n              });\n            })\n            // prevent events triggered by touch\n            .on('selectstart.zf.slider touchmove.zf.slider', function (e) {\n              e.preventDefault();\n            });\n          }\n\n          $handle.off('keydown.zf.slider').on('keydown.zf.slider', function (e) {\n            var _$handle = $(this),\n                idx = _this.options.doubleSided ? _this.handles.index(_$handle) : 0,\n                oldValue = parseFloat(_this.inputs.eq(idx).val()),\n                newValue;\n\n            // handle keyboard event with keyboard util\n            Foundation.Keyboard.handleKey(e, 'Slider', {\n              decrease: function () {\n                function decrease() {\n                  newValue = oldValue - _this.options.step;\n                }\n\n                return decrease;\n              }(),\n              increase: function () {\n                function increase() {\n                  newValue = oldValue + _this.options.step;\n                }\n\n                return increase;\n              }(),\n              decrease_fast: function () {\n                function decrease_fast() {\n                  newValue = oldValue - _this.options.step * 10;\n                }\n\n                return decrease_fast;\n              }(),\n              increase_fast: function () {\n                function increase_fast() {\n                  newValue = oldValue + _this.options.step * 10;\n                }\n\n                return increase_fast;\n              }(),\n              handled: function () {\n                function handled() {\n                  // only set handle pos when event was handled specially\n                  e.preventDefault();\n                  _this._setHandlePos(_$handle, newValue, true);\n                }\n\n                return handled;\n              }()\n            });\n            /*if (newValue) { // if pressed key has special function, update value\n              e.preventDefault();\n              _this._setHandlePos(_$handle, newValue);\n            }*/\n          });\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Destroys the slider plugin.\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.handles.off('.zf.slider');\n          this.inputs.off('.zf.slider');\n          this.$element.off('.zf.slider');\n\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Slider;\n  }();\n\n  Slider.defaults = {\n    /**\n     * Minimum value for the slider scale.\n     * @option\n     * @example 0\n     */\n    start: 0,\n    /**\n     * Maximum value for the slider scale.\n     * @option\n     * @example 100\n     */\n    end: 100,\n    /**\n     * Minimum value change per change event.\n     * @option\n     * @example 1\n     */\n    step: 1,\n    /**\n     * Value at which the handle/input *(left handle/first input)* should be set to on initialization.\n     * @option\n     * @example 0\n     */\n    initialStart: 0,\n    /**\n     * Value at which the right handle/second input should be set to on initialization.\n     * @option\n     * @example 100\n     */\n    initialEnd: 100,\n    /**\n     * Allows the input to be located outside the container and visible. Set to by the JS\n     * @option\n     * @example false\n     */\n    binding: false,\n    /**\n     * Allows the user to click/tap on the slider bar to select a value.\n     * @option\n     * @example true\n     */\n    clickSelect: true,\n    /**\n     * Set to true and use the `vertical` class to change alignment to vertical.\n     * @option\n     * @example false\n     */\n    vertical: false,\n    /**\n     * Allows the user to drag the slider handle(s) to select a value.\n     * @option\n     * @example true\n     */\n    draggable: true,\n    /**\n     * Disables the slider and prevents event listeners from being applied. Double checked by JS with `disabledClass`.\n     * @option\n     * @example false\n     */\n    disabled: false,\n    /**\n     * Allows the use of two handles. Double checked by the JS. Changes some logic handling.\n     * @option\n     * @example false\n     */\n    doubleSided: false,\n    /**\n     * Potential future feature.\n     */\n    // steps: 100,\n    /**\n     * Number of decimal places the plugin should go to for floating point precision.\n     * @option\n     * @example 2\n     */\n    decimal: 2,\n    /**\n     * Time delay for dragged elements.\n     */\n    // dragDelay: 0,\n    /**\n     * Time, in ms, to animate the movement of a slider handle if user clicks/taps on the bar. Needs to be manually set if updating the transition time in the Sass settings.\n     * @option\n     * @example 200\n     */\n    moveTime: 200, //update this if changing the transition time in the sass\n    /**\n     * Class applied to disabled sliders.\n     * @option\n     * @example 'disabled'\n     */\n    disabledClass: 'disabled',\n    /**\n     * Will invert the default layout for a vertical<span data-tooltip title=\"who would do this???\"> </span>slider.\n     * @option\n     * @example false\n     */\n    invertVertical: false,\n    /**\n     * Milliseconds before the `changed.zf-slider` event is triggered after value change.\n     * @option\n     * @example 500\n     */\n    changedDelay: 500\n  };\n\n  function percent(frac, num) {\n    return frac / num;\n  }\n  function absPosition($handle, dir, clickPos, param) {\n    return Math.abs($handle.position()[dir] + $handle[param]() / 2 - clickPos);\n  }\n\n  // Window exports\n  Foundation.plugin(Slider, 'Slider');\n}(jQuery);\n\n//*********this is in case we go to static, absolute positions instead of dynamic positioning********\n// this.setSteps(function() {\n//   _this._events();\n//   var initStart = _this.options.positions[_this.options.initialStart - 1] || null;\n//   var initEnd = _this.options.initialEnd ? _this.options.position[_this.options.initialEnd - 1] : null;\n//   if (initStart || initEnd) {\n//     _this._handleEvent(initStart, initEnd);\n//   }\n// });\n\n//***********the other part of absolute positions*************\n// Slider.prototype.setSteps = function(cb) {\n//   var posChange = this.$element.outerWidth() / this.options.steps;\n//   var counter = 0\n//   while(counter < this.options.steps) {\n//     if (counter) {\n//       this.options.positions.push(this.options.positions[counter - 1] + posChange);\n//     } else {\n//       this.options.positions.push(posChange);\n//     }\n//     counter++;\n//   }\n//   cb();\n// };\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Sticky module.\n   * @module foundation.sticky\n   * @requires foundation.util.triggers\n   * @requires foundation.util.mediaQuery\n   */\n\n  var Sticky = function () {\n    /**\n     * Creates a new instance of a sticky thing.\n     * @class\n     * @param {jQuery} element - jQuery object to make sticky.\n     * @param {Object} options - options object passed when creating the element programmatically.\n     */\n\n    function Sticky(element, options) {\n      _classCallCheck(this, Sticky);\n\n      this.$element = element;\n      this.options = $.extend({}, Sticky.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Sticky');\n    }\n\n    /**\n     * Initializes the sticky element by adding classes, getting/setting dimensions, breakpoints and attributes\n     * @function\n     * @private\n     */\n\n    _createClass(Sticky, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          var $parent = this.$element.parent('[data-sticky-container]'),\n              id = this.$element[0].id || Foundation.GetYoDigits(6, 'sticky'),\n              _this = this;\n\n          if (!$parent.length) {\n            this.wasWrapped = true;\n          }\n          this.$container = $parent.length ? $parent : $(this.options.container).wrapInner(this.$element);\n          this.$container.addClass(this.options.containerClass);\n\n          this.$element.addClass(this.options.stickyClass).attr({ 'data-resize': id });\n\n          this.scrollCount = this.options.checkEvery;\n          this.isStuck = false;\n          $(window).one('load.zf.sticky', function () {\n            if (_this.options.anchor !== '') {\n              _this.$anchor = $('#' + _this.options.anchor);\n            } else {\n              _this._parsePoints();\n            }\n\n            _this._setSizes(function () {\n              _this._calc(false);\n            });\n            _this._events(id.split('-').reverse().join('-'));\n          });\n        }\n\n        return _init;\n      }()\n\n      /**\n       * If using multiple elements as anchors, calculates the top and bottom pixel values the sticky thing should stick and unstick on.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_parsePoints',\n      value: function () {\n        function _parsePoints() {\n          var top = this.options.topAnchor == \"\" ? 1 : this.options.topAnchor,\n              btm = this.options.btmAnchor == \"\" ? document.documentElement.scrollHeight : this.options.btmAnchor,\n              pts = [top, btm],\n              breaks = {};\n          for (var i = 0, len = pts.length; i < len && pts[i]; i++) {\n            var pt;\n            if (typeof pts[i] === 'number') {\n              pt = pts[i];\n            } else {\n              var place = pts[i].split(':'),\n                  anchor = $('#' + place[0]);\n\n              pt = anchor.offset().top;\n              if (place[1] && place[1].toLowerCase() === 'bottom') {\n                pt += anchor[0].getBoundingClientRect().height;\n              }\n            }\n            breaks[i] = pt;\n          }\n\n          this.points = breaks;\n          return;\n        }\n\n        return _parsePoints;\n      }()\n\n      /**\n       * Adds event handlers for the scrolling element.\n       * @private\n       * @param {String} id - psuedo-random id for unique scroll event listener.\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events(id) {\n          var _this = this,\n              scrollListener = this.scrollListener = 'scroll.zf.' + id;\n          if (this.isOn) {\n            return;\n          }\n          if (this.canStick) {\n            this.isOn = true;\n            $(window).off(scrollListener).on(scrollListener, function (e) {\n              if (_this.scrollCount === 0) {\n                _this.scrollCount = _this.options.checkEvery;\n                _this._setSizes(function () {\n                  _this._calc(false, window.pageYOffset);\n                });\n              } else {\n                _this.scrollCount--;\n                _this._calc(false, window.pageYOffset);\n              }\n            });\n          }\n\n          this.$element.off('resizeme.zf.trigger').on('resizeme.zf.trigger', function (e, el) {\n            _this._setSizes(function () {\n              _this._calc(false);\n              if (_this.canStick) {\n                if (!_this.isOn) {\n                  _this._events(id);\n                }\n              } else if (_this.isOn) {\n                _this._pauseListeners(scrollListener);\n              }\n            });\n          });\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Removes event handlers for scroll and change events on anchor.\n       * @fires Sticky#pause\n       * @param {String} scrollListener - unique, namespaced scroll listener attached to `window`\n       */\n\n    }, {\n      key: '_pauseListeners',\n      value: function () {\n        function _pauseListeners(scrollListener) {\n          this.isOn = false;\n          $(window).off(scrollListener);\n\n          /**\n           * Fires when the plugin is paused due to resize event shrinking the view.\n           * @event Sticky#pause\n           * @private\n           */\n          this.$element.trigger('pause.zf.sticky');\n        }\n\n        return _pauseListeners;\n      }()\n\n      /**\n       * Called on every `scroll` event and on `_init`\n       * fires functions based on booleans and cached values\n       * @param {Boolean} checkSizes - true if plugin should recalculate sizes and breakpoints.\n       * @param {Number} scroll - current scroll position passed from scroll event cb function. If not passed, defaults to `window.pageYOffset`.\n       */\n\n    }, {\n      key: '_calc',\n      value: function () {\n        function _calc(checkSizes, scroll) {\n          if (checkSizes) {\n            this._setSizes();\n          }\n\n          if (!this.canStick) {\n            if (this.isStuck) {\n              this._removeSticky(true);\n            }\n            return false;\n          }\n\n          if (!scroll) {\n            scroll = window.pageYOffset;\n          }\n\n          if (scroll >= this.topPoint) {\n            if (scroll <= this.bottomPoint) {\n              if (!this.isStuck) {\n                this._setSticky();\n              }\n            } else {\n              if (this.isStuck) {\n                this._removeSticky(false);\n              }\n            }\n          } else {\n            if (this.isStuck) {\n              this._removeSticky(true);\n            }\n          }\n        }\n\n        return _calc;\n      }()\n\n      /**\n       * Causes the $element to become stuck.\n       * Adds `position: fixed;`, and helper classes.\n       * @fires Sticky#stuckto\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_setSticky',\n      value: function () {\n        function _setSticky() {\n          var _this = this,\n              stickTo = this.options.stickTo,\n              mrgn = stickTo === 'top' ? 'marginTop' : 'marginBottom',\n              notStuckTo = stickTo === 'top' ? 'bottom' : 'top',\n              css = {};\n\n          css[mrgn] = this.options[mrgn] + 'em';\n          css[stickTo] = 0;\n          css[notStuckTo] = 'auto';\n          css['left'] = this.$container.offset().left + parseInt(window.getComputedStyle(this.$container[0])[\"padding-left\"], 10);\n          this.isStuck = true;\n          this.$element.removeClass('is-anchored is-at-' + notStuckTo).addClass('is-stuck is-at-' + stickTo).css(css)\n          /**\n           * Fires when the $element has become `position: fixed;`\n           * Namespaced to `top` or `bottom`, e.g. `sticky.zf.stuckto:top`\n           * @event Sticky#stuckto\n           */\n          .trigger('sticky.zf.stuckto:' + stickTo);\n          this.$element.on(\"transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd\", function () {\n            _this._setSizes();\n          });\n        }\n\n        return _setSticky;\n      }()\n\n      /**\n       * Causes the $element to become unstuck.\n       * Removes `position: fixed;`, and helper classes.\n       * Adds other helper classes.\n       * @param {Boolean} isTop - tells the function if the $element should anchor to the top or bottom of its $anchor element.\n       * @fires Sticky#unstuckfrom\n       * @private\n       */\n\n    }, {\n      key: '_removeSticky',\n      value: function () {\n        function _removeSticky(isTop) {\n          var stickTo = this.options.stickTo,\n              stickToTop = stickTo === 'top',\n              css = {},\n              anchorPt = (this.points ? this.points[1] - this.points[0] : this.anchorHeight) - this.elemHeight,\n              mrgn = stickToTop ? 'marginTop' : 'marginBottom',\n              notStuckTo = stickToTop ? 'bottom' : 'top',\n              topOrBottom = isTop ? 'top' : 'bottom';\n\n          css[mrgn] = 0;\n\n          css['bottom'] = 'auto';\n          if (isTop) {\n            css['top'] = 0;\n          } else {\n            css['top'] = anchorPt;\n          }\n\n          css['left'] = '';\n          this.isStuck = false;\n          this.$element.removeClass('is-stuck is-at-' + stickTo).addClass('is-anchored is-at-' + topOrBottom).css(css)\n          /**\n           * Fires when the $element has become anchored.\n           * Namespaced to `top` or `bottom`, e.g. `sticky.zf.unstuckfrom:bottom`\n           * @event Sticky#unstuckfrom\n           */\n          .trigger('sticky.zf.unstuckfrom:' + topOrBottom);\n        }\n\n        return _removeSticky;\n      }()\n\n      /**\n       * Sets the $element and $container sizes for plugin.\n       * Calls `_setBreakPoints`.\n       * @param {Function} cb - optional callback function to fire on completion of `_setBreakPoints`.\n       * @private\n       */\n\n    }, {\n      key: '_setSizes',\n      value: function () {\n        function _setSizes(cb) {\n          this.canStick = Foundation.MediaQuery.atLeast(this.options.stickyOn);\n          if (!this.canStick) {\n            cb();\n          }\n          var _this = this,\n              newElemWidth = this.$container[0].getBoundingClientRect().width,\n              comp = window.getComputedStyle(this.$container[0]),\n              pdng = parseInt(comp['padding-right'], 10);\n\n          if (this.$anchor && this.$anchor.length) {\n            this.anchorHeight = this.$anchor[0].getBoundingClientRect().height;\n          } else {\n            this._parsePoints();\n          }\n\n          this.$element.css({\n            'max-width': newElemWidth - pdng + 'px'\n          });\n\n          var newContainerHeight = this.$element[0].getBoundingClientRect().height || this.containerHeight;\n          if (this.$element.css(\"display\") == \"none\") {\n            newContainerHeight = 0;\n          }\n          this.containerHeight = newContainerHeight;\n          this.$container.css({\n            height: newContainerHeight\n          });\n          this.elemHeight = newContainerHeight;\n\n          if (this.isStuck) {\n            this.$element.css({ \"left\": this.$container.offset().left + parseInt(comp['padding-left'], 10) });\n          }\n\n          this._setBreakPoints(newContainerHeight, function () {\n            if (cb) {\n              cb();\n            }\n          });\n        }\n\n        return _setSizes;\n      }()\n\n      /**\n       * Sets the upper and lower breakpoints for the element to become sticky/unsticky.\n       * @param {Number} elemHeight - px value for sticky.$element height, calculated by `_setSizes`.\n       * @param {Function} cb - optional callback function to be called on completion.\n       * @private\n       */\n\n    }, {\n      key: '_setBreakPoints',\n      value: function () {\n        function _setBreakPoints(elemHeight, cb) {\n          if (!this.canStick) {\n            if (cb) {\n              cb();\n            } else {\n              return false;\n            }\n          }\n          var mTop = emCalc(this.options.marginTop),\n              mBtm = emCalc(this.options.marginBottom),\n              topPoint = this.points ? this.points[0] : this.$anchor.offset().top,\n              bottomPoint = this.points ? this.points[1] : topPoint + this.anchorHeight,\n\n\n          // topPoint = this.$anchor.offset().top || this.points[0],\n          // bottomPoint = topPoint + this.anchorHeight || this.points[1],\n          winHeight = window.innerHeight;\n\n          if (this.options.stickTo === 'top') {\n            topPoint -= mTop;\n            bottomPoint -= elemHeight + mTop;\n          } else if (this.options.stickTo === 'bottom') {\n            topPoint -= winHeight - (elemHeight + mBtm);\n            bottomPoint -= winHeight - mBtm;\n          } else {\n            //this would be the stickTo: both option... tricky\n          }\n\n          this.topPoint = topPoint;\n          this.bottomPoint = bottomPoint;\n\n          if (cb) {\n            cb();\n          }\n        }\n\n        return _setBreakPoints;\n      }()\n\n      /**\n       * Destroys the current sticky element.\n       * Resets the element to the top position first.\n       * Removes event listeners, JS-added css properties and classes, and unwraps the $element if the JS added the $container.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this._removeSticky(true);\n\n          this.$element.removeClass(this.options.stickyClass + ' is-anchored is-at-top').css({\n            height: '',\n            top: '',\n            bottom: '',\n            'max-width': ''\n          }).off('resizeme.zf.trigger');\n          if (this.$anchor && this.$anchor.length) {\n            this.$anchor.off('change.zf.sticky');\n          }\n          $(window).off(this.scrollListener);\n\n          if (this.wasWrapped) {\n            this.$element.unwrap();\n          } else {\n            this.$container.removeClass(this.options.containerClass).css({\n              height: ''\n            });\n          }\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Sticky;\n  }();\n\n  Sticky.defaults = {\n    /**\n     * Customizable container template. Add your own classes for styling and sizing.\n     * @option\n     * @example '&lt;div data-sticky-container class=\"small-6 columns\"&gt;&lt;/div&gt;'\n     */\n    container: '<div data-sticky-container></div>',\n    /**\n     * Location in the view the element sticks to.\n     * @option\n     * @example 'top'\n     */\n    stickTo: 'top',\n    /**\n     * If anchored to a single element, the id of that element.\n     * @option\n     * @example 'exampleId'\n     */\n    anchor: '',\n    /**\n     * If using more than one element as anchor points, the id of the top anchor.\n     * @option\n     * @example 'exampleId:top'\n     */\n    topAnchor: '',\n    /**\n     * If using more than one element as anchor points, the id of the bottom anchor.\n     * @option\n     * @example 'exampleId:bottom'\n     */\n    btmAnchor: '',\n    /**\n     * Margin, in `em`'s to apply to the top of the element when it becomes sticky.\n     * @option\n     * @example 1\n     */\n    marginTop: 1,\n    /**\n     * Margin, in `em`'s to apply to the bottom of the element when it becomes sticky.\n     * @option\n     * @example 1\n     */\n    marginBottom: 1,\n    /**\n     * Breakpoint string that is the minimum screen size an element should become sticky.\n     * @option\n     * @example 'medium'\n     */\n    stickyOn: 'medium',\n    /**\n     * Class applied to sticky element, and removed on destruction. Foundation defaults to `sticky`.\n     * @option\n     * @example 'sticky'\n     */\n    stickyClass: 'sticky',\n    /**\n     * Class applied to sticky container. Foundation defaults to `sticky-container`.\n     * @option\n     * @example 'sticky-container'\n     */\n    containerClass: 'sticky-container',\n    /**\n     * Number of scroll events between the plugin's recalculating sticky points. Setting it to `0` will cause it to recalc every scroll event, setting it to `-1` will prevent recalc on scroll.\n     * @option\n     * @example 50\n     */\n    checkEvery: -1\n  };\n\n  /**\n   * Helper function to calculate em values\n   * @param Number {em} - number of em's to calculate into pixels\n   */\n  function emCalc(em) {\n    return parseInt(window.getComputedStyle(document.body, null).fontSize, 10) * em;\n  }\n\n  // Window exports\n  Foundation.plugin(Sticky, 'Sticky');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Tabs module.\n   * @module foundation.tabs\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.timerAndImageLoader if tabs contain images\n   */\n\n  var Tabs = function () {\n    /**\n     * Creates a new instance of tabs.\n     * @class\n     * @fires Tabs#init\n     * @param {jQuery} element - jQuery object to make into tabs.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Tabs(element, options) {\n      _classCallCheck(this, Tabs);\n\n      this.$element = element;\n      this.options = $.extend({}, Tabs.defaults, this.$element.data(), options);\n\n      this._init();\n      Foundation.registerPlugin(this, 'Tabs');\n      Foundation.Keyboard.register('Tabs', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'previous',\n        'ARROW_DOWN': 'next',\n        'ARROW_LEFT': 'previous'\n        // 'TAB': 'next',\n        // 'SHIFT_TAB': 'previous'\n      });\n    }\n\n    /**\n     * Initializes the tabs by showing and focusing (if autoFocus=true) the preset active tab.\n     * @private\n     */\n\n    _createClass(Tabs, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          var _this = this;\n\n          this.$tabTitles = this.$element.find('.' + this.options.linkClass);\n          this.$tabContent = $('[data-tabs-content=\"' + this.$element[0].id + '\"]');\n\n          this.$tabTitles.each(function () {\n            var $elem = $(this),\n                $link = $elem.find('a'),\n                isActive = $elem.hasClass('is-active'),\n                hash = $link[0].hash.slice(1),\n                linkId = $link[0].id ? $link[0].id : hash + '-label',\n                $tabContent = $('#' + hash);\n\n            $elem.attr({ 'role': 'presentation' });\n\n            $link.attr({\n              'role': 'tab',\n              'aria-controls': hash,\n              'aria-selected': isActive,\n              'id': linkId\n            });\n\n            $tabContent.attr({\n              'role': 'tabpanel',\n              'aria-hidden': !isActive,\n              'aria-labelledby': linkId\n            });\n\n            if (isActive && _this.options.autoFocus) {\n              $link.focus();\n            }\n          });\n\n          if (this.options.matchHeight) {\n            var $images = this.$tabContent.find('img');\n\n            if ($images.length) {\n              Foundation.onImagesLoaded($images, this._setHeight.bind(this));\n            } else {\n              this._setHeight();\n            }\n          }\n\n          this._events();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Adds event handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          this._addKeyHandler();\n          this._addClickHandler();\n          this._setHeightMqHandler = null;\n\n          if (this.options.matchHeight) {\n            this._setHeightMqHandler = this._setHeight.bind(this);\n\n            $(window).on('changed.zf.mediaquery', this._setHeightMqHandler);\n          }\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Adds click handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_addClickHandler',\n      value: function () {\n        function _addClickHandler() {\n          var _this = this;\n\n          this.$element.off('click.zf.tabs').on('click.zf.tabs', '.' + this.options.linkClass, function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            if ($(this).hasClass('is-active')) {\n              return;\n            }\n            _this._handleTabChange($(this));\n          });\n        }\n\n        return _addClickHandler;\n      }()\n\n      /**\n       * Adds keyboard event handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_addKeyHandler',\n      value: function () {\n        function _addKeyHandler() {\n          var _this = this;\n          var $firstTab = _this.$element.find('li:first-of-type');\n          var $lastTab = _this.$element.find('li:last-of-type');\n\n          this.$tabTitles.off('keydown.zf.tabs').on('keydown.zf.tabs', function (e) {\n            if (e.which === 9) return;\n\n            var $element = $(this),\n                $elements = $element.parent('ul').children('li'),\n                $prevElement,\n                $nextElement;\n\n            $elements.each(function (i) {\n              if ($(this).is($element)) {\n                if (_this.options.wrapOnKeys) {\n                  $prevElement = i === 0 ? $elements.last() : $elements.eq(i - 1);\n                  $nextElement = i === $elements.length - 1 ? $elements.first() : $elements.eq(i + 1);\n                } else {\n                  $prevElement = $elements.eq(Math.max(0, i - 1));\n                  $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));\n                }\n                return;\n              }\n            });\n\n            // handle keyboard event with keyboard util\n            Foundation.Keyboard.handleKey(e, 'Tabs', {\n              open: function () {\n                function open() {\n                  $element.find('[role=\"tab\"]').focus();\n                  _this._handleTabChange($element);\n                }\n\n                return open;\n              }(),\n              previous: function () {\n                function previous() {\n                  $prevElement.find('[role=\"tab\"]').focus();\n                  _this._handleTabChange($prevElement);\n                }\n\n                return previous;\n              }(),\n              next: function () {\n                function next() {\n                  $nextElement.find('[role=\"tab\"]').focus();\n                  _this._handleTabChange($nextElement);\n                }\n\n                return next;\n              }(),\n              handled: function () {\n                function handled() {\n                  e.stopPropagation();\n                  e.preventDefault();\n                }\n\n                return handled;\n              }()\n            });\n          });\n        }\n\n        return _addKeyHandler;\n      }()\n\n      /**\n       * Opens the tab `$targetContent` defined by `$target`.\n       * @param {jQuery} $target - Tab to open.\n       * @fires Tabs#change\n       * @function\n       */\n\n    }, {\n      key: '_handleTabChange',\n      value: function () {\n        function _handleTabChange($target) {\n          var $tabLink = $target.find('[role=\"tab\"]'),\n              hash = $tabLink[0].hash,\n              $targetContent = this.$tabContent.find(hash),\n              $oldTab = this.$element.find('.' + this.options.linkClass + '.is-active').removeClass('is-active').find('[role=\"tab\"]').attr({ 'aria-selected': 'false' });\n\n          $('#' + $oldTab.attr('aria-controls')).removeClass('is-active').attr({ 'aria-hidden': 'true' });\n\n          $target.addClass('is-active');\n\n          $tabLink.attr({ 'aria-selected': 'true' });\n\n          $targetContent.addClass('is-active').attr({ 'aria-hidden': 'false' });\n\n          /**\n           * Fires when the plugin has successfully changed tabs.\n           * @event Tabs#change\n           */\n          this.$element.trigger('change.zf.tabs', [$target]);\n        }\n\n        return _handleTabChange;\n      }()\n\n      /**\n       * Public method for selecting a content pane to display.\n       * @param {jQuery | String} elem - jQuery object or string of the id of the pane to display.\n       * @function\n       */\n\n    }, {\n      key: 'selectTab',\n      value: function () {\n        function selectTab(elem) {\n          var idStr;\n\n          if ((typeof elem === 'undefined' ? 'undefined' : (0, _typeof3['default'])(elem)) === 'object') {\n            idStr = elem[0].id;\n          } else {\n            idStr = elem;\n          }\n\n          if (idStr.indexOf('#') < 0) {\n            idStr = '#' + idStr;\n          }\n\n          var $target = this.$tabTitles.find('[href=\"' + idStr + '\"]').parent('.' + this.options.linkClass);\n\n          this._handleTabChange($target);\n        }\n\n        return selectTab;\n      }()\n    }, {\n      key: '_setHeight',\n\n      /**\n       * Sets the height of each panel to the height of the tallest panel.\n       * If enabled in options, gets called on media query change.\n       * If loading content via external source, can be called directly or with _reflow.\n       * @function\n       * @private\n       */\n      value: function () {\n        function _setHeight() {\n          var max = 0;\n          this.$tabContent.find('.' + this.options.panelClass).css('height', '').each(function () {\n            var panel = $(this),\n                isActive = panel.hasClass('is-active');\n\n            if (!isActive) {\n              panel.css({ 'visibility': 'hidden', 'display': 'block' });\n            }\n\n            var temp = this.getBoundingClientRect().height;\n\n            if (!isActive) {\n              panel.css({\n                'visibility': '',\n                'display': ''\n              });\n            }\n\n            max = temp > max ? temp : max;\n          }).css('height', max + 'px');\n        }\n\n        return _setHeight;\n      }()\n\n      /**\n       * Destroys an instance of an tabs.\n       * @fires Tabs#destroyed\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$element.find('.' + this.options.linkClass).off('.zf.tabs').hide().end().find('.' + this.options.panelClass).hide();\n\n          if (this.options.matchHeight) {\n            if (this._setHeightMqHandler != null) {\n              $(window).off('changed.zf.mediaquery', this._setHeightMqHandler);\n            }\n          }\n\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Tabs;\n  }();\n\n  Tabs.defaults = {\n    /**\n     * Allows the window to scroll to content of active pane on load if set to true.\n     * @option\n     * @example false\n     */\n    autoFocus: false,\n\n    /**\n     * Allows keyboard input to 'wrap' around the tab links.\n     * @option\n     * @example true\n     */\n    wrapOnKeys: true,\n\n    /**\n     * Allows the tab content panes to match heights if set to true.\n     * @option\n     * @example false\n     */\n    matchHeight: false,\n\n    /**\n     * Class applied to `li`'s in tab link list.\n     * @option\n     * @example 'tabs-title'\n     */\n    linkClass: 'tabs-title',\n\n    /**\n     * Class applied to the content containers.\n     * @option\n     * @example 'tabs-panel'\n     */\n    panelClass: 'tabs-panel'\n  };\n\n  function checkClass($elem) {\n    return $elem.hasClass('is-active');\n  }\n\n  // Window exports\n  Foundation.plugin(Tabs, 'Tabs');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Toggler module.\n   * @module foundation.toggler\n   * @requires foundation.util.motion\n   * @requires foundation.util.triggers\n   */\n\n  var Toggler = function () {\n    /**\n     * Creates a new instance of Toggler.\n     * @class\n     * @fires Toggler#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Toggler(element, options) {\n      _classCallCheck(this, Toggler);\n\n      this.$element = element;\n      this.options = $.extend({}, Toggler.defaults, element.data(), options);\n      this.className = '';\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'Toggler');\n    }\n\n    /**\n     * Initializes the Toggler plugin by parsing the toggle class from data-toggler, or animation classes from data-animate.\n     * @function\n     * @private\n     */\n\n    _createClass(Toggler, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          var input;\n          // Parse animation classes if they were set\n          if (this.options.animate) {\n            input = this.options.animate.split(' ');\n\n            this.animationIn = input[0];\n            this.animationOut = input[1] || null;\n          }\n          // Otherwise, parse toggle class\n          else {\n              input = this.$element.data('toggler');\n              // Allow for a . at the beginning of the string\n              this.className = input[0] === '.' ? input.slice(1) : input;\n            }\n\n          // Add ARIA attributes to triggers\n          var id = this.$element[0].id;\n          $('[data-open=\"' + id + '\"], [data-close=\"' + id + '\"], [data-toggle=\"' + id + '\"]').attr('aria-controls', id);\n          // If the target is hidden, add aria-hidden\n          this.$element.attr('aria-expanded', this.$element.is(':hidden') ? false : true);\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Initializes events for the toggle trigger.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          this.$element.off('toggle.zf.trigger').on('toggle.zf.trigger', this.toggle.bind(this));\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Toggles the target class on the target element. An event is fired from the original trigger depending on if the resultant state was \"on\" or \"off\".\n       * @function\n       * @fires Toggler#on\n       * @fires Toggler#off\n       */\n\n    }, {\n      key: 'toggle',\n      value: function () {\n        function toggle() {\n          this[this.options.animate ? '_toggleAnimate' : '_toggleClass']();\n        }\n\n        return toggle;\n      }()\n    }, {\n      key: '_toggleClass',\n      value: function () {\n        function _toggleClass() {\n          this.$element.toggleClass(this.className);\n\n          var isOn = this.$element.hasClass(this.className);\n          if (isOn) {\n            /**\n             * Fires if the target element has the class after a toggle.\n             * @event Toggler#on\n             */\n            this.$element.trigger('on.zf.toggler');\n          } else {\n            /**\n             * Fires if the target element does not have the class after a toggle.\n             * @event Toggler#off\n             */\n            this.$element.trigger('off.zf.toggler');\n          }\n\n          this._updateARIA(isOn);\n        }\n\n        return _toggleClass;\n      }()\n    }, {\n      key: '_toggleAnimate',\n      value: function () {\n        function _toggleAnimate() {\n          var _this = this;\n\n          if (this.$element.is(':hidden')) {\n            Foundation.Motion.animateIn(this.$element, this.animationIn, function () {\n              _this._updateARIA(true);\n              this.trigger('on.zf.toggler');\n            });\n          } else {\n            Foundation.Motion.animateOut(this.$element, this.animationOut, function () {\n              _this._updateARIA(false);\n              this.trigger('off.zf.toggler');\n            });\n          }\n        }\n\n        return _toggleAnimate;\n      }()\n    }, {\n      key: '_updateARIA',\n      value: function () {\n        function _updateARIA(isOn) {\n          this.$element.attr('aria-expanded', isOn ? true : false);\n        }\n\n        return _updateARIA;\n      }()\n\n      /**\n       * Destroys the instance of Toggler on the element.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$element.off('.zf.toggler');\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Toggler;\n  }();\n\n  Toggler.defaults = {\n    /**\n     * Tells the plugin if the element should animated when toggled.\n     * @option\n     * @example false\n     */\n    animate: false\n  };\n\n  // Window exports\n  Foundation.plugin(Toggler, 'Toggler');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Tooltip module.\n   * @module foundation.tooltip\n   * @requires foundation.util.box\n   * @requires foundation.util.triggers\n   */\n\n  var Tooltip = function () {\n    /**\n     * Creates a new instance of a Tooltip.\n     * @class\n     * @fires Tooltip#init\n     * @param {jQuery} element - jQuery object to attach a tooltip to.\n     * @param {Object} options - object to extend the default configuration.\n     */\n\n    function Tooltip(element, options) {\n      _classCallCheck(this, Tooltip);\n\n      this.$element = element;\n      this.options = $.extend({}, Tooltip.defaults, this.$element.data(), options);\n\n      this.isActive = false;\n      this.isClick = false;\n      this._init();\n\n      Foundation.registerPlugin(this, 'Tooltip');\n    }\n\n    /**\n     * Initializes the tooltip by setting the creating the tip element, adding it's text, setting private variables and setting attributes on the anchor.\n     * @private\n     */\n\n    _createClass(Tooltip, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          var elemId = this.$element.attr('aria-describedby') || Foundation.GetYoDigits(6, 'tooltip');\n\n          this.options.positionClass = this.options.positionClass || this._getPositionClass(this.$element);\n          this.options.tipText = this.options.tipText || this.$element.attr('title');\n          this.template = this.options.template ? $(this.options.template) : this._buildTemplate(elemId);\n\n          this.template.appendTo(document.body).text(this.options.tipText).hide();\n\n          this.$element.attr({\n            'title': '',\n            'aria-describedby': elemId,\n            'data-yeti-box': elemId,\n            'data-toggle': elemId,\n            'data-resize': elemId\n          }).addClass(this.triggerClass);\n\n          //helper variables to track movement on collisions\n          this.usedPositions = [];\n          this.counter = 4;\n          this.classChanged = false;\n\n          this._events();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Grabs the current positioning class, if present, and returns the value or an empty string.\n       * @private\n       */\n\n    }, {\n      key: '_getPositionClass',\n      value: function () {\n        function _getPositionClass(element) {\n          if (!element) {\n            return '';\n          }\n          // var position = element.attr('class').match(/top|left|right/g);\n          var position = element[0].className.match(/\\b(top|left|right)\\b/g);\n          position = position ? position[0] : '';\n          return position;\n        }\n\n        return _getPositionClass;\n      }()\n    }, {\n      key: '_buildTemplate',\n\n      /**\n       * builds the tooltip element, adds attributes, and returns the template.\n       * @private\n       */\n      value: function () {\n        function _buildTemplate(id) {\n          var templateClasses = (this.options.tooltipClass + ' ' + this.options.positionClass + ' ' + this.options.templateClasses).trim();\n          var $template = $('<div></div>').addClass(templateClasses).attr({\n            'role': 'tooltip',\n            'aria-hidden': true,\n            'data-is-active': false,\n            'data-is-focus': false,\n            'id': id\n          });\n          return $template;\n        }\n\n        return _buildTemplate;\n      }()\n\n      /**\n       * Function that gets called if a collision event is detected.\n       * @param {String} position - positioning class to try\n       * @private\n       */\n\n    }, {\n      key: '_reposition',\n      value: function () {\n        function _reposition(position) {\n          this.usedPositions.push(position ? position : 'bottom');\n\n          //default, try switching to opposite side\n          if (!position && this.usedPositions.indexOf('top') < 0) {\n            this.template.addClass('top');\n          } else if (position === 'top' && this.usedPositions.indexOf('bottom') < 0) {\n            this.template.removeClass(position);\n          } else if (position === 'left' && this.usedPositions.indexOf('right') < 0) {\n            this.template.removeClass(position).addClass('right');\n          } else if (position === 'right' && this.usedPositions.indexOf('left') < 0) {\n            this.template.removeClass(position).addClass('left');\n          }\n\n          //if default change didn't work, try bottom or left first\n          else if (!position && this.usedPositions.indexOf('top') > -1 && this.usedPositions.indexOf('left') < 0) {\n              this.template.addClass('left');\n            } else if (position === 'top' && this.usedPositions.indexOf('bottom') > -1 && this.usedPositions.indexOf('left') < 0) {\n              this.template.removeClass(position).addClass('left');\n            } else if (position === 'left' && this.usedPositions.indexOf('right') > -1 && this.usedPositions.indexOf('bottom') < 0) {\n              this.template.removeClass(position);\n            } else if (position === 'right' && this.usedPositions.indexOf('left') > -1 && this.usedPositions.indexOf('bottom') < 0) {\n              this.template.removeClass(position);\n            }\n            //if nothing cleared, set to bottom\n            else {\n                this.template.removeClass(position);\n              }\n          this.classChanged = true;\n          this.counter--;\n        }\n\n        return _reposition;\n      }()\n\n      /**\n       * sets the position class of an element and recursively calls itself until there are no more possible positions to attempt, or the tooltip element is no longer colliding.\n       * if the tooltip is larger than the screen width, default to full width - any user selected margin\n       * @private\n       */\n\n    }, {\n      key: '_setPosition',\n      value: function () {\n        function _setPosition() {\n          var position = this._getPositionClass(this.template),\n              $tipDims = Foundation.Box.GetDimensions(this.template),\n              $anchorDims = Foundation.Box.GetDimensions(this.$element),\n              direction = position === 'left' ? 'left' : position === 'right' ? 'left' : 'top',\n              param = direction === 'top' ? 'height' : 'width',\n              offset = param === 'height' ? this.options.vOffset : this.options.hOffset,\n              _this = this;\n\n          if ($tipDims.width >= $tipDims.windowDims.width || !this.counter && !Foundation.Box.ImNotTouchingYou(this.template)) {\n            this.template.offset(Foundation.Box.GetOffsets(this.template, this.$element, 'center bottom', this.options.vOffset, this.options.hOffset, true)).css({\n              // this.$element.offset(Foundation.GetOffsets(this.template, this.$element, 'center bottom', this.options.vOffset, this.options.hOffset, true)).css({\n              'width': $anchorDims.windowDims.width - this.options.hOffset * 2,\n              'height': 'auto'\n            });\n            return false;\n          }\n\n          this.template.offset(Foundation.Box.GetOffsets(this.template, this.$element, 'center ' + (position || 'bottom'), this.options.vOffset, this.options.hOffset));\n\n          while (!Foundation.Box.ImNotTouchingYou(this.template) && this.counter) {\n            this._reposition(position);\n            this._setPosition();\n          }\n        }\n\n        return _setPosition;\n      }()\n\n      /**\n       * reveals the tooltip, and fires an event to close any other open tooltips on the page\n       * @fires Tooltip#closeme\n       * @fires Tooltip#show\n       * @function\n       */\n\n    }, {\n      key: 'show',\n      value: function () {\n        function show() {\n          if (this.options.showOn !== 'all' && !Foundation.MediaQuery.atLeast(this.options.showOn)) {\n            // console.error('The screen is too small to display this tooltip');\n            return false;\n          }\n\n          var _this = this;\n          this.template.css('visibility', 'hidden').show();\n          this._setPosition();\n\n          /**\n           * Fires to close all other open tooltips on the page\n           * @event Closeme#tooltip\n           */\n          this.$element.trigger('closeme.zf.tooltip', this.template.attr('id'));\n\n          this.template.attr({\n            'data-is-active': true,\n            'aria-hidden': false\n          });\n          _this.isActive = true;\n          // console.log(this.template);\n          this.template.stop().hide().css('visibility', '').fadeIn(this.options.fadeInDuration, function () {\n            //maybe do stuff?\n          });\n          /**\n           * Fires when the tooltip is shown\n           * @event Tooltip#show\n           */\n          this.$element.trigger('show.zf.tooltip');\n        }\n\n        return show;\n      }()\n\n      /**\n       * Hides the current tooltip, and resets the positioning class if it was changed due to collision\n       * @fires Tooltip#hide\n       * @function\n       */\n\n    }, {\n      key: 'hide',\n      value: function () {\n        function hide() {\n          // console.log('hiding', this.$element.data('yeti-box'));\n          var _this = this;\n          this.template.stop().attr({\n            'aria-hidden': true,\n            'data-is-active': false\n          }).fadeOut(this.options.fadeOutDuration, function () {\n            _this.isActive = false;\n            _this.isClick = false;\n            if (_this.classChanged) {\n              _this.template.removeClass(_this._getPositionClass(_this.template)).addClass(_this.options.positionClass);\n\n              _this.usedPositions = [];\n              _this.counter = 4;\n              _this.classChanged = false;\n            }\n          });\n          /**\n           * fires when the tooltip is hidden\n           * @event Tooltip#hide\n           */\n          this.$element.trigger('hide.zf.tooltip');\n        }\n\n        return hide;\n      }()\n\n      /**\n       * adds event listeners for the tooltip and its anchor\n       * TODO combine some of the listeners like focus and mouseenter, etc.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this = this;\n          var $template = this.template;\n          var isFocus = false;\n\n          if (!this.options.disableHover) {\n\n            this.$element.on('mouseenter.zf.tooltip', function (e) {\n              if (!_this.isActive) {\n                _this.timeout = setTimeout(function () {\n                  _this.show();\n                }, _this.options.hoverDelay);\n              }\n            }).on('mouseleave.zf.tooltip', function (e) {\n              clearTimeout(_this.timeout);\n              if (!isFocus || _this.isClick && !_this.options.clickOpen) {\n                _this.hide();\n              }\n            });\n          }\n\n          if (this.options.clickOpen) {\n            this.$element.on('mousedown.zf.tooltip', function (e) {\n              e.stopImmediatePropagation();\n              if (_this.isClick) {\n                //_this.hide();\n                // _this.isClick = false;\n              } else {\n                  _this.isClick = true;\n                  if ((_this.options.disableHover || !_this.$element.attr('tabindex')) && !_this.isActive) {\n                    _this.show();\n                  }\n                }\n            });\n          } else {\n            this.$element.on('mousedown.zf.tooltip', function (e) {\n              e.stopImmediatePropagation();\n              _this.isClick = true;\n            });\n          }\n\n          if (!this.options.disableForTouch) {\n            this.$element.on('tap.zf.tooltip touchend.zf.tooltip', function (e) {\n              _this.isActive ? _this.hide() : _this.show();\n            });\n          }\n\n          this.$element.on({\n            // 'toggle.zf.trigger': this.toggle.bind(this),\n            // 'close.zf.trigger': this.hide.bind(this)\n            'close.zf.trigger': this.hide.bind(this)\n          });\n\n          this.$element.on('focus.zf.tooltip', function (e) {\n            isFocus = true;\n            if (_this.isClick) {\n              // If we're not showing open on clicks, we need to pretend a click-launched focus isn't\n              // a real focus, otherwise on hover and come back we get bad behavior\n              if (!_this.options.clickOpen) {\n                isFocus = false;\n              }\n              return false;\n            } else {\n              _this.show();\n            }\n          }).on('focusout.zf.tooltip', function (e) {\n            isFocus = false;\n            _this.isClick = false;\n            _this.hide();\n          }).on('resizeme.zf.trigger', function () {\n            if (_this.isActive) {\n              _this._setPosition();\n            }\n          });\n        }\n\n        return _events;\n      }()\n\n      /**\n       * adds a toggle method, in addition to the static show() & hide() functions\n       * @function\n       */\n\n    }, {\n      key: 'toggle',\n      value: function () {\n        function toggle() {\n          if (this.isActive) {\n            this.hide();\n          } else {\n            this.show();\n          }\n        }\n\n        return toggle;\n      }()\n\n      /**\n       * Destroys an instance of tooltip, removes template element from the view.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$element.attr('title', this.template.text()).off('.zf.trigger .zf.tootip')\n          //  .removeClass('has-tip')\n          .removeAttr('aria-describedby').removeAttr('data-yeti-box').removeAttr('data-toggle').removeAttr('data-resize');\n\n          this.template.remove();\n\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Tooltip;\n  }();\n\n  Tooltip.defaults = {\n    disableForTouch: false,\n    /**\n     * Time, in ms, before a tooltip should open on hover.\n     * @option\n     * @example 200\n     */\n    hoverDelay: 200,\n    /**\n     * Time, in ms, a tooltip should take to fade into view.\n     * @option\n     * @example 150\n     */\n    fadeInDuration: 150,\n    /**\n     * Time, in ms, a tooltip should take to fade out of view.\n     * @option\n     * @example 150\n     */\n    fadeOutDuration: 150,\n    /**\n     * Disables hover events from opening the tooltip if set to true\n     * @option\n     * @example false\n     */\n    disableHover: false,\n    /**\n     * Optional addtional classes to apply to the tooltip template on init.\n     * @option\n     * @example 'my-cool-tip-class'\n     */\n    templateClasses: '',\n    /**\n     * Non-optional class added to tooltip templates. Foundation default is 'tooltip'.\n     * @option\n     * @example 'tooltip'\n     */\n    tooltipClass: 'tooltip',\n    /**\n     * Class applied to the tooltip anchor element.\n     * @option\n     * @example 'has-tip'\n     */\n    triggerClass: 'has-tip',\n    /**\n     * Minimum breakpoint size at which to open the tooltip.\n     * @option\n     * @example 'small'\n     */\n    showOn: 'small',\n    /**\n     * Custom template to be used to generate markup for tooltip.\n     * @option\n     * @example '&lt;div class=\"tooltip\"&gt;&lt;/div&gt;'\n     */\n    template: '',\n    /**\n     * Text displayed in the tooltip template on open.\n     * @option\n     * @example 'Some cool space fact here.'\n     */\n    tipText: '',\n    touchCloseText: 'Tap to close.',\n    /**\n     * Allows the tooltip to remain open if triggered with a click or touch event.\n     * @option\n     * @example true\n     */\n    clickOpen: true,\n    /**\n     * Additional positioning classes, set by the JS\n     * @option\n     * @example 'top'\n     */\n    positionClass: '',\n    /**\n     * Distance, in pixels, the template should push away from the anchor on the Y axis.\n     * @option\n     * @example 10\n     */\n    vOffset: 10,\n    /**\n     * Distance, in pixels, the template should push away from the anchor on the X axis, if aligned to a side.\n     * @option\n     * @example 12\n     */\n    hOffset: 12\n  };\n\n  /**\n   * TODO utilize resize event trigger\n   */\n\n  // Window exports\n  Foundation.plugin(Tooltip, 'Tooltip');\n}(jQuery);","ast":null,"map":{"version":3,"sources":["/packages/zurb:foundation-sites/_build/assets/js/foundation.js"],"names":[],"mappings":"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","file":"/packages/zurb:foundation-sites/_build/assets/js/foundation.js.map","sourcesContent":["!function ($) {\n\n  \"use strict\";\n\n  var FOUNDATION_VERSION = '6.2.2';\n\n  // Global Foundation object\n  // This is attached to the window, or used as a module for AMD/Browserify\n  var Foundation = {\n    version: FOUNDATION_VERSION,\n\n    /**\n     * Stores initialized plugins.\n     */\n    _plugins: {},\n\n    /**\n     * Stores generated unique ids for plugin instances\n     */\n    _uuids: [],\n\n    /**\n     * Returns a boolean for RTL support\n     */\n    rtl: function () {\n      return $('html').attr('dir') === 'rtl';\n    },\n    /**\n     * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n     * @param {Object} plugin - The constructor of the plugin.\n     */\n    plugin: function (plugin, name) {\n      // Object key to use when adding to global Foundation object\n      // Examples: Foundation.Reveal, Foundation.OffCanvas\n      var className = name || functionName(plugin);\n      // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n      // Examples: data-reveal, data-off-canvas\n      var attrName = hyphenate(className);\n\n      // Add to the Foundation object and the plugins list (for reflowing)\n      this._plugins[attrName] = this[className] = plugin;\n    },\n    /**\n     * @function\n     * Populates the _uuids array with pointers to each individual plugin instance.\n     * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n     * Also fires the initialization event for each plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @param {String} name - the name of the plugin, passed as a camelCased string.\n     * @fires Plugin#init\n     */\n    registerPlugin: function (plugin, name) {\n      var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n      plugin.uuid = this.GetYoDigits(6, pluginName);\n\n      if (!plugin.$element.attr('data-' + pluginName)) {\n        plugin.$element.attr('data-' + pluginName, plugin.uuid);\n      }\n      if (!plugin.$element.data('zfPlugin')) {\n        plugin.$element.data('zfPlugin', plugin);\n      }\n      /**\n       * Fires when the plugin has initialized.\n       * @event Plugin#init\n       */\n      plugin.$element.trigger('init.zf.' + pluginName);\n\n      this._uuids.push(plugin.uuid);\n\n      return;\n    },\n    /**\n     * @function\n     * Removes the plugins uuid from the _uuids array.\n     * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n     * Also fires the destroyed event for the plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @fires Plugin#destroyed\n     */\n    unregisterPlugin: function (plugin) {\n      var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n      this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n      plugin.$element.removeAttr('data-' + pluginName).removeData('zfPlugin')\n      /**\n       * Fires when the plugin has been destroyed.\n       * @event Plugin#destroyed\n       */\n      .trigger('destroyed.zf.' + pluginName);\n      for (var prop in plugin) {\n        plugin[prop] = null; //clean up script to prep for garbage collection.\n      }\n      return;\n    },\n\n    /**\n     * @function\n     * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n     * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n     * @default If no argument is passed, reflow all currently active plugins.\n     */\n    reInit: function (plugins) {\n      var isJQ = plugins instanceof $;\n      try {\n        if (isJQ) {\n          plugins.each(function () {\n            $(this).data('zfPlugin')._init();\n          });\n        } else {\n          var type = typeof plugins,\n              _this = this,\n              fns = {\n            'object': function (plgs) {\n              plgs.forEach(function (p) {\n                p = hyphenate(p);\n                $('[data-' + p + ']').foundation('_init');\n              });\n            },\n            'string': function () {\n              plugins = hyphenate(plugins);\n              $('[data-' + plugins + ']').foundation('_init');\n            },\n            'undefined': function () {\n              this['object'](Object.keys(_this._plugins));\n            }\n          };\n          fns[type](plugins);\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        return plugins;\n      }\n    },\n\n    /**\n     * returns a random base-36 uid with namespacing\n     * @function\n     * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n     * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n     * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n     * @returns {String} - unique id\n     */\n    GetYoDigits: function (length, namespace) {\n      length = length || 6;\n      return Math.round(Math.pow(36, length + 1) - Math.random() * Math.pow(36, length)).toString(36).slice(1) + (namespace ? '-' + namespace : '');\n    },\n    /**\n     * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n     * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n     * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n     */\n    reflow: function (elem, plugins) {\n\n      // If plugins is undefined, just grab everything\n      if (typeof plugins === 'undefined') {\n        plugins = Object.keys(this._plugins);\n      }\n      // If plugins is a string, convert it to an array with one item\n      else if (typeof plugins === 'string') {\n          plugins = [plugins];\n        }\n\n      var _this = this;\n\n      // Iterate through each plugin\n      $.each(plugins, function (i, name) {\n        // Get the current plugin\n        var plugin = _this._plugins[name];\n\n        // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n        var $elem = $(elem).find('[data-' + name + ']').addBack('[data-' + name + ']');\n\n        // For each plugin found, initialize it\n        $elem.each(function () {\n          var $el = $(this),\n              opts = {};\n          // Don't double-dip on plugins\n          if ($el.data('zfPlugin')) {\n            console.warn(\"Tried to initialize \" + name + \" on an element that already has a Foundation plugin.\");\n            return;\n          }\n\n          if ($el.attr('data-options')) {\n            var thing = $el.attr('data-options').split(';').forEach(function (e, i) {\n              var opt = e.split(':').map(function (el) {\n                return el.trim();\n              });\n              if (opt[0]) opts[opt[0]] = parseValue(opt[1]);\n            });\n          }\n          try {\n            $el.data('zfPlugin', new plugin($(this), opts));\n          } catch (er) {\n            console.error(er);\n          } finally {\n            return;\n          }\n        });\n      });\n    },\n    getFnName: functionName,\n    transitionend: function ($elem) {\n      var transitions = {\n        'transition': 'transitionend',\n        'WebkitTransition': 'webkitTransitionEnd',\n        'MozTransition': 'transitionend',\n        'OTransition': 'otransitionend'\n      };\n      var elem = document.createElement('div'),\n          end;\n\n      for (var t in transitions) {\n        if (typeof elem.style[t] !== 'undefined') {\n          end = transitions[t];\n        }\n      }\n      if (end) {\n        return end;\n      } else {\n        end = setTimeout(function () {\n          $elem.triggerHandler('transitionend', [$elem]);\n        }, 1);\n        return 'transitionend';\n      }\n    }\n  };\n\n  Foundation.util = {\n    /**\n     * Function for applying a debounce effect to a function call.\n     * @function\n     * @param {Function} func - Function to be called at end of timeout.\n     * @param {Number} delay - Time in ms to delay the call of `func`.\n     * @returns function\n     */\n    throttle: function (func, delay) {\n      var timer = null;\n\n      return function () {\n        var context = this,\n            args = arguments;\n\n        if (timer === null) {\n          timer = setTimeout(function () {\n            func.apply(context, args);\n            timer = null;\n          }, delay);\n        }\n      };\n    }\n  };\n\n  // TODO: consider not making this a jQuery function\n  // TODO: need way to reflow vs. re-initialize\n  /**\n   * The Foundation jQuery method.\n   * @param {String|Array} method - An action to perform on the current jQuery object.\n   */\n  var foundation = function (method) {\n    var type = typeof method,\n        $meta = $('meta.foundation-mq'),\n        $noJS = $('.no-js');\n\n    if (!$meta.length) {\n      $('<meta class=\"foundation-mq\">').appendTo(document.head);\n    }\n    if ($noJS.length) {\n      $noJS.removeClass('no-js');\n    }\n\n    if (type === 'undefined') {\n      //needs to initialize the Foundation object, or an individual plugin.\n      Foundation.MediaQuery._init();\n      Foundation.reflow(this);\n    } else if (type === 'string') {\n      //an individual method to invoke on a plugin or group of plugins\n      var args = Array.prototype.slice.call(arguments, 1); //collect all the arguments, if necessary\n      var plugClass = this.data('zfPlugin'); //determine the class of plugin\n\n      if (plugClass !== undefined && plugClass[method] !== undefined) {\n        //make sure both the class and method exist\n        if (this.length === 1) {\n          //if there's only one, call it directly.\n          plugClass[method].apply(plugClass, args);\n        } else {\n          this.each(function (i, el) {\n            //otherwise loop through the jQuery collection and invoke the method on each\n            plugClass[method].apply($(el).data('zfPlugin'), args);\n          });\n        }\n      } else {\n        //error for no class or no method\n        throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n      }\n    } else {\n      //error for invalid argument type\n      throw new TypeError('We\\'re sorry, ' + type + ' is not a valid parameter. You must use a string representing the method you wish to invoke.');\n    }\n    return this;\n  };\n\n  window.Foundation = Foundation;\n  $.fn.foundation = foundation;\n\n  // Polyfill for requestAnimationFrame\n  (function () {\n    if (!Date.now || !window.Date.now) window.Date.now = Date.now = function () {\n      return new Date().getTime();\n    };\n\n    var vendors = ['webkit', 'moz'];\n    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n      var vp = vendors[i];\n      window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\n      window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\n    }\n    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n      var lastTime = 0;\n      window.requestAnimationFrame = function (callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function () {\n          callback(lastTime = nextTime);\n        }, nextTime - now);\n      };\n      window.cancelAnimationFrame = clearTimeout;\n    }\n    /**\n     * Polyfill for performance.now, required by rAF\n     */\n    if (!window.performance || !window.performance.now) {\n      window.performance = {\n        start: Date.now(),\n        now: function () {\n          return Date.now() - this.start;\n        }\n      };\n    }\n  })();\n  if (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n      if (typeof this !== 'function') {\n        // closest thing possible to the ECMAScript 5\n        // internal IsCallable function\n        throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n      }\n\n      var aArgs = Array.prototype.slice.call(arguments, 1),\n          fToBind = this,\n          fNOP = function () {},\n          fBound = function () {\n        return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n      };\n\n      if (this.prototype) {\n        // native functions don't have a prototype\n        fNOP.prototype = this.prototype;\n      }\n      fBound.prototype = new fNOP();\n\n      return fBound;\n    };\n  }\n  // Polyfill to get the name of a function in IE9\n  function functionName(fn) {\n    if (Function.prototype.name === undefined) {\n      var funcNameRegex = /function\\s([^(]{1,})\\(/;\n      var results = funcNameRegex.exec(fn.toString());\n      return results && results.length > 1 ? results[1].trim() : \"\";\n    } else if (fn.prototype === undefined) {\n      return fn.constructor.name;\n    } else {\n      return fn.prototype.constructor.name;\n    }\n  }\n  function parseValue(str) {\n    if (/true/.test(str)) return true;else if (/false/.test(str)) return false;else if (!isNaN(str * 1)) return parseFloat(str);\n    return str;\n  }\n  // Convert PascalCase to kebab-case\n  // Thank you: http://stackoverflow.com/a/8955580\n  function hyphenate(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  }\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  Foundation.Box = {\n    ImNotTouchingYou: ImNotTouchingYou,\n    GetDimensions: GetDimensions,\n    GetOffsets: GetOffsets\n  };\n\n  /**\n   * Compares the dimensions of an element to a container and determines collision events with container.\n   * @function\n   * @param {jQuery} element - jQuery object to test for collisions.\n   * @param {jQuery} parent - jQuery object to use as bounding container.\n   * @param {Boolean} lrOnly - set to true to check left and right values only.\n   * @param {Boolean} tbOnly - set to true to check top and bottom values only.\n   * @default if no parent object passed, detects collisions with `window`.\n   * @returns {Boolean} - true if collision free, false if a collision in any direction.\n   */\n  function ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\n    var eleDims = GetDimensions(element),\n        top,\n        bottom,\n        left,\n        right;\n\n    if (parent) {\n      var parDims = GetDimensions(parent);\n\n      bottom = eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top;\n      top = eleDims.offset.top >= parDims.offset.top;\n      left = eleDims.offset.left >= parDims.offset.left;\n      right = eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left;\n    } else {\n      bottom = eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top;\n      top = eleDims.offset.top >= eleDims.windowDims.offset.top;\n      left = eleDims.offset.left >= eleDims.windowDims.offset.left;\n      right = eleDims.offset.left + eleDims.width <= eleDims.windowDims.width;\n    }\n\n    var allDirs = [bottom, top, left, right];\n\n    if (lrOnly) {\n      return left === right === true;\n    }\n\n    if (tbOnly) {\n      return top === bottom === true;\n    }\n\n    return allDirs.indexOf(false) === -1;\n  };\n\n  /**\n   * Uses native methods to return an object of dimension values.\n   * @function\n   * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\n   * @returns {Object} - nested object of integer pixel values\n   * TODO - if element is window, return only those values.\n   */\n  function GetDimensions(elem, test) {\n    elem = elem.length ? elem[0] : elem;\n\n    if (elem === window || elem === document) {\n      throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\n    }\n\n    var rect = elem.getBoundingClientRect(),\n        parRect = elem.parentNode.getBoundingClientRect(),\n        winRect = document.body.getBoundingClientRect(),\n        winY = window.pageYOffset,\n        winX = window.pageXOffset;\n\n    return {\n      width: rect.width,\n      height: rect.height,\n      offset: {\n        top: rect.top + winY,\n        left: rect.left + winX\n      },\n      parentDims: {\n        width: parRect.width,\n        height: parRect.height,\n        offset: {\n          top: parRect.top + winY,\n          left: parRect.left + winX\n        }\n      },\n      windowDims: {\n        width: winRect.width,\n        height: winRect.height,\n        offset: {\n          top: winY,\n          left: winX\n        }\n      }\n    };\n  }\n\n  /**\n   * Returns an object of top and left integer pixel values for dynamically rendered elements,\n   * such as: Tooltip, Reveal, and Dropdown\n   * @function\n   * @param {jQuery} element - jQuery object for the element being positioned.\n   * @param {jQuery} anchor - jQuery object for the element's anchor point.\n   * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\n   * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\n   * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\n   * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\n   * TODO alter/rewrite to work with `em` values as well/instead of pixels\n   */\n  function GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\n    var $eleDims = GetDimensions(element),\n        $anchorDims = anchor ? GetDimensions(anchor) : null;\n\n    switch (position) {\n      case 'top':\n        return {\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left,\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n        };\n        break;\n      case 'left':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top\n        };\n        break;\n      case 'right':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset,\n          top: $anchorDims.offset.top\n        };\n        break;\n      case 'center top':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n        };\n        break;\n      case 'center bottom':\n        return {\n          left: isOverflow ? hOffset : $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n        break;\n      case 'center left':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'center right':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'center':\n        return {\n          left: $eleDims.windowDims.offset.left + $eleDims.windowDims.width / 2 - $eleDims.width / 2,\n          top: $eleDims.windowDims.offset.top + $eleDims.windowDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'reveal':\n        return {\n          left: ($eleDims.windowDims.width - $eleDims.width) / 2,\n          top: $eleDims.windowDims.offset.top + vOffset\n        };\n      case 'reveal full':\n        return {\n          left: $eleDims.windowDims.offset.left,\n          top: $eleDims.windowDims.offset.top\n        };\n        break;\n      case 'left bottom':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top + $anchorDims.height\n        };\n        break;\n      case 'right bottom':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\n          top: $anchorDims.offset.top + $anchorDims.height\n        };\n        break;\n      default:\n        return {\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n    }\n  }\n}(jQuery);\n/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function ($) {\n\n  var keyCodes = {\n    9: 'TAB',\n    13: 'ENTER',\n    27: 'ESCAPE',\n    32: 'SPACE',\n    37: 'ARROW_LEFT',\n    38: 'ARROW_UP',\n    39: 'ARROW_RIGHT',\n    40: 'ARROW_DOWN'\n  };\n\n  var commands = {};\n\n  var Keyboard = {\n    keys: getKeyCodes(keyCodes),\n\n    /**\n     * Parses the (keyboard) event and returns a String that represents its key\n     * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n     * @param {Event} event - the event generated by the event handler\n     * @return String key - String that represents the key pressed\n     */\n    parseKey: function (event) {\n      var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n      if (event.shiftKey) key = 'SHIFT_' + key;\n      if (event.ctrlKey) key = 'CTRL_' + key;\n      if (event.altKey) key = 'ALT_' + key;\n      return key;\n    },\n\n\n    /**\n     * Handles the given (keyboard) event\n     * @param {Event} event - the event generated by the event handler\n     * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n     * @param {Objects} functions - collection of functions that are to be executed\n     */\n    handleKey: function (event, component, functions) {\n      var commandList = commands[component],\n          keyCode = this.parseKey(event),\n          cmds,\n          command,\n          fn;\n\n      if (!commandList) return console.warn('Component not defined!');\n\n      if (typeof commandList.ltr === 'undefined') {\n        // this component does not differentiate between ltr and rtl\n        cmds = commandList; // use plain list\n      } else {\n          // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n          if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n        }\n      command = cmds[keyCode];\n\n      fn = functions[command];\n      if (fn && typeof fn === 'function') {\n        // execute function  if exists\n        var returnValue = fn.apply();\n        if (functions.handled || typeof functions.handled === 'function') {\n          // execute function when event was handled\n          functions.handled(returnValue);\n        }\n      } else {\n        if (functions.unhandled || typeof functions.unhandled === 'function') {\n          // execute function when event was not handled\n          functions.unhandled();\n        }\n      }\n    },\n\n\n    /**\n     * Finds all focusable elements within the given `$element`\n     * @param {jQuery} $element - jQuery object to search within\n     * @return {jQuery} $focusable - all focusable elements within `$element`\n     */\n    findFocusable: function ($element) {\n      return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function () {\n        if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) {\n          return false;\n        } //only have visible elements and those that have a tabindex greater or equal 0\n        return true;\n      });\n    },\n\n\n    /**\n     * Returns the component name name\n     * @param {Object} component - Foundation component, e.g. Slider or Reveal\n     * @return String componentName\n     */\n\n    register: function (componentName, cmds) {\n      commands[componentName] = cmds;\n    }\n  };\n\n  /*\n   * Constants for easier comparing.\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   */\n  function getKeyCodes(kcs) {\n    var k = {};\n    for (var kc in kcs) {\n      k[kcs[kc]] = kcs[kc];\n    }return k;\n  }\n\n  Foundation.Keyboard = Keyboard;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  // Default set of media queries\n  var defaultQueries = {\n    'default': 'only screen',\n    landscape: 'only screen and (orientation: landscape)',\n    portrait: 'only screen and (orientation: portrait)',\n    retina: 'only screen and (-webkit-min-device-pixel-ratio: 2),' + 'only screen and (min--moz-device-pixel-ratio: 2),' + 'only screen and (-o-min-device-pixel-ratio: 2/1),' + 'only screen and (min-device-pixel-ratio: 2),' + 'only screen and (min-resolution: 192dpi),' + 'only screen and (min-resolution: 2dppx)'\n  };\n\n  var MediaQuery = {\n    queries: [],\n\n    current: '',\n\n    /**\n     * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n     * @function\n     * @private\n     */\n    _init: function () {\n      var self = this;\n      var extractedStyles = $('.foundation-mq').css('font-family');\n      var namedQueries;\n\n      namedQueries = parseStyleToObject(extractedStyles);\n\n      for (var key in namedQueries) {\n        if (namedQueries.hasOwnProperty(key)) {\n          self.queries.push({\n            name: key,\n            value: 'only screen and (min-width: ' + namedQueries[key] + ')'\n          });\n        }\n      }\n\n      this.current = this._getCurrentSize();\n\n      this._watcher();\n    },\n\n\n    /**\n     * Checks if the screen is at least as wide as a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to check.\n     * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n     */\n    atLeast: function (size) {\n      var query = this.get(size);\n\n      if (query) {\n        return window.matchMedia(query).matches;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Gets the media query of a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to get.\n     * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n     */\n    get: function (size) {\n      for (var i in this.queries) {\n        if (this.queries.hasOwnProperty(i)) {\n          var query = this.queries[i];\n          if (size === query.name) return query.value;\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n     * @function\n     * @private\n     * @returns {String} Name of the current breakpoint.\n     */\n    _getCurrentSize: function () {\n      var matched;\n\n      for (var i = 0; i < this.queries.length; i++) {\n        var query = this.queries[i];\n\n        if (window.matchMedia(query.value).matches) {\n          matched = query;\n        }\n      }\n\n      if (typeof matched === 'object') {\n        return matched.name;\n      } else {\n        return matched;\n      }\n    },\n\n\n    /**\n     * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n     * @function\n     * @private\n     */\n    _watcher: function () {\n      var _this = this;\n\n      $(window).on('resize.zf.mediaquery', function () {\n        var newSize = _this._getCurrentSize(),\n            currentSize = _this.current;\n\n        if (newSize !== currentSize) {\n          // Change the current media query\n          _this.current = newSize;\n\n          // Broadcast the media query change on the window\n          $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n        }\n      });\n    }\n  };\n\n  Foundation.MediaQuery = MediaQuery;\n\n  // matchMedia() polyfill - Test a CSS media type/query in JS.\n  // Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\n  window.matchMedia || (window.matchMedia = function () {\n    'use strict';\n\n    // For browsers that support matchMedium api such as IE 9 and webkit\n\n    var styleMedia = window.styleMedia || window.media;\n\n    // For those that don't support matchMedium\n    if (!styleMedia) {\n      var style = document.createElement('style'),\n          script = document.getElementsByTagName('script')[0],\n          info = null;\n\n      style.type = 'text/css';\n      style.id = 'matchmediajs-test';\n\n      script.parentNode.insertBefore(style, script);\n\n      // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n      info = 'getComputedStyle' in window && window.getComputedStyle(style, null) || style.currentStyle;\n\n      styleMedia = {\n        matchMedium: function (media) {\n          var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n          // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n          if (style.styleSheet) {\n            style.styleSheet.cssText = text;\n          } else {\n            style.textContent = text;\n          }\n\n          // Test if media query is true or false\n          return info.width === '1px';\n        }\n      };\n    }\n\n    return function (media) {\n      return {\n        matches: styleMedia.matchMedium(media || 'all'),\n        media: media || 'all'\n      };\n    };\n  }());\n\n  // Thank you: https://github.com/sindresorhus/query-string\n  function parseStyleToObject(str) {\n    var styleObject = {};\n\n    if (typeof str !== 'string') {\n      return styleObject;\n    }\n\n    str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n    if (!str) {\n      return styleObject;\n    }\n\n    styleObject = str.split('&').reduce(function (ret, param) {\n      var parts = param.replace(/\\+/g, ' ').split('=');\n      var key = parts[0];\n      var val = parts[1];\n      key = decodeURIComponent(key);\n\n      // missing `=` should be `null`:\n      // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n      val = val === undefined ? null : decodeURIComponent(val);\n\n      if (!ret.hasOwnProperty(key)) {\n        ret[key] = val;\n      } else if (Array.isArray(ret[key])) {\n        ret[key].push(val);\n      } else {\n        ret[key] = [ret[key], val];\n      }\n      return ret;\n    }, {});\n\n    return styleObject;\n  }\n\n  Foundation.MediaQuery = MediaQuery;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  /**\n   * Motion module.\n   * @module foundation.motion\n   */\n\n  var initClasses = ['mui-enter', 'mui-leave'];\n  var activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\n  var Motion = {\n    animateIn: function (element, animation, cb) {\n      animate(true, element, animation, cb);\n    },\n\n    animateOut: function (element, animation, cb) {\n      animate(false, element, animation, cb);\n    }\n  };\n\n  function Move(duration, elem, fn) {\n    var anim,\n        prog,\n        start = null;\n    // console.log('called');\n\n    function move(ts) {\n      if (!start) start = window.performance.now();\n      // console.log(start, ts);\n      prog = ts - start;\n      fn.apply(elem);\n\n      if (prog < duration) {\n        anim = window.requestAnimationFrame(move, elem);\n      } else {\n        window.cancelAnimationFrame(anim);\n        elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n      }\n    }\n    anim = window.requestAnimationFrame(move);\n  }\n\n  /**\n   * Animates an element in or out using a CSS transition class.\n   * @function\n   * @private\n   * @param {Boolean} isIn - Defines if the animation is in or out.\n   * @param {Object} element - jQuery or HTML object to animate.\n   * @param {String} animation - CSS class to use.\n   * @param {Function} cb - Callback to run when animation is finished.\n   */\n  function animate(isIn, element, animation, cb) {\n    element = $(element).eq(0);\n\n    if (!element.length) return;\n\n    var initClass = isIn ? initClasses[0] : initClasses[1];\n    var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n    // Set up the animation\n    reset();\n\n    element.addClass(animation).css('transition', 'none');\n\n    requestAnimationFrame(function () {\n      element.addClass(initClass);\n      if (isIn) element.show();\n    });\n\n    // Start the animation\n    requestAnimationFrame(function () {\n      element[0].offsetWidth;\n      element.css('transition', '').addClass(activeClass);\n    });\n\n    // Clean up the animation when it finishes\n    element.one(Foundation.transitionend(element), finish);\n\n    // Hides the element (for out animations), resets the element, and runs a callback\n    function finish() {\n      if (!isIn) element.hide();\n      reset();\n      if (cb) cb.apply(element);\n    }\n\n    // Resets transitions and removes motion-specific classes\n    function reset() {\n      element[0].style.transitionDuration = 0;\n      element.removeClass(initClass + ' ' + activeClass + ' ' + animation);\n    }\n  }\n\n  Foundation.Move = Move;\n  Foundation.Motion = Motion;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  var Nest = {\n    Feather: function (menu) {\n      var type = arguments.length <= 1 || arguments[1] === undefined ? 'zf' : arguments[1];\n\n      menu.attr('role', 'menubar');\n\n      var items = menu.find('li').attr({ 'role': 'menuitem' }),\n          subMenuClass = 'is-' + type + '-submenu',\n          subItemClass = subMenuClass + '-item',\n          hasSubClass = 'is-' + type + '-submenu-parent';\n\n      menu.find('a:first').attr('tabindex', 0);\n\n      items.each(function () {\n        var $item = $(this),\n            $sub = $item.children('ul');\n\n        if ($sub.length) {\n          $item.addClass(hasSubClass).attr({\n            'aria-haspopup': true,\n            'aria-expanded': false,\n            'aria-label': $item.children('a:first').text()\n          });\n\n          $sub.addClass('submenu ' + subMenuClass).attr({\n            'data-submenu': '',\n            'aria-hidden': true,\n            'role': 'menu'\n          });\n        }\n\n        if ($item.parent('[data-submenu]').length) {\n          $item.addClass('is-submenu-item ' + subItemClass);\n        }\n      });\n\n      return;\n    },\n    Burn: function (menu, type) {\n      var items = menu.find('li').removeAttr('tabindex'),\n          subMenuClass = 'is-' + type + '-submenu',\n          subItemClass = subMenuClass + '-item',\n          hasSubClass = 'is-' + type + '-submenu-parent';\n\n      menu.find('*').removeClass(subMenuClass + ' ' + subItemClass + ' ' + hasSubClass + ' is-submenu-item submenu is-active').removeAttr('data-submenu').css('display', '');\n\n      // console.log(      menu.find('.' + subMenuClass + ', .' + subItemClass + ', .has-submenu, .is-submenu-item, .submenu, [data-submenu]')\n      //           .removeClass(subMenuClass + ' ' + subItemClass + ' has-submenu is-submenu-item submenu')\n      //           .removeAttr('data-submenu'));\n      // items.each(function(){\n      //   var $item = $(this),\n      //       $sub = $item.children('ul');\n      //   if($item.parent('[data-submenu]').length){\n      //     $item.removeClass('is-submenu-item ' + subItemClass);\n      //   }\n      //   if($sub.length){\n      //     $item.removeClass('has-submenu');\n      //     $sub.removeClass('submenu ' + subMenuClass).removeAttr('data-submenu');\n      //   }\n      // });\n    }\n  };\n\n  Foundation.Nest = Nest;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  function Timer(elem, options, cb) {\n    var _this = this,\n        duration = options.duration,\n        //options is an object for easily adding features later.\n    nameSpace = Object.keys(elem.data())[0] || 'timer',\n        remain = -1,\n        start,\n        timer;\n\n    this.isPaused = false;\n\n    this.restart = function () {\n      remain = -1;\n      clearTimeout(timer);\n      this.start();\n    };\n\n    this.start = function () {\n      this.isPaused = false;\n      // if(!elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n      clearTimeout(timer);\n      remain = remain <= 0 ? duration : remain;\n      elem.data('paused', false);\n      start = Date.now();\n      timer = setTimeout(function () {\n        if (options.infinite) {\n          _this.restart(); //rerun the timer.\n        }\n        cb();\n      }, remain);\n      elem.trigger('timerstart.zf.' + nameSpace);\n    };\n\n    this.pause = function () {\n      this.isPaused = true;\n      //if(elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n      clearTimeout(timer);\n      elem.data('paused', true);\n      var end = Date.now();\n      remain = remain - (end - start);\n      elem.trigger('timerpaused.zf.' + nameSpace);\n    };\n  }\n\n  /**\n   * Runs a callback function when images are fully loaded.\n   * @param {Object} images - Image(s) to check if loaded.\n   * @param {Func} callback - Function to execute when image is fully loaded.\n   */\n  function onImagesLoaded(images, callback) {\n    var self = this,\n        unloaded = images.length;\n\n    if (unloaded === 0) {\n      callback();\n    }\n\n    images.each(function () {\n      if (this.complete) {\n        singleImageLoaded();\n      } else if (typeof this.naturalWidth !== 'undefined' && this.naturalWidth > 0) {\n        singleImageLoaded();\n      } else {\n        $(this).one('load', function () {\n          singleImageLoaded();\n        });\n      }\n    });\n\n    function singleImageLoaded() {\n      unloaded--;\n      if (unloaded === 0) {\n        callback();\n      }\n    }\n  }\n\n  Foundation.Timer = Timer;\n  Foundation.onImagesLoaded = onImagesLoaded;\n}(jQuery);\n//**************************************************\n//**Work inspired by multiple jquery swipe plugins**\n//**Done by Yohai Ararat ***************************\n//**************************************************\n(function ($) {\n\n\t$.spotSwipe = {\n\t\tversion: '1.0.0',\n\t\tenabled: 'ontouchstart' in document.documentElement,\n\t\tpreventDefault: false,\n\t\tmoveThreshold: 75,\n\t\ttimeThreshold: 200\n\t};\n\n\tvar startPosX,\n\t    startPosY,\n\t    startTime,\n\t    elapsedTime,\n\t    isMoving = false;\n\n\tfunction onTouchEnd() {\n\t\t//  alert(this);\n\t\tthis.removeEventListener('touchmove', onTouchMove);\n\t\tthis.removeEventListener('touchend', onTouchEnd);\n\t\tisMoving = false;\n\t}\n\n\tfunction onTouchMove(e) {\n\t\tif ($.spotSwipe.preventDefault) {\n\t\t\te.preventDefault();\n\t\t}\n\t\tif (isMoving) {\n\t\t\tvar x = e.touches[0].pageX;\n\t\t\tvar y = e.touches[0].pageY;\n\t\t\tvar dx = startPosX - x;\n\t\t\tvar dy = startPosY - y;\n\t\t\tvar dir;\n\t\t\telapsedTime = new Date().getTime() - startTime;\n\t\t\tif (Math.abs(dx) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n\t\t\t\tdir = dx > 0 ? 'left' : 'right';\n\t\t\t}\n\t\t\t// else if(Math.abs(dy) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n\t\t\t//   dir = dy > 0 ? 'down' : 'up';\n\t\t\t// }\n\t\t\tif (dir) {\n\t\t\t\te.preventDefault();\n\t\t\t\tonTouchEnd.call(this);\n\t\t\t\t$(this).trigger('swipe', dir).trigger('swipe' + dir);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onTouchStart(e) {\n\t\tif (e.touches.length == 1) {\n\t\t\tstartPosX = e.touches[0].pageX;\n\t\t\tstartPosY = e.touches[0].pageY;\n\t\t\tisMoving = true;\n\t\t\tstartTime = new Date().getTime();\n\t\t\tthis.addEventListener('touchmove', onTouchMove, false);\n\t\t\tthis.addEventListener('touchend', onTouchEnd, false);\n\t\t}\n\t}\n\n\tfunction init() {\n\t\tthis.addEventListener && this.addEventListener('touchstart', onTouchStart, false);\n\t}\n\n\tfunction teardown() {\n\t\tthis.removeEventListener('touchstart', onTouchStart);\n\t}\n\n\t$.event.special.swipe = { setup: init };\n\n\t$.each(['left', 'up', 'down', 'right'], function () {\n\t\t$.event.special['swipe' + this] = { setup: function () {\n\t\t\t\t$(this).on('swipe', $.noop);\n\t\t\t} };\n\t});\n})(jQuery);\n/****************************************************\n * Method for adding psuedo drag events to elements *\n ***************************************************/\n!function ($) {\n\t$.fn.addTouch = function () {\n\t\tthis.each(function (i, el) {\n\t\t\t$(el).bind('touchstart touchmove touchend touchcancel', function () {\n\t\t\t\t//we pass the original event object because the jQuery event\n\t\t\t\t//object is normalized to w3c specs and does not provide the TouchList\n\t\t\t\thandleTouch(event);\n\t\t\t});\n\t\t});\n\n\t\tvar handleTouch = function (event) {\n\t\t\tvar touches = event.changedTouches,\n\t\t\t    first = touches[0],\n\t\t\t    eventTypes = {\n\t\t\t\ttouchstart: 'mousedown',\n\t\t\t\ttouchmove: 'mousemove',\n\t\t\t\ttouchend: 'mouseup'\n\t\t\t},\n\t\t\t    type = eventTypes[event.type],\n\t\t\t    simulatedEvent;\n\n\t\t\tif ('MouseEvent' in window && typeof window.MouseEvent === 'function') {\n\t\t\t\tsimulatedEvent = new window.MouseEvent(type, {\n\t\t\t\t\t'bubbles': true,\n\t\t\t\t\t'cancelable': true,\n\t\t\t\t\t'screenX': first.screenX,\n\t\t\t\t\t'screenY': first.screenY,\n\t\t\t\t\t'clientX': first.clientX,\n\t\t\t\t\t'clientY': first.clientY\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsimulatedEvent = document.createEvent('MouseEvent');\n\t\t\t\tsimulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0 /*left*/, null);\n\t\t\t}\n\t\t\tfirst.target.dispatchEvent(simulatedEvent);\n\t\t};\n\t};\n}(jQuery);\n\n//**********************************\n//**From the jQuery Mobile Library**\n//**need to recreate functionality**\n//**and try to improve if possible**\n//**********************************\n\n/* Removing the jQuery function ****\n************************************\n\n(function( $, window, undefined ) {\n\n\tvar $document = $( document ),\n\t\t// supportTouch = $.mobile.support.touch,\n\t\ttouchStartEvent = 'touchstart'//supportTouch ? \"touchstart\" : \"mousedown\",\n\t\ttouchStopEvent = 'touchend'//supportTouch ? \"touchend\" : \"mouseup\",\n\t\ttouchMoveEvent = 'touchmove'//supportTouch ? \"touchmove\" : \"mousemove\";\n\n\t// setup new event shortcuts\n\t$.each( ( \"touchstart touchmove touchend \" +\n\t\t\"swipe swipeleft swiperight\" ).split( \" \" ), function( i, name ) {\n\n\t\t$.fn[ name ] = function( fn ) {\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\n\t\t};\n\n\t\t// jQuery < 1.8\n\t\tif ( $.attrFn ) {\n\t\t\t$.attrFn[ name ] = true;\n\t\t}\n\t});\n\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\n\t\tvar originalType = event.type;\n\t\tevent.type = eventType;\n\t\tif ( bubble ) {\n\t\t\t$.event.trigger( event, undefined, obj );\n\t\t} else {\n\t\t\t$.event.dispatch.call( obj, event );\n\t\t}\n\t\tevent.type = originalType;\n\t}\n\n\t// also handles taphold\n\n\t// Also handles swipeleft, swiperight\n\t$.event.special.swipe = {\n\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\n\t\tscrollSupressionThreshold: 30,\n\n\t\t// More time than this, and it isn't a swipe.\n\t\tdurationThreshold: 1000,\n\n\t\t// Swipe horizontal displacement must be more than this.\n\t\thorizontalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\t// Swipe vertical displacement must be less than this.\n\t\tverticalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\tgetLocation: function ( event ) {\n\t\t\tvar winPageX = window.pageXOffset,\n\t\t\t\twinPageY = window.pageYOffset,\n\t\t\t\tx = event.clientX,\n\t\t\t\ty = event.clientY;\n\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\n\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\n\t\t\t\tx = x - winPageX;\n\t\t\t\ty = y - winPageY;\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\n\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\n\t\t\t\tx = event.pageX - winPageX;\n\t\t\t\ty = event.pageY - winPageY;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\n\t\tstart: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\n\t\t\t\t\t\torigin: $( event.target )\n\t\t\t\t\t};\n\t\t},\n\n\t\tstop: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\n\t\t\t\t\t};\n\t\t},\n\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\n\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\n\t\t},\n\n\t\t// This serves as a flag to ensure that at most one swipe event event is\n\t\t// in work at any given time\n\t\teventInProgress: false,\n\n\t\tsetup: function() {\n\t\t\tvar events,\n\t\t\t\tthisObject = this,\n\t\t\t\t$this = $( thisObject ),\n\t\t\t\tcontext = {};\n\n\t\t\t// Retrieve the events data for this element and add the swipe context\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( !events ) {\n\t\t\t\tevents = { length: 0 };\n\t\t\t\t$.data( this, \"mobile-events\", events );\n\t\t\t}\n\t\t\tevents.length++;\n\t\t\tevents.swipe = context;\n\n\t\t\tcontext.start = function( event ) {\n\n\t\t\t\t// Bail if we're already working on a swipe event\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\n\n\t\t\t\tvar stop,\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\n\t\t\t\t\torigTarget = event.target,\n\t\t\t\t\temitted = false;\n\n\t\t\t\tcontext.move = function( event ) {\n\t\t\t\t\tif ( !start || event.isDefaultPrevented() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\n\t\t\t\t\tif ( !emitted ) {\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\n\t\t\t\t\t\tif ( emitted ) {\n\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// prevent scrolling\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tcontext.stop = function() {\n\t\t\t\t\t\temitted = true;\n\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t\t\tcontext.move = null;\n\t\t\t\t};\n\n\t\t\t\t$document.on( touchMoveEvent, context.move )\n\t\t\t\t\t.one( touchStopEvent, context.stop );\n\t\t\t};\n\t\t\t$this.on( touchStartEvent, context.start );\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar events, context;\n\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( events ) {\n\t\t\t\tcontext = events.swipe;\n\t\t\t\tdelete events.swipe;\n\t\t\t\tevents.length--;\n\t\t\t\tif ( events.length === 0 ) {\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( context ) {\n\t\t\t\tif ( context.start ) {\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\n\t\t\t\t}\n\t\t\t\tif ( context.move ) {\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t}\n\t\t\t\tif ( context.stop ) {\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.each({\n\t\tswipeleft: \"swipe.left\",\n\t\tswiperight: \"swipe.right\"\n\t}, function( event, sourceEvent ) {\n\n\t\t$.event.special[ event ] = {\n\t\t\tsetup: function() {\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\t$( this ).unbind( sourceEvent );\n\t\t\t}\n\t\t};\n\t});\n})( jQuery, this );\n*/\n'use strict';\n\n!function ($) {\n\n  var MutationObserver = function () {\n    var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n    for (var i = 0; i < prefixes.length; i++) {\n      if (prefixes[i] + 'MutationObserver' in window) {\n        return window[prefixes[i] + 'MutationObserver'];\n      }\n    }\n    return false;\n  }();\n\n  var triggers = function (el, type) {\n    el.data(type).split(' ').forEach(function (id) {\n      $('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);\n    });\n  };\n  // Elements with [data-open] will reveal a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-open]', function () {\n    triggers($(this), 'open');\n  });\n\n  // Elements with [data-close] will close a plugin that supports it when clicked.\n  // If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n  $(document).on('click.zf.trigger', '[data-close]', function () {\n    var id = $(this).data('close');\n    if (id) {\n      triggers($(this), 'close');\n    } else {\n      $(this).trigger('close.zf.trigger');\n    }\n  });\n\n  // Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-toggle]', function () {\n    triggers($(this), 'toggle');\n  });\n\n  // Elements with [data-closable] will respond to close.zf.trigger events.\n  $(document).on('close.zf.trigger', '[data-closable]', function (e) {\n    e.stopPropagation();\n    var animation = $(this).data('closable');\n\n    if (animation !== '') {\n      Foundation.Motion.animateOut($(this), animation, function () {\n        $(this).trigger('closed.zf');\n      });\n    } else {\n      $(this).fadeOut().trigger('closed.zf');\n    }\n  });\n\n  $(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function () {\n    var id = $(this).data('toggle-focus');\n    $('#' + id).triggerHandler('toggle.zf.trigger', [$(this)]);\n  });\n\n  /**\n  * Fires once after all other scripts have loaded\n  * @function\n  * @private\n  */\n  $(window).load(function () {\n    checkListeners();\n  });\n\n  function checkListeners() {\n    eventsListener();\n    resizeListener();\n    scrollListener();\n    closemeListener();\n  }\n\n  //******** only fires this function once on load, if there's something to watch ********\n  function closemeListener(pluginName) {\n    var yetiBoxes = $('[data-yeti-box]'),\n        plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n    if (pluginName) {\n      if (typeof pluginName === 'string') {\n        plugNames.push(pluginName);\n      } else if (typeof pluginName === 'object' && typeof pluginName[0] === 'string') {\n        plugNames.concat(pluginName);\n      } else {\n        console.error('Plugin names must be strings');\n      }\n    }\n    if (yetiBoxes.length) {\n      var listeners = plugNames.map(function (name) {\n        return 'closeme.zf.' + name;\n      }).join(' ');\n\n      $(window).off(listeners).on(listeners, function (e, pluginId) {\n        var plugin = e.namespace.split('.')[0];\n        var plugins = $('[data-' + plugin + ']').not('[data-yeti-box=\"' + pluginId + '\"]');\n\n        plugins.each(function () {\n          var _this = $(this);\n\n          _this.triggerHandler('close.zf.trigger', [_this]);\n        });\n      });\n    }\n  }\n\n  function resizeListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-resize]');\n    if ($nodes.length) {\n      $(window).off('resize.zf.trigger').on('resize.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('resizeme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a resize event\n          $nodes.attr('data-events', \"resize\");\n        }, debounce || 10); //default time to emit resize event\n      });\n    }\n  }\n\n  function scrollListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-scroll]');\n    if ($nodes.length) {\n      $(window).off('scroll.zf.trigger').on('scroll.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('scrollme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a scroll event\n          $nodes.attr('data-events', \"scroll\");\n        }, debounce || 10); //default time to emit scroll event\n      });\n    }\n  }\n\n  function eventsListener() {\n    if (!MutationObserver) {\n      return false;\n    }\n    var nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\n\n    //element callback\n    var listeningElementsMutation = function (mutationRecordsList) {\n      var $target = $(mutationRecordsList[0].target);\n      //trigger the event handler for the element depending on type\n      switch ($target.attr(\"data-events\")) {\n\n        case \"resize\":\n          $target.triggerHandler('resizeme.zf.trigger', [$target]);\n          break;\n\n        case \"scroll\":\n          $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n          break;\n\n        // case \"mutate\" :\n        // console.log('mutate', $target);\n        // $target.triggerHandler('mutate.zf.trigger');\n        //\n        // //make sure we don't get stuck in an infinite loop from sloppy codeing\n        // if ($target.index('[data-mutate]') == $(\"[data-mutate]\").length-1) {\n        //   domMutationObserver();\n        // }\n        // break;\n\n        default:\n          return false;\n        //nothing\n      }\n    };\n\n    if (nodes.length) {\n      //for each element that needs to listen for resizing, scrolling, (or coming soon mutation) add a single observer\n      for (var i = 0; i <= nodes.length - 1; i++) {\n        var elementObserver = new MutationObserver(listeningElementsMutation);\n        elementObserver.observe(nodes[i], { attributes: true, childList: false, characterData: false, subtree: false, attributeFilter: [\"data-events\"] });\n      }\n    }\n  }\n\n  // ------------------------------------\n\n  // [PH]\n  // Foundation.CheckWatchers = checkWatchers;\n  Foundation.IHearYou = checkListeners;\n  // Foundation.ISeeYou = scrollListener;\n  // Foundation.IFeelYou = closemeListener;\n}(jQuery);\n\n// function domMutationObserver(debounce) {\n//   // !!! This is coming soon and needs more work; not active  !!! //\n//   var timer,\n//   nodes = document.querySelectorAll('[data-mutate]');\n//   //\n//   if (nodes.length) {\n//     // var MutationObserver = (function () {\n//     //   var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n//     //   for (var i=0; i < prefixes.length; i++) {\n//     //     if (prefixes[i] + 'MutationObserver' in window) {\n//     //       return window[prefixes[i] + 'MutationObserver'];\n//     //     }\n//     //   }\n//     //   return false;\n//     // }());\n//\n//\n//     //for the body, we need to listen for all changes effecting the style and class attributes\n//     var bodyObserver = new MutationObserver(bodyMutation);\n//     bodyObserver.observe(document.body, { attributes: true, childList: true, characterData: false, subtree:true, attributeFilter:[\"style\", \"class\"]});\n//\n//\n//     //body callback\n//     function bodyMutation(mutate) {\n//       //trigger all listening elements and signal a mutation event\n//       if (timer) { clearTimeout(timer); }\n//\n//       timer = setTimeout(function() {\n//         bodyObserver.disconnect();\n//         $('[data-mutate]').attr('data-events',\"mutate\");\n//       }, debounce || 150);\n//     }\n//   }\n// }\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Abide module.\n   * @module foundation.abide\n   */\n\n  var Abide = function () {\n    /**\n     * Creates a new instance of Abide.\n     * @class\n     * @fires Abide#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Abide(element) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      _classCallCheck(this, Abide);\n\n      this.$element = element;\n      this.options = $.extend({}, Abide.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Abide');\n    }\n\n    /**\n     * Initializes the Abide plugin and calls functions to get Abide functioning on load.\n     * @private\n     */\n\n\n    _createClass(Abide, [{\n      key: '_init',\n      value: function _init() {\n        this.$inputs = this.$element.find('input, textarea, select');\n\n        this._events();\n      }\n\n      /**\n       * Initializes events for Abide.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this2 = this;\n\n        this.$element.off('.abide').on('reset.zf.abide', function () {\n          _this2.resetForm();\n        }).on('submit.zf.abide', function () {\n          return _this2.validateForm();\n        });\n\n        if (this.options.validateOn === 'fieldChange') {\n          this.$inputs.off('change.zf.abide').on('change.zf.abide', function (e) {\n            _this2.validateInput($(e.target));\n          });\n        }\n\n        if (this.options.liveValidate) {\n          this.$inputs.off('input.zf.abide').on('input.zf.abide', function (e) {\n            _this2.validateInput($(e.target));\n          });\n        }\n      }\n\n      /**\n       * Calls necessary functions to update Abide upon DOM change\n       * @private\n       */\n\n    }, {\n      key: '_reflow',\n      value: function _reflow() {\n        this._init();\n      }\n\n      /**\n       * Checks whether or not a form element has the required attribute and if it's checked or not\n       * @param {Object} element - jQuery object to check for required attribute\n       * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty\n       */\n\n    }, {\n      key: 'requiredCheck',\n      value: function requiredCheck($el) {\n        if (!$el.attr('required')) return true;\n\n        var isGood = true;\n\n        switch ($el[0].type) {\n          case 'checkbox':\n            isGood = $el[0].checked;\n            break;\n\n          case 'select':\n          case 'select-one':\n          case 'select-multiple':\n            var opt = $el.find('option:selected');\n            if (!opt.length || !opt.val()) isGood = false;\n            break;\n\n          default:\n            if (!$el.val() || !$el.val().length) isGood = false;\n        }\n\n        return isGood;\n      }\n\n      /**\n       * Based on $el, get the first element with selector in this order:\n       * 1. The element's direct sibling('s).\n       * 3. The element's parent's children.\n       *\n       * This allows for multiple form errors per input, though if none are found, no form errors will be shown.\n       *\n       * @param {Object} $el - jQuery object to use as reference to find the form error selector.\n       * @returns {Object} jQuery object with the selector.\n       */\n\n    }, {\n      key: 'findFormError',\n      value: function findFormError($el) {\n        var $error = $el.siblings(this.options.formErrorSelector);\n\n        if (!$error.length) {\n          $error = $el.parent().find(this.options.formErrorSelector);\n        }\n\n        return $error;\n      }\n\n      /**\n       * Get the first element in this order:\n       * 2. The <label> with the attribute `[for=\"someInputId\"]`\n       * 3. The `.closest()` <label>\n       *\n       * @param {Object} $el - jQuery object to check for required attribute\n       * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty\n       */\n\n    }, {\n      key: 'findLabel',\n      value: function findLabel($el) {\n        var id = $el[0].id;\n        var $label = this.$element.find('label[for=\"' + id + '\"]');\n\n        if (!$label.length) {\n          return $el.closest('label');\n        }\n\n        return $label;\n      }\n\n      /**\n       * Get the set of labels associated with a set of radio els in this order\n       * 2. The <label> with the attribute `[for=\"someInputId\"]`\n       * 3. The `.closest()` <label>\n       *\n       * @param {Object} $el - jQuery object to check for required attribute\n       * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty\n       */\n\n    }, {\n      key: 'findRadioLabels',\n      value: function findRadioLabels($els) {\n        var _this3 = this;\n\n        var labels = $els.map(function (i, el) {\n          var id = el.id;\n          var $label = _this3.$element.find('label[for=\"' + id + '\"]');\n\n          if (!$label.length) {\n            $label = $(el).closest('label');\n          }\n          return $label[0];\n        });\n\n        return $(labels);\n      }\n\n      /**\n       * Adds the CSS error class as specified by the Abide settings to the label, input, and the form\n       * @param {Object} $el - jQuery object to add the class to\n       */\n\n    }, {\n      key: 'addErrorClasses',\n      value: function addErrorClasses($el) {\n        var $label = this.findLabel($el);\n        var $formError = this.findFormError($el);\n\n        if ($label.length) {\n          $label.addClass(this.options.labelErrorClass);\n        }\n\n        if ($formError.length) {\n          $formError.addClass(this.options.formErrorClass);\n        }\n\n        $el.addClass(this.options.inputErrorClass).attr('data-invalid', '');\n      }\n\n      /**\n       * Remove CSS error classes etc from an entire radio button group\n       * @param {String} groupName - A string that specifies the name of a radio button group\n       *\n       */\n\n    }, {\n      key: 'removeRadioErrorClasses',\n      value: function removeRadioErrorClasses(groupName) {\n        var $els = this.$element.find(':radio[name=\"' + groupName + '\"]');\n        var $labels = this.findRadioLabels($els);\n        var $formErrors = this.findFormError($els);\n\n        if ($labels.length) {\n          $labels.removeClass(this.options.labelErrorClass);\n        }\n\n        if ($formErrors.length) {\n          $formErrors.removeClass(this.options.formErrorClass);\n        }\n\n        $els.removeClass(this.options.inputErrorClass).removeAttr('data-invalid');\n      }\n\n      /**\n       * Removes CSS error class as specified by the Abide settings from the label, input, and the form\n       * @param {Object} $el - jQuery object to remove the class from\n       */\n\n    }, {\n      key: 'removeErrorClasses',\n      value: function removeErrorClasses($el) {\n        // radios need to clear all of the els\n        if ($el[0].type == 'radio') {\n          return this.removeRadioErrorClasses($el.attr('name'));\n        }\n\n        var $label = this.findLabel($el);\n        var $formError = this.findFormError($el);\n\n        if ($label.length) {\n          $label.removeClass(this.options.labelErrorClass);\n        }\n\n        if ($formError.length) {\n          $formError.removeClass(this.options.formErrorClass);\n        }\n\n        $el.removeClass(this.options.inputErrorClass).removeAttr('data-invalid');\n      }\n\n      /**\n       * Goes through a form to find inputs and proceeds to validate them in ways specific to their type\n       * @fires Abide#invalid\n       * @fires Abide#valid\n       * @param {Object} element - jQuery object to validate, should be an HTML input\n       * @returns {Boolean} goodToGo - If the input is valid or not.\n       */\n\n    }, {\n      key: 'validateInput',\n      value: function validateInput($el) {\n        var clearRequire = this.requiredCheck($el),\n            validated = false,\n            customValidator = true,\n            validator = $el.attr('data-validator'),\n            equalTo = true;\n\n        // don't validate ignored inputs or hidden inputs\n        if ($el.is('[data-abide-ignore]') || $el.is('[type=\"hidden\"]')) {\n          return true;\n        }\n\n        switch ($el[0].type) {\n          case 'radio':\n            validated = this.validateRadio($el.attr('name'));\n            break;\n\n          case 'checkbox':\n            validated = clearRequire;\n            break;\n\n          case 'select':\n          case 'select-one':\n          case 'select-multiple':\n            validated = clearRequire;\n            break;\n\n          default:\n            validated = this.validateText($el);\n        }\n\n        if (validator) {\n          customValidator = this.matchValidation($el, validator, $el.attr('required'));\n        }\n\n        if ($el.attr('data-equalto')) {\n          equalTo = this.options.validators.equalTo($el);\n        }\n\n        var goodToGo = [clearRequire, validated, customValidator, equalTo].indexOf(false) === -1;\n        var message = (goodToGo ? 'valid' : 'invalid') + '.zf.abide';\n\n        this[goodToGo ? 'removeErrorClasses' : 'addErrorClasses']($el);\n\n        /**\n         * Fires when the input is done checking for validation. Event trigger is either `valid.zf.abide` or `invalid.zf.abide`\n         * Trigger includes the DOM element of the input.\n         * @event Abide#valid\n         * @event Abide#invalid\n         */\n        $el.trigger(message, [$el]);\n\n        return goodToGo;\n      }\n\n      /**\n       * Goes through a form and if there are any invalid inputs, it will display the form error element\n       * @returns {Boolean} noError - true if no errors were detected...\n       * @fires Abide#formvalid\n       * @fires Abide#forminvalid\n       */\n\n    }, {\n      key: 'validateForm',\n      value: function validateForm() {\n        var acc = [];\n        var _this = this;\n\n        this.$inputs.each(function () {\n          acc.push(_this.validateInput($(this)));\n        });\n\n        var noError = acc.indexOf(false) === -1;\n\n        this.$element.find('[data-abide-error]').css('display', noError ? 'none' : 'block');\n\n        /**\n         * Fires when the form is finished validating. Event trigger is either `formvalid.zf.abide` or `forminvalid.zf.abide`.\n         * Trigger includes the element of the form.\n         * @event Abide#formvalid\n         * @event Abide#forminvalid\n         */\n        this.$element.trigger((noError ? 'formvalid' : 'forminvalid') + '.zf.abide', [this.$element]);\n\n        return noError;\n      }\n\n      /**\n       * Determines whether or a not a text input is valid based on the pattern specified in the attribute. If no matching pattern is found, returns true.\n       * @param {Object} $el - jQuery object to validate, should be a text input HTML element\n       * @param {String} pattern - string value of one of the RegEx patterns in Abide.options.patterns\n       * @returns {Boolean} Boolean value depends on whether or not the input value matches the pattern specified\n       */\n\n    }, {\n      key: 'validateText',\n      value: function validateText($el, pattern) {\n        // A pattern can be passed to this function, or it will be infered from the input's \"pattern\" attribute, or it's \"type\" attribute\n        pattern = pattern || $el.attr('pattern') || $el.attr('type');\n        var inputText = $el.val();\n        var valid = false;\n\n        if (inputText.length) {\n          // If the pattern attribute on the element is in Abide's list of patterns, then test that regexp\n          if (this.options.patterns.hasOwnProperty(pattern)) {\n            valid = this.options.patterns[pattern].test(inputText);\n          }\n          // If the pattern name isn't also the type attribute of the field, then test it as a regexp\n          else if (pattern !== $el.attr('type')) {\n              valid = new RegExp(pattern).test(inputText);\n            } else {\n              valid = true;\n            }\n        }\n        // An empty field is valid if it's not required\n        else if (!$el.prop('required')) {\n            valid = true;\n          }\n\n        return valid;\n      }\n\n      /**\n       * Determines whether or a not a radio input is valid based on whether or not it is required and selected. Although the function targets a single `<input>`, it validates by checking the `required` and `checked` properties of all radio buttons in its group.\n       * @param {String} groupName - A string that specifies the name of a radio button group\n       * @returns {Boolean} Boolean value depends on whether or not at least one radio input has been selected (if it's required)\n       */\n\n    }, {\n      key: 'validateRadio',\n      value: function validateRadio(groupName) {\n        // If at least one radio in the group has the `required` attribute, the group is considered required\n        // Per W3C spec, all radio buttons in a group should have `required`, but we're being nice\n        var $group = this.$element.find(':radio[name=\"' + groupName + '\"]');\n        var valid = false,\n            required = false;\n\n        // For the group to be required, at least one radio needs to be required\n        $group.each(function (i, e) {\n          if ($(e).attr('required')) {\n            required = true;\n          }\n        });\n        if (!required) valid = true;\n\n        if (!valid) {\n          // For the group to be valid, at least one radio needs to be checked\n          $group.each(function (i, e) {\n            if ($(e).prop('checked')) {\n              valid = true;\n            }\n          });\n        };\n\n        return valid;\n      }\n\n      /**\n       * Determines if a selected input passes a custom validation function. Multiple validations can be used, if passed to the element with `data-validator=\"foo bar baz\"` in a space separated listed.\n       * @param {Object} $el - jQuery input element.\n       * @param {String} validators - a string of function names matching functions in the Abide.options.validators object.\n       * @param {Boolean} required - self explanatory?\n       * @returns {Boolean} - true if validations passed.\n       */\n\n    }, {\n      key: 'matchValidation',\n      value: function matchValidation($el, validators, required) {\n        var _this4 = this;\n\n        required = required ? true : false;\n\n        var clear = validators.split(' ').map(function (v) {\n          return _this4.options.validators[v]($el, required, $el.parent());\n        });\n        return clear.indexOf(false) === -1;\n      }\n\n      /**\n       * Resets form inputs and styles\n       * @fires Abide#formreset\n       */\n\n    }, {\n      key: 'resetForm',\n      value: function resetForm() {\n        var $form = this.$element,\n            opts = this.options;\n\n        $('.' + opts.labelErrorClass, $form).not('small').removeClass(opts.labelErrorClass);\n        $('.' + opts.inputErrorClass, $form).not('small').removeClass(opts.inputErrorClass);\n        $(opts.formErrorSelector + '.' + opts.formErrorClass).removeClass(opts.formErrorClass);\n        $form.find('[data-abide-error]').css('display', 'none');\n        $(':input', $form).not(':button, :submit, :reset, :hidden, :radio, :checkbox, [data-abide-ignore]').val('').removeAttr('data-invalid');\n        $(':input:radio', $form).not('[data-abide-ignore]').prop('checked', false).removeAttr('data-invalid');\n        $(':input:checkbox', $form).not('[data-abide-ignore]').prop('checked', false).removeAttr('data-invalid');\n        /**\n         * Fires when the form has been reset.\n         * @event Abide#formreset\n         */\n        $form.trigger('formreset.zf.abide', [$form]);\n      }\n\n      /**\n       * Destroys an instance of Abide.\n       * Removes error styles and classes from elements, without resetting their values.\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        var _this = this;\n        this.$element.off('.abide').find('[data-abide-error]').css('display', 'none');\n\n        this.$inputs.off('.abide').each(function () {\n          _this.removeErrorClasses($(this));\n        });\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Abide;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n\n  Abide.defaults = {\n    /**\n     * The default event to validate inputs. Checkboxes and radios validate immediately.\n     * Remove or change this value for manual validation.\n     * @option\n     * @example 'fieldChange'\n     */\n    validateOn: 'fieldChange',\n\n    /**\n     * Class to be applied to input labels on failed validation.\n     * @option\n     * @example 'is-invalid-label'\n     */\n    labelErrorClass: 'is-invalid-label',\n\n    /**\n     * Class to be applied to inputs on failed validation.\n     * @option\n     * @example 'is-invalid-input'\n     */\n    inputErrorClass: 'is-invalid-input',\n\n    /**\n     * Class selector to use to target Form Errors for show/hide.\n     * @option\n     * @example '.form-error'\n     */\n    formErrorSelector: '.form-error',\n\n    /**\n     * Class added to Form Errors on failed validation.\n     * @option\n     * @example 'is-visible'\n     */\n    formErrorClass: 'is-visible',\n\n    /**\n     * Set to true to validate text inputs on any value change.\n     * @option\n     * @example false\n     */\n    liveValidate: false,\n\n    patterns: {\n      alpha: /^[a-zA-Z]+$/,\n      alpha_numeric: /^[a-zA-Z0-9]+$/,\n      integer: /^[-+]?\\d+$/,\n      number: /^[-+]?\\d*(?:[\\.\\,]\\d+)?$/,\n\n      // amex, visa, diners\n      card: /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/,\n      cvv: /^([0-9]){3,4}$/,\n\n      // http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#valid-e-mail-address\n      email: /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,\n\n      url: /^(https?|ftp|file|ssh):\\/\\/(((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-zA-Z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-zA-Z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-zA-Z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-zA-Z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-zA-Z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-zA-Z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/,\n      // abc.de\n      domain: /^([a-zA-Z0-9]([a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,8}$/,\n\n      datetime: /^([0-2][0-9]{3})\\-([0-1][0-9])\\-([0-3][0-9])T([0-5][0-9])\\:([0-5][0-9])\\:([0-5][0-9])(Z|([\\-\\+]([0-1][0-9])\\:00))$/,\n      // YYYY-MM-DD\n      date: /(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,\n      // HH:MM:SS\n      time: /^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,\n      dateISO: /^\\d{4}[\\/\\-]\\d{1,2}[\\/\\-]\\d{1,2}$/,\n      // MM/DD/YYYY\n      month_day_year: /^(0[1-9]|1[012])[- \\/.](0[1-9]|[12][0-9]|3[01])[- \\/.]\\d{4}$/,\n      // DD/MM/YYYY\n      day_month_year: /^(0[1-9]|[12][0-9]|3[01])[- \\/.](0[1-9]|1[012])[- \\/.]\\d{4}$/,\n\n      // #FFF or #FFFFFF\n      color: /^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/\n    },\n\n    /**\n     * Optional validation functions to be used. `equalTo` being the only default included function.\n     * Functions should return only a boolean if the input is valid or not. Functions are given the following arguments:\n     * el : The jQuery element to validate.\n     * required : Boolean value of the required attribute be present or not.\n     * parent : The direct parent of the input.\n     * @option\n     */\n    validators: {\n      equalTo: function (el, required, parent) {\n        return $('#' + el.attr('data-equalto')).val() === el.val();\n      }\n    }\n  };\n\n  // Window exports\n  Foundation.plugin(Abide, 'Abide');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Accordion module.\n   * @module foundation.accordion\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   */\n\n  var Accordion = function () {\n    /**\n     * Creates a new instance of an accordion.\n     * @class\n     * @fires Accordion#init\n     * @param {jQuery} element - jQuery object to make into an accordion.\n     * @param {Object} options - a plain object with settings to override the default options.\n     */\n\n    function Accordion(element, options) {\n      _classCallCheck(this, Accordion);\n\n      this.$element = element;\n      this.options = $.extend({}, Accordion.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Accordion');\n      Foundation.Keyboard.register('Accordion', {\n        'ENTER': 'toggle',\n        'SPACE': 'toggle',\n        'ARROW_DOWN': 'next',\n        'ARROW_UP': 'previous'\n      });\n    }\n\n    /**\n     * Initializes the accordion by animating the preset active pane(s).\n     * @private\n     */\n\n\n    _createClass(Accordion, [{\n      key: '_init',\n      value: function _init() {\n        this.$element.attr('role', 'tablist');\n        this.$tabs = this.$element.children('li, [data-accordion-item]');\n\n        this.$tabs.each(function (idx, el) {\n          var $el = $(el),\n              $content = $el.children('[data-tab-content]'),\n              id = $content[0].id || Foundation.GetYoDigits(6, 'accordion'),\n              linkId = el.id || id + '-label';\n\n          $el.find('a:first').attr({\n            'aria-controls': id,\n            'role': 'tab',\n            'id': linkId,\n            'aria-expanded': false,\n            'aria-selected': false\n          });\n\n          $content.attr({ 'role': 'tabpanel', 'aria-labelledby': linkId, 'aria-hidden': true, 'id': id });\n        });\n        var $initActive = this.$element.find('.is-active').children('[data-tab-content]');\n        if ($initActive.length) {\n          this.down($initActive, true);\n        }\n        this._events();\n      }\n\n      /**\n       * Adds event handlers for items within the accordion.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this;\n\n        this.$tabs.each(function () {\n          var $elem = $(this);\n          var $tabContent = $elem.children('[data-tab-content]');\n          if ($tabContent.length) {\n            $elem.children('a').off('click.zf.accordion keydown.zf.accordion').on('click.zf.accordion', function (e) {\n              // $(this).children('a').on('click.zf.accordion', function(e) {\n              e.preventDefault();\n              if ($elem.hasClass('is-active')) {\n                if (_this.options.allowAllClosed || $elem.siblings().hasClass('is-active')) {\n                  _this.up($tabContent);\n                }\n              } else {\n                _this.down($tabContent);\n              }\n            }).on('keydown.zf.accordion', function (e) {\n              Foundation.Keyboard.handleKey(e, 'Accordion', {\n                toggle: function () {\n                  _this.toggle($tabContent);\n                },\n                next: function () {\n                  var $a = $elem.next().find('a').focus();\n                  if (!_this.options.multiExpand) {\n                    $a.trigger('click.zf.accordion');\n                  }\n                },\n                previous: function () {\n                  var $a = $elem.prev().find('a').focus();\n                  if (!_this.options.multiExpand) {\n                    $a.trigger('click.zf.accordion');\n                  }\n                },\n                handled: function () {\n                  e.preventDefault();\n                  e.stopPropagation();\n                }\n              });\n            });\n          }\n        });\n      }\n\n      /**\n       * Toggles the selected content pane's open/close state.\n       * @param {jQuery} $target - jQuery object of the pane to toggle.\n       * @function\n       */\n\n    }, {\n      key: 'toggle',\n      value: function toggle($target) {\n        if ($target.parent().hasClass('is-active')) {\n          if (this.options.allowAllClosed || $target.parent().siblings().hasClass('is-active')) {\n            this.up($target);\n          } else {\n            return;\n          }\n        } else {\n          this.down($target);\n        }\n      }\n\n      /**\n       * Opens the accordion tab defined by `$target`.\n       * @param {jQuery} $target - Accordion pane to open.\n       * @param {Boolean} firstTime - flag to determine if reflow should happen.\n       * @fires Accordion#down\n       * @function\n       */\n\n    }, {\n      key: 'down',\n      value: function down($target, firstTime) {\n        var _this2 = this;\n\n        if (!this.options.multiExpand && !firstTime) {\n          var $currentActive = this.$element.children('.is-active').children('[data-tab-content]');\n          if ($currentActive.length) {\n            this.up($currentActive);\n          }\n        }\n\n        $target.attr('aria-hidden', false).parent('[data-tab-content]').addBack().parent().addClass('is-active');\n\n        $target.slideDown(this.options.slideSpeed, function () {\n          /**\n           * Fires when the tab is done opening.\n           * @event Accordion#down\n           */\n          _this2.$element.trigger('down.zf.accordion', [$target]);\n        });\n\n        $('#' + $target.attr('aria-labelledby')).attr({\n          'aria-expanded': true,\n          'aria-selected': true\n        });\n      }\n\n      /**\n       * Closes the tab defined by `$target`.\n       * @param {jQuery} $target - Accordion tab to close.\n       * @fires Accordion#up\n       * @function\n       */\n\n    }, {\n      key: 'up',\n      value: function up($target) {\n        var $aunts = $target.parent().siblings(),\n            _this = this;\n        var canClose = this.options.multiExpand ? $aunts.hasClass('is-active') : $target.parent().hasClass('is-active');\n\n        if (!this.options.allowAllClosed && !canClose) {\n          return;\n        }\n\n        // Foundation.Move(this.options.slideSpeed, $target, function(){\n        $target.slideUp(_this.options.slideSpeed, function () {\n          /**\n           * Fires when the tab is done collapsing up.\n           * @event Accordion#up\n           */\n          _this.$element.trigger('up.zf.accordion', [$target]);\n        });\n        // });\n\n        $target.attr('aria-hidden', true).parent().removeClass('is-active');\n\n        $('#' + $target.attr('aria-labelledby')).attr({\n          'aria-expanded': false,\n          'aria-selected': false\n        });\n      }\n\n      /**\n       * Destroys an instance of an accordion.\n       * @fires Accordion#destroyed\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.find('[data-tab-content]').stop(true).slideUp(0).css('display', '');\n        this.$element.find('a').off('.zf.accordion');\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Accordion;\n  }();\n\n  Accordion.defaults = {\n    /**\n     * Amount of time to animate the opening of an accordion pane.\n     * @option\n     * @example 250\n     */\n    slideSpeed: 250,\n    /**\n     * Allow the accordion to have multiple open panes.\n     * @option\n     * @example false\n     */\n    multiExpand: false,\n    /**\n     * Allow the accordion to close all panes.\n     * @option\n     * @example false\n     */\n    allowAllClosed: false\n  };\n\n  // Window exports\n  Foundation.plugin(Accordion, 'Accordion');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * AccordionMenu module.\n   * @module foundation.accordionMenu\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   * @requires foundation.util.nest\n   */\n\n  var AccordionMenu = function () {\n    /**\n     * Creates a new instance of an accordion menu.\n     * @class\n     * @fires AccordionMenu#init\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function AccordionMenu(element, options) {\n      _classCallCheck(this, AccordionMenu);\n\n      this.$element = element;\n      this.options = $.extend({}, AccordionMenu.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'accordion');\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'AccordionMenu');\n      Foundation.Keyboard.register('AccordionMenu', {\n        'ENTER': 'toggle',\n        'SPACE': 'toggle',\n        'ARROW_RIGHT': 'open',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'close',\n        'ESCAPE': 'closeAll',\n        'TAB': 'down',\n        'SHIFT_TAB': 'up'\n      });\n    }\n\n    /**\n     * Initializes the accordion menu by hiding all nested menus.\n     * @private\n     */\n\n\n    _createClass(AccordionMenu, [{\n      key: '_init',\n      value: function _init() {\n        this.$element.find('[data-submenu]').not('.is-active').slideUp(0); //.find('a').css('padding-left', '1rem');\n        this.$element.attr({\n          'role': 'tablist',\n          'aria-multiselectable': this.options.multiOpen\n        });\n\n        this.$menuLinks = this.$element.find('.is-accordion-submenu-parent');\n        this.$menuLinks.each(function () {\n          var linkId = this.id || Foundation.GetYoDigits(6, 'acc-menu-link'),\n              $elem = $(this),\n              $sub = $elem.children('[data-submenu]'),\n              subId = $sub[0].id || Foundation.GetYoDigits(6, 'acc-menu'),\n              isActive = $sub.hasClass('is-active');\n          $elem.attr({\n            'aria-controls': subId,\n            'aria-expanded': isActive,\n            'role': 'tab',\n            'id': linkId\n          });\n          $sub.attr({\n            'aria-labelledby': linkId,\n            'aria-hidden': !isActive,\n            'role': 'tabpanel',\n            'id': subId\n          });\n        });\n        var initPanes = this.$element.find('.is-active');\n        if (initPanes.length) {\n          var _this = this;\n          initPanes.each(function () {\n            _this.down($(this));\n          });\n        }\n        this._events();\n      }\n\n      /**\n       * Adds event handlers for items within the menu.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this;\n\n        this.$element.find('li').each(function () {\n          var $submenu = $(this).children('[data-submenu]');\n\n          if ($submenu.length) {\n            $(this).children('a').off('click.zf.accordionMenu').on('click.zf.accordionMenu', function (e) {\n              e.preventDefault();\n\n              _this.toggle($submenu);\n            });\n          }\n        }).on('keydown.zf.accordionmenu', function (e) {\n          var $element = $(this),\n              $elements = $element.parent('ul').children('li'),\n              $prevElement,\n              $nextElement,\n              $target = $element.children('[data-submenu]');\n\n          $elements.each(function (i) {\n            if ($(this).is($element)) {\n              $prevElement = $elements.eq(Math.max(0, i - 1)).find('a').first();\n              $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1)).find('a').first();\n\n              if ($(this).children('[data-submenu]:visible').length) {\n                // has open sub menu\n                $nextElement = $element.find('li:first-child').find('a').first();\n              }\n              if ($(this).is(':first-child')) {\n                // is first element of sub menu\n                $prevElement = $element.parents('li').first().find('a').first();\n              } else if ($prevElement.children('[data-submenu]:visible').length) {\n                // if previous element has open sub menu\n                $prevElement = $prevElement.find('li:last-child').find('a').first();\n              }\n              if ($(this).is(':last-child')) {\n                // is last element of sub menu\n                $nextElement = $element.parents('li').first().next('li').find('a').first();\n              }\n\n              return;\n            }\n          });\n          Foundation.Keyboard.handleKey(e, 'AccordionMenu', {\n            open: function () {\n              if ($target.is(':hidden')) {\n                _this.down($target);\n                $target.find('li').first().find('a').first().focus();\n              }\n            },\n            close: function () {\n              if ($target.length && !$target.is(':hidden')) {\n                // close active sub of this item\n                _this.up($target);\n              } else if ($element.parent('[data-submenu]').length) {\n                // close currently open sub\n                _this.up($element.parent('[data-submenu]'));\n                $element.parents('li').first().find('a').first().focus();\n              }\n            },\n            up: function () {\n              $prevElement.attr('tabindex', -1).focus();\n              return true;\n            },\n            down: function () {\n              $nextElement.attr('tabindex', -1).focus();\n              return true;\n            },\n            toggle: function () {\n              if ($element.children('[data-submenu]').length) {\n                _this.toggle($element.children('[data-submenu]'));\n              }\n            },\n            closeAll: function () {\n              _this.hideAll();\n            },\n            handled: function (preventDefault) {\n              if (preventDefault) {\n                e.preventDefault();\n              }\n              e.stopImmediatePropagation();\n            }\n          });\n        }); //.attr('tabindex', 0);\n      }\n\n      /**\n       * Closes all panes of the menu.\n       * @function\n       */\n\n    }, {\n      key: 'hideAll',\n      value: function hideAll() {\n        this.$element.find('[data-submenu]').slideUp(this.options.slideSpeed);\n      }\n\n      /**\n       * Toggles the open/close state of a submenu.\n       * @function\n       * @param {jQuery} $target - the submenu to toggle\n       */\n\n    }, {\n      key: 'toggle',\n      value: function toggle($target) {\n        if (!$target.is(':animated')) {\n          if (!$target.is(':hidden')) {\n            this.up($target);\n          } else {\n            this.down($target);\n          }\n        }\n      }\n\n      /**\n       * Opens the sub-menu defined by `$target`.\n       * @param {jQuery} $target - Sub-menu to open.\n       * @fires AccordionMenu#down\n       */\n\n    }, {\n      key: 'down',\n      value: function down($target) {\n        var _this = this;\n\n        if (!this.options.multiOpen) {\n          this.up(this.$element.find('.is-active').not($target.parentsUntil(this.$element).add($target)));\n        }\n\n        $target.addClass('is-active').attr({ 'aria-hidden': false }).parent('.is-accordion-submenu-parent').attr({ 'aria-expanded': true });\n\n        //Foundation.Move(this.options.slideSpeed, $target, function() {\n        $target.slideDown(_this.options.slideSpeed, function () {\n          /**\n           * Fires when the menu is done opening.\n           * @event AccordionMenu#down\n           */\n          _this.$element.trigger('down.zf.accordionMenu', [$target]);\n        });\n        //});\n      }\n\n      /**\n       * Closes the sub-menu defined by `$target`. All sub-menus inside the target will be closed as well.\n       * @param {jQuery} $target - Sub-menu to close.\n       * @fires AccordionMenu#up\n       */\n\n    }, {\n      key: 'up',\n      value: function up($target) {\n        var _this = this;\n        //Foundation.Move(this.options.slideSpeed, $target, function(){\n        $target.slideUp(_this.options.slideSpeed, function () {\n          /**\n           * Fires when the menu is done collapsing up.\n           * @event AccordionMenu#up\n           */\n          _this.$element.trigger('up.zf.accordionMenu', [$target]);\n        });\n        //});\n\n        var $menus = $target.find('[data-submenu]').slideUp(0).addBack().attr('aria-hidden', true);\n\n        $menus.parent('.is-accordion-submenu-parent').attr('aria-expanded', false);\n      }\n\n      /**\n       * Destroys an instance of accordion menu.\n       * @fires AccordionMenu#destroyed\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.find('[data-submenu]').slideDown(0).css('display', '');\n        this.$element.find('a').off('click.zf.accordionMenu');\n\n        Foundation.Nest.Burn(this.$element, 'accordion');\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return AccordionMenu;\n  }();\n\n  AccordionMenu.defaults = {\n    /**\n     * Amount of time to animate the opening of a submenu in ms.\n     * @option\n     * @example 250\n     */\n    slideSpeed: 250,\n    /**\n     * Allow the menu to have multiple open panes.\n     * @option\n     * @example true\n     */\n    multiOpen: true\n  };\n\n  // Window exports\n  Foundation.plugin(AccordionMenu, 'AccordionMenu');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Drilldown module.\n   * @module foundation.drilldown\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   * @requires foundation.util.nest\n   */\n\n  var Drilldown = function () {\n    /**\n     * Creates a new instance of a drilldown menu.\n     * @class\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Drilldown(element, options) {\n      _classCallCheck(this, Drilldown);\n\n      this.$element = element;\n      this.options = $.extend({}, Drilldown.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'drilldown');\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Drilldown');\n      Foundation.Keyboard.register('Drilldown', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'previous',\n        'ESCAPE': 'close',\n        'TAB': 'down',\n        'SHIFT_TAB': 'up'\n      });\n    }\n\n    /**\n     * Initializes the drilldown by creating jQuery collections of elements\n     * @private\n     */\n\n\n    _createClass(Drilldown, [{\n      key: '_init',\n      value: function _init() {\n        this.$submenuAnchors = this.$element.find('li.is-drilldown-submenu-parent').children('a');\n        this.$submenus = this.$submenuAnchors.parent('li').children('[data-submenu]');\n        this.$menuItems = this.$element.find('li').not('.js-drilldown-back').attr('role', 'menuitem').find('a');\n\n        this._prepareMenu();\n\n        this._keyboardEvents();\n      }\n\n      /**\n       * prepares drilldown menu by setting attributes to links and elements\n       * sets a min height to prevent content jumping\n       * wraps the element if not already wrapped\n       * @private\n       * @function\n       */\n\n    }, {\n      key: '_prepareMenu',\n      value: function _prepareMenu() {\n        var _this = this;\n        // if(!this.options.holdOpen){\n        //   this._menuLinkEvents();\n        // }\n        this.$submenuAnchors.each(function () {\n          var $link = $(this);\n          var $sub = $link.parent();\n          if (_this.options.parentLink) {\n            $link.clone().prependTo($sub.children('[data-submenu]')).wrap('<li class=\"is-submenu-parent-item is-submenu-item is-drilldown-submenu-item\" role=\"menu-item\"></li>');\n          }\n          $link.data('savedHref', $link.attr('href')).removeAttr('href');\n          $link.children('[data-submenu]').attr({\n            'aria-hidden': true,\n            'tabindex': 0,\n            'role': 'menu'\n          });\n          _this._events($link);\n        });\n        this.$submenus.each(function () {\n          var $menu = $(this),\n              $back = $menu.find('.js-drilldown-back');\n          if (!$back.length) {\n            $menu.prepend(_this.options.backButton);\n          }\n          _this._back($menu);\n        });\n        if (!this.$element.parent().hasClass('is-drilldown')) {\n          this.$wrapper = $(this.options.wrapper).addClass('is-drilldown');\n          this.$wrapper = this.$element.wrap(this.$wrapper).parent().css(this._getMaxDims());\n        }\n      }\n\n      /**\n       * Adds event handlers to elements in the menu.\n       * @function\n       * @private\n       * @param {jQuery} $elem - the current menu item to add handlers to.\n       */\n\n    }, {\n      key: '_events',\n      value: function _events($elem) {\n        var _this = this;\n\n        $elem.off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n          if ($(e.target).parentsUntil('ul', 'li').hasClass('is-drilldown-submenu-parent')) {\n            e.stopImmediatePropagation();\n            e.preventDefault();\n          }\n\n          // if(e.target !== e.currentTarget.firstElementChild){\n          //   return false;\n          // }\n          _this._show($elem.parent('li'));\n\n          if (_this.options.closeOnClick) {\n            var $body = $('body');\n            $body.off('.zf.drilldown').on('click.zf.drilldown', function (e) {\n              if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target)) {\n                return;\n              }\n              e.preventDefault();\n              _this._hideAll();\n              $body.off('.zf.drilldown');\n            });\n          }\n        });\n      }\n\n      /**\n       * Adds keydown event listener to `li`'s in the menu.\n       * @private\n       */\n\n    }, {\n      key: '_keyboardEvents',\n      value: function _keyboardEvents() {\n        var _this = this;\n\n        this.$menuItems.add(this.$element.find('.js-drilldown-back > a')).on('keydown.zf.drilldown', function (e) {\n\n          var $element = $(this),\n              $elements = $element.parent('li').parent('ul').children('li').children('a'),\n              $prevElement,\n              $nextElement;\n\n          $elements.each(function (i) {\n            if ($(this).is($element)) {\n              $prevElement = $elements.eq(Math.max(0, i - 1));\n              $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));\n              return;\n            }\n          });\n\n          Foundation.Keyboard.handleKey(e, 'Drilldown', {\n            next: function () {\n              if ($element.is(_this.$submenuAnchors)) {\n                _this._show($element.parent('li'));\n                $element.parent('li').one(Foundation.transitionend($element), function () {\n                  $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\n                });\n                return true;\n              }\n            },\n            previous: function () {\n              _this._hide($element.parent('li').parent('ul'));\n              $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {\n                setTimeout(function () {\n                  $element.parent('li').parent('ul').parent('li').children('a').first().focus();\n                }, 1);\n              });\n              return true;\n            },\n            up: function () {\n              $prevElement.focus();\n              return true;\n            },\n            down: function () {\n              $nextElement.focus();\n              return true;\n            },\n            close: function () {\n              _this._back();\n              //_this.$menuItems.first().focus(); // focus to first element\n            },\n            open: function () {\n              if (!$element.is(_this.$menuItems)) {\n                // not menu item means back button\n                _this._hide($element.parent('li').parent('ul'));\n                $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {\n                  setTimeout(function () {\n                    $element.parent('li').parent('ul').parent('li').children('a').first().focus();\n                  }, 1);\n                });\n              } else if ($element.is(_this.$submenuAnchors)) {\n                _this._show($element.parent('li'));\n                $element.parent('li').one(Foundation.transitionend($element), function () {\n                  $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\n                });\n              }\n              return true;\n            },\n            handled: function (preventDefault) {\n              if (preventDefault) {\n                e.preventDefault();\n              }\n              e.stopImmediatePropagation();\n            }\n          });\n        }); // end keyboardAccess\n      }\n\n      /**\n       * Closes all open elements, and returns to root menu.\n       * @function\n       * @fires Drilldown#closed\n       */\n\n    }, {\n      key: '_hideAll',\n      value: function _hideAll() {\n        var $elem = this.$element.find('.is-drilldown-submenu.is-active').addClass('is-closing');\n        $elem.one(Foundation.transitionend($elem), function (e) {\n          $elem.removeClass('is-active is-closing');\n        });\n        /**\n         * Fires when the menu is fully closed.\n         * @event Drilldown#closed\n         */\n        this.$element.trigger('closed.zf.drilldown');\n      }\n\n      /**\n       * Adds event listener for each `back` button, and closes open menus.\n       * @function\n       * @fires Drilldown#back\n       * @param {jQuery} $elem - the current sub-menu to add `back` event.\n       */\n\n    }, {\n      key: '_back',\n      value: function _back($elem) {\n        var _this = this;\n        $elem.off('click.zf.drilldown');\n        $elem.children('.js-drilldown-back').on('click.zf.drilldown', function (e) {\n          e.stopImmediatePropagation();\n          // console.log('mouseup on back');\n          _this._hide($elem);\n        });\n      }\n\n      /**\n       * Adds event listener to menu items w/o submenus to close open menus on click.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_menuLinkEvents',\n      value: function _menuLinkEvents() {\n        var _this = this;\n        this.$menuItems.not('.is-drilldown-submenu-parent').off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n          // e.stopImmediatePropagation();\n          setTimeout(function () {\n            _this._hideAll();\n          }, 0);\n        });\n      }\n\n      /**\n       * Opens a submenu.\n       * @function\n       * @fires Drilldown#open\n       * @param {jQuery} $elem - the current element with a submenu to open, i.e. the `li` tag.\n       */\n\n    }, {\n      key: '_show',\n      value: function _show($elem) {\n        $elem.children('[data-submenu]').addClass('is-active');\n        /**\n         * Fires when the submenu has opened.\n         * @event Drilldown#open\n         */\n        this.$element.trigger('open.zf.drilldown', [$elem]);\n      }\n    }, {\n      key: '_hide',\n\n\n      /**\n       * Hides a submenu\n       * @function\n       * @fires Drilldown#hide\n       * @param {jQuery} $elem - the current sub-menu to hide, i.e. the `ul` tag.\n       */\n      value: function _hide($elem) {\n        var _this = this;\n        $elem.addClass('is-closing').one(Foundation.transitionend($elem), function () {\n          $elem.removeClass('is-active is-closing');\n          $elem.blur();\n        });\n        /**\n         * Fires when the submenu has closed.\n         * @event Drilldown#hide\n         */\n        $elem.trigger('hide.zf.drilldown', [$elem]);\n      }\n\n      /**\n       * Iterates through the nested menus to calculate the min-height, and max-width for the menu.\n       * Prevents content jumping.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_getMaxDims',\n      value: function _getMaxDims() {\n        var max = 0,\n            result = {};\n        this.$submenus.add(this.$element).each(function () {\n          var numOfElems = $(this).children('li').length;\n          max = numOfElems > max ? numOfElems : max;\n        });\n\n        result['min-height'] = max * this.$menuItems[0].getBoundingClientRect().height + 'px';\n        result['max-width'] = this.$element[0].getBoundingClientRect().width + 'px';\n\n        return result;\n      }\n\n      /**\n       * Destroys the Drilldown Menu\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this._hideAll();\n        Foundation.Nest.Burn(this.$element, 'drilldown');\n        this.$element.unwrap().find('.js-drilldown-back, .is-submenu-parent-item').remove().end().find('.is-active, .is-closing, .is-drilldown-submenu').removeClass('is-active is-closing is-drilldown-submenu').end().find('[data-submenu]').removeAttr('aria-hidden tabindex role');\n        this.$submenuAnchors.each(function () {\n          $(this).off('.zf.drilldown');\n        });\n        this.$element.find('a').each(function () {\n          var $link = $(this);\n          if ($link.data('savedHref')) {\n            $link.attr('href', $link.data('savedHref')).removeData('savedHref');\n          } else {\n            return;\n          }\n        });\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Drilldown;\n  }();\n\n  Drilldown.defaults = {\n    /**\n     * Markup used for JS generated back button. Prepended to submenu lists and deleted on `destroy` method, 'js-drilldown-back' class required. Remove the backslash (`\\`) if copy and pasting.\n     * @option\n     * @example '<\\li><\\a>Back<\\/a><\\/li>'\n     */\n    backButton: '<li class=\"js-drilldown-back\"><a tabindex=\"0\">Back</a></li>',\n    /**\n     * Markup used to wrap drilldown menu. Use a class name for independent styling; the JS applied class: `is-drilldown` is required. Remove the backslash (`\\`) if copy and pasting.\n     * @option\n     * @example '<\\div class=\"is-drilldown\"><\\/div>'\n     */\n    wrapper: '<div></div>',\n    /**\n     * Adds the parent link to the submenu.\n     * @option\n     * @example false\n     */\n    parentLink: false,\n    /**\n     * Allow the menu to return to root list on body click.\n     * @option\n     * @example false\n     */\n    closeOnClick: false\n    // holdOpen: false\n  };\n\n  // Window exports\n  Foundation.plugin(Drilldown, 'Drilldown');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Dropdown module.\n   * @module foundation.dropdown\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.box\n   * @requires foundation.util.triggers\n   */\n\n  var Dropdown = function () {\n    /**\n     * Creates a new instance of a dropdown.\n     * @class\n     * @param {jQuery} element - jQuery object to make into a dropdown.\n     *        Object should be of the dropdown panel, rather than its anchor.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Dropdown(element, options) {\n      _classCallCheck(this, Dropdown);\n\n      this.$element = element;\n      this.options = $.extend({}, Dropdown.defaults, this.$element.data(), options);\n      this._init();\n\n      Foundation.registerPlugin(this, 'Dropdown');\n      Foundation.Keyboard.register('Dropdown', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ESCAPE': 'close',\n        'TAB': 'tab_forward',\n        'SHIFT_TAB': 'tab_backward'\n      });\n    }\n\n    /**\n     * Initializes the plugin by setting/checking options and attributes, adding helper variables, and saving the anchor.\n     * @function\n     * @private\n     */\n\n\n    _createClass(Dropdown, [{\n      key: '_init',\n      value: function _init() {\n        var $id = this.$element.attr('id');\n\n        this.$anchor = $('[data-toggle=\"' + $id + '\"]') || $('[data-open=\"' + $id + '\"]');\n        this.$anchor.attr({\n          'aria-controls': $id,\n          'data-is-focus': false,\n          'data-yeti-box': $id,\n          'aria-haspopup': true,\n          'aria-expanded': false\n\n        });\n\n        this.options.positionClass = this.getPositionClass();\n        this.counter = 4;\n        this.usedPositions = [];\n        this.$element.attr({\n          'aria-hidden': 'true',\n          'data-yeti-box': $id,\n          'data-resize': $id,\n          'aria-labelledby': this.$anchor[0].id || Foundation.GetYoDigits(6, 'dd-anchor')\n        });\n        this._events();\n      }\n\n      /**\n       * Helper function to determine current orientation of dropdown pane.\n       * @function\n       * @returns {String} position - string value of a position class.\n       */\n\n    }, {\n      key: 'getPositionClass',\n      value: function getPositionClass() {\n        var verticalPosition = this.$element[0].className.match(/(top|left|right|bottom)/g);\n        verticalPosition = verticalPosition ? verticalPosition[0] : '';\n        var horizontalPosition = /float-(\\S+)\\s/.exec(this.$anchor[0].className);\n        horizontalPosition = horizontalPosition ? horizontalPosition[1] : '';\n        var position = horizontalPosition ? horizontalPosition + ' ' + verticalPosition : verticalPosition;\n        return position;\n      }\n\n      /**\n       * Adjusts the dropdown panes orientation by adding/removing positioning classes.\n       * @function\n       * @private\n       * @param {String} position - position class to remove.\n       */\n\n    }, {\n      key: '_reposition',\n      value: function _reposition(position) {\n        this.usedPositions.push(position ? position : 'bottom');\n        //default, try switching to opposite side\n        if (!position && this.usedPositions.indexOf('top') < 0) {\n          this.$element.addClass('top');\n        } else if (position === 'top' && this.usedPositions.indexOf('bottom') < 0) {\n          this.$element.removeClass(position);\n        } else if (position === 'left' && this.usedPositions.indexOf('right') < 0) {\n          this.$element.removeClass(position).addClass('right');\n        } else if (position === 'right' && this.usedPositions.indexOf('left') < 0) {\n          this.$element.removeClass(position).addClass('left');\n        }\n\n        //if default change didn't work, try bottom or left first\n        else if (!position && this.usedPositions.indexOf('top') > -1 && this.usedPositions.indexOf('left') < 0) {\n            this.$element.addClass('left');\n          } else if (position === 'top' && this.usedPositions.indexOf('bottom') > -1 && this.usedPositions.indexOf('left') < 0) {\n            this.$element.removeClass(position).addClass('left');\n          } else if (position === 'left' && this.usedPositions.indexOf('right') > -1 && this.usedPositions.indexOf('bottom') < 0) {\n            this.$element.removeClass(position);\n          } else if (position === 'right' && this.usedPositions.indexOf('left') > -1 && this.usedPositions.indexOf('bottom') < 0) {\n            this.$element.removeClass(position);\n          }\n          //if nothing cleared, set to bottom\n          else {\n              this.$element.removeClass(position);\n            }\n        this.classChanged = true;\n        this.counter--;\n      }\n\n      /**\n       * Sets the position and orientation of the dropdown pane, checks for collisions.\n       * Recursively calls itself if a collision is detected, with a new position class.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_setPosition',\n      value: function _setPosition() {\n        if (this.$anchor.attr('aria-expanded') === 'false') {\n          return false;\n        }\n        var position = this.getPositionClass(),\n            $eleDims = Foundation.Box.GetDimensions(this.$element),\n            $anchorDims = Foundation.Box.GetDimensions(this.$anchor),\n            _this = this,\n            direction = position === 'left' ? 'left' : position === 'right' ? 'left' : 'top',\n            param = direction === 'top' ? 'height' : 'width',\n            offset = param === 'height' ? this.options.vOffset : this.options.hOffset;\n\n        if ($eleDims.width >= $eleDims.windowDims.width || !this.counter && !Foundation.Box.ImNotTouchingYou(this.$element)) {\n          this.$element.offset(Foundation.Box.GetOffsets(this.$element, this.$anchor, 'center bottom', this.options.vOffset, this.options.hOffset, true)).css({\n            'width': $eleDims.windowDims.width - this.options.hOffset * 2,\n            'height': 'auto'\n          });\n          this.classChanged = true;\n          return false;\n        }\n\n        this.$element.offset(Foundation.Box.GetOffsets(this.$element, this.$anchor, position, this.options.vOffset, this.options.hOffset));\n\n        while (!Foundation.Box.ImNotTouchingYou(this.$element, false, true) && this.counter) {\n          this._reposition(position);\n          this._setPosition();\n        }\n      }\n\n      /**\n       * Adds event listeners to the element utilizing the triggers utility library.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this;\n        this.$element.on({\n          'open.zf.trigger': this.open.bind(this),\n          'close.zf.trigger': this.close.bind(this),\n          'toggle.zf.trigger': this.toggle.bind(this),\n          'resizeme.zf.trigger': this._setPosition.bind(this)\n        });\n\n        if (this.options.hover) {\n          this.$anchor.off('mouseenter.zf.dropdown mouseleave.zf.dropdown').on('mouseenter.zf.dropdown', function () {\n            clearTimeout(_this.timeout);\n            _this.timeout = setTimeout(function () {\n              _this.open();\n              _this.$anchor.data('hover', true);\n            }, _this.options.hoverDelay);\n          }).on('mouseleave.zf.dropdown', function () {\n            clearTimeout(_this.timeout);\n            _this.timeout = setTimeout(function () {\n              _this.close();\n              _this.$anchor.data('hover', false);\n            }, _this.options.hoverDelay);\n          });\n          if (this.options.hoverPane) {\n            this.$element.off('mouseenter.zf.dropdown mouseleave.zf.dropdown').on('mouseenter.zf.dropdown', function () {\n              clearTimeout(_this.timeout);\n            }).on('mouseleave.zf.dropdown', function () {\n              clearTimeout(_this.timeout);\n              _this.timeout = setTimeout(function () {\n                _this.close();\n                _this.$anchor.data('hover', false);\n              }, _this.options.hoverDelay);\n            });\n          }\n        }\n        this.$anchor.add(this.$element).on('keydown.zf.dropdown', function (e) {\n\n          var $target = $(this),\n              visibleFocusableElements = Foundation.Keyboard.findFocusable(_this.$element);\n\n          Foundation.Keyboard.handleKey(e, 'Dropdown', {\n            tab_forward: function () {\n              if (_this.$element.find(':focus').is(visibleFocusableElements.eq(-1))) {\n                // left modal downwards, setting focus to first element\n                if (_this.options.trapFocus) {\n                  // if focus shall be trapped\n                  visibleFocusableElements.eq(0).focus();\n                  e.preventDefault();\n                } else {\n                  // if focus is not trapped, close dropdown on focus out\n                  _this.close();\n                }\n              }\n            },\n            tab_backward: function () {\n              if (_this.$element.find(':focus').is(visibleFocusableElements.eq(0)) || _this.$element.is(':focus')) {\n                // left modal upwards, setting focus to last element\n                if (_this.options.trapFocus) {\n                  // if focus shall be trapped\n                  visibleFocusableElements.eq(-1).focus();\n                  e.preventDefault();\n                } else {\n                  // if focus is not trapped, close dropdown on focus out\n                  _this.close();\n                }\n              }\n            },\n            open: function () {\n              if ($target.is(_this.$anchor)) {\n                _this.open();\n                _this.$element.attr('tabindex', -1).focus();\n                e.preventDefault();\n              }\n            },\n            close: function () {\n              _this.close();\n              _this.$anchor.focus();\n            }\n          });\n        });\n      }\n\n      /**\n       * Adds an event handler to the body to close any dropdowns on a click.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_addBodyHandler',\n      value: function _addBodyHandler() {\n        var $body = $(document.body).not(this.$element),\n            _this = this;\n        $body.off('click.zf.dropdown').on('click.zf.dropdown', function (e) {\n          if (_this.$anchor.is(e.target) || _this.$anchor.find(e.target).length) {\n            return;\n          }\n          if (_this.$element.find(e.target).length) {\n            return;\n          }\n          _this.close();\n          $body.off('click.zf.dropdown');\n        });\n      }\n\n      /**\n       * Opens the dropdown pane, and fires a bubbling event to close other dropdowns.\n       * @function\n       * @fires Dropdown#closeme\n       * @fires Dropdown#show\n       */\n\n    }, {\n      key: 'open',\n      value: function open() {\n        // var _this = this;\n        /**\n         * Fires to close other open dropdowns\n         * @event Dropdown#closeme\n         */\n        this.$element.trigger('closeme.zf.dropdown', this.$element.attr('id'));\n        this.$anchor.addClass('hover').attr({ 'aria-expanded': true });\n        // this.$element/*.show()*/;\n        this._setPosition();\n        this.$element.addClass('is-open').attr({ 'aria-hidden': false });\n\n        if (this.options.autoFocus) {\n          var $focusable = Foundation.Keyboard.findFocusable(this.$element);\n          if ($focusable.length) {\n            $focusable.eq(0).focus();\n          }\n        }\n\n        if (this.options.closeOnClick) {\n          this._addBodyHandler();\n        }\n\n        /**\n         * Fires once the dropdown is visible.\n         * @event Dropdown#show\n         */\n        this.$element.trigger('show.zf.dropdown', [this.$element]);\n      }\n\n      /**\n       * Closes the open dropdown pane.\n       * @function\n       * @fires Dropdown#hide\n       */\n\n    }, {\n      key: 'close',\n      value: function close() {\n        if (!this.$element.hasClass('is-open')) {\n          return false;\n        }\n        this.$element.removeClass('is-open').attr({ 'aria-hidden': true });\n\n        this.$anchor.removeClass('hover').attr('aria-expanded', false);\n\n        if (this.classChanged) {\n          var curPositionClass = this.getPositionClass();\n          if (curPositionClass) {\n            this.$element.removeClass(curPositionClass);\n          }\n          this.$element.addClass(this.options.positionClass)\n          /*.hide()*/.css({ height: '', width: '' });\n          this.classChanged = false;\n          this.counter = 4;\n          this.usedPositions.length = 0;\n        }\n        this.$element.trigger('hide.zf.dropdown', [this.$element]);\n      }\n\n      /**\n       * Toggles the dropdown pane's visibility.\n       * @function\n       */\n\n    }, {\n      key: 'toggle',\n      value: function toggle() {\n        if (this.$element.hasClass('is-open')) {\n          if (this.$anchor.data('hover')) return;\n          this.close();\n        } else {\n          this.open();\n        }\n      }\n\n      /**\n       * Destroys the dropdown.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.off('.zf.trigger').hide();\n        this.$anchor.off('.zf.dropdown');\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Dropdown;\n  }();\n\n  Dropdown.defaults = {\n    /**\n     * Amount of time to delay opening a submenu on hover event.\n     * @option\n     * @example 250\n     */\n    hoverDelay: 250,\n    /**\n     * Allow submenus to open on hover events\n     * @option\n     * @example false\n     */\n    hover: false,\n    /**\n     * Don't close dropdown when hovering over dropdown pane\n     * @option\n     * @example true\n     */\n    hoverPane: false,\n    /**\n     * Number of pixels between the dropdown pane and the triggering element on open.\n     * @option\n     * @example 1\n     */\n    vOffset: 1,\n    /**\n     * Number of pixels between the dropdown pane and the triggering element on open.\n     * @option\n     * @example 1\n     */\n    hOffset: 1,\n    /**\n     * Class applied to adjust open position. JS will test and fill this in.\n     * @option\n     * @example 'top'\n     */\n    positionClass: '',\n    /**\n     * Allow the plugin to trap focus to the dropdown pane if opened with keyboard commands.\n     * @option\n     * @example false\n     */\n    trapFocus: false,\n    /**\n     * Allow the plugin to set focus to the first focusable element within the pane, regardless of method of opening.\n     * @option\n     * @example true\n     */\n    autoFocus: false,\n    /**\n     * Allows a click on the body to close the dropdown.\n     * @option\n     * @example false\n     */\n    closeOnClick: false\n  };\n\n  // Window exports\n  Foundation.plugin(Dropdown, 'Dropdown');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * DropdownMenu module.\n   * @module foundation.dropdown-menu\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.box\n   * @requires foundation.util.nest\n   */\n\n  var DropdownMenu = function () {\n    /**\n     * Creates a new instance of DropdownMenu.\n     * @class\n     * @fires DropdownMenu#init\n     * @param {jQuery} element - jQuery object to make into a dropdown menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function DropdownMenu(element, options) {\n      _classCallCheck(this, DropdownMenu);\n\n      this.$element = element;\n      this.options = $.extend({}, DropdownMenu.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'dropdown');\n      this._init();\n\n      Foundation.registerPlugin(this, 'DropdownMenu');\n      Foundation.Keyboard.register('DropdownMenu', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'previous',\n        'ESCAPE': 'close'\n      });\n    }\n\n    /**\n     * Initializes the plugin, and calls _prepareMenu\n     * @private\n     * @function\n     */\n\n\n    _createClass(DropdownMenu, [{\n      key: '_init',\n      value: function _init() {\n        var subs = this.$element.find('li.is-dropdown-submenu-parent');\n        this.$element.children('.is-dropdown-submenu-parent').children('.is-dropdown-submenu').addClass('first-sub');\n\n        this.$menuItems = this.$element.find('[role=\"menuitem\"]');\n        this.$tabs = this.$element.children('[role=\"menuitem\"]');\n        this.$tabs.find('ul.is-dropdown-submenu').addClass(this.options.verticalClass);\n\n        if (this.$element.hasClass(this.options.rightClass) || this.options.alignment === 'right' || Foundation.rtl() || this.$element.parents('.top-bar-right').is('*')) {\n          this.options.alignment = 'right';\n          subs.addClass('opens-left');\n        } else {\n          subs.addClass('opens-right');\n        }\n        this.changed = false;\n        this._events();\n      }\n    }, {\n      key: '_events',\n\n      /**\n       * Adds event listeners to elements within the menu\n       * @private\n       * @function\n       */\n      value: function _events() {\n        var _this = this,\n            hasTouch = 'ontouchstart' in window || typeof window.ontouchstart !== 'undefined',\n            parClass = 'is-dropdown-submenu-parent';\n\n        // used for onClick and in the keyboard handlers\n        var handleClickFn = function (e) {\n          var $elem = $(e.target).parentsUntil('ul', '.' + parClass),\n              hasSub = $elem.hasClass(parClass),\n              hasClicked = $elem.attr('data-is-click') === 'true',\n              $sub = $elem.children('.is-dropdown-submenu');\n\n          if (hasSub) {\n            if (hasClicked) {\n              if (!_this.options.closeOnClick || !_this.options.clickOpen && !hasTouch || _this.options.forceFollow && hasTouch) {\n                return;\n              } else {\n                e.stopImmediatePropagation();\n                e.preventDefault();\n                _this._hide($elem);\n              }\n            } else {\n              e.preventDefault();\n              e.stopImmediatePropagation();\n              _this._show($elem.children('.is-dropdown-submenu'));\n              $elem.add($elem.parentsUntil(_this.$element, '.' + parClass)).attr('data-is-click', true);\n            }\n          } else {\n            return;\n          }\n        };\n\n        if (this.options.clickOpen || hasTouch) {\n          this.$menuItems.on('click.zf.dropdownmenu touchstart.zf.dropdownmenu', handleClickFn);\n        }\n\n        if (!this.options.disableHover) {\n          this.$menuItems.on('mouseenter.zf.dropdownmenu', function (e) {\n            var $elem = $(this),\n                hasSub = $elem.hasClass(parClass);\n\n            if (hasSub) {\n              clearTimeout(_this.delay);\n              _this.delay = setTimeout(function () {\n                _this._show($elem.children('.is-dropdown-submenu'));\n              }, _this.options.hoverDelay);\n            }\n          }).on('mouseleave.zf.dropdownmenu', function (e) {\n            var $elem = $(this),\n                hasSub = $elem.hasClass(parClass);\n            if (hasSub && _this.options.autoclose) {\n              if ($elem.attr('data-is-click') === 'true' && _this.options.clickOpen) {\n                return false;\n              }\n\n              clearTimeout(_this.delay);\n              _this.delay = setTimeout(function () {\n                _this._hide($elem);\n              }, _this.options.closingTime);\n            }\n          });\n        }\n        this.$menuItems.on('keydown.zf.dropdownmenu', function (e) {\n          var $element = $(e.target).parentsUntil('ul', '[role=\"menuitem\"]'),\n              isTab = _this.$tabs.index($element) > -1,\n              $elements = isTab ? _this.$tabs : $element.siblings('li').add($element),\n              $prevElement,\n              $nextElement;\n\n          $elements.each(function (i) {\n            if ($(this).is($element)) {\n              $prevElement = $elements.eq(i - 1);\n              $nextElement = $elements.eq(i + 1);\n              return;\n            }\n          });\n\n          var nextSibling = function () {\n            if (!$element.is(':last-child')) {\n              $nextElement.children('a:first').focus();\n              e.preventDefault();\n            }\n          },\n              prevSibling = function () {\n            $prevElement.children('a:first').focus();\n            e.preventDefault();\n          },\n              openSub = function () {\n            var $sub = $element.children('ul.is-dropdown-submenu');\n            if ($sub.length) {\n              _this._show($sub);\n              $element.find('li > a:first').focus();\n              e.preventDefault();\n            } else {\n              return;\n            }\n          },\n              closeSub = function () {\n            //if ($element.is(':first-child')) {\n            var close = $element.parent('ul').parent('li');\n            close.children('a:first').focus();\n            _this._hide(close);\n            e.preventDefault();\n            //}\n          };\n          var functions = {\n            open: openSub,\n            close: function () {\n              _this._hide(_this.$element);\n              _this.$menuItems.find('a:first').focus(); // focus to first element\n              e.preventDefault();\n            },\n            handled: function () {\n              e.stopImmediatePropagation();\n            }\n          };\n\n          if (isTab) {\n            if (_this.$element.hasClass(_this.options.verticalClass)) {\n              // vertical menu\n              if (_this.options.alignment === 'left') {\n                // left aligned\n                $.extend(functions, {\n                  down: nextSibling,\n                  up: prevSibling,\n                  next: openSub,\n                  previous: closeSub\n                });\n              } else {\n                // right aligned\n                $.extend(functions, {\n                  down: nextSibling,\n                  up: prevSibling,\n                  next: closeSub,\n                  previous: openSub\n                });\n              }\n            } else {\n              // horizontal menu\n              $.extend(functions, {\n                next: nextSibling,\n                previous: prevSibling,\n                down: openSub,\n                up: closeSub\n              });\n            }\n          } else {\n            // not tabs -> one sub\n            if (_this.options.alignment === 'left') {\n              // left aligned\n              $.extend(functions, {\n                next: openSub,\n                previous: closeSub,\n                down: nextSibling,\n                up: prevSibling\n              });\n            } else {\n              // right aligned\n              $.extend(functions, {\n                next: closeSub,\n                previous: openSub,\n                down: nextSibling,\n                up: prevSibling\n              });\n            }\n          }\n          Foundation.Keyboard.handleKey(e, 'DropdownMenu', functions);\n        });\n      }\n\n      /**\n       * Adds an event handler to the body to close any dropdowns on a click.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_addBodyHandler',\n      value: function _addBodyHandler() {\n        var $body = $(document.body),\n            _this = this;\n        $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu').on('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu', function (e) {\n          var $link = _this.$element.find(e.target);\n          if ($link.length) {\n            return;\n          }\n\n          _this._hide();\n          $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu');\n        });\n      }\n\n      /**\n       * Opens a dropdown pane, and checks for collisions first.\n       * @param {jQuery} $sub - ul element that is a submenu to show\n       * @function\n       * @private\n       * @fires DropdownMenu#show\n       */\n\n    }, {\n      key: '_show',\n      value: function _show($sub) {\n        var idx = this.$tabs.index(this.$tabs.filter(function (i, el) {\n          return $(el).find($sub).length > 0;\n        }));\n        var $sibs = $sub.parent('li.is-dropdown-submenu-parent').siblings('li.is-dropdown-submenu-parent');\n        this._hide($sibs, idx);\n        $sub.css('visibility', 'hidden').addClass('js-dropdown-active').attr({ 'aria-hidden': false }).parent('li.is-dropdown-submenu-parent').addClass('is-active').attr({ 'aria-expanded': true });\n        var clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\n        if (!clear) {\n          var oldClass = this.options.alignment === 'left' ? '-right' : '-left',\n              $parentLi = $sub.parent('.is-dropdown-submenu-parent');\n          $parentLi.removeClass('opens' + oldClass).addClass('opens-' + this.options.alignment);\n          clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\n          if (!clear) {\n            $parentLi.removeClass('opens-' + this.options.alignment).addClass('opens-inner');\n          }\n          this.changed = true;\n        }\n        $sub.css('visibility', '');\n        if (this.options.closeOnClick) {\n          this._addBodyHandler();\n        }\n        /**\n         * Fires when the new dropdown pane is visible.\n         * @event DropdownMenu#show\n         */\n        this.$element.trigger('show.zf.dropdownmenu', [$sub]);\n      }\n\n      /**\n       * Hides a single, currently open dropdown pane, if passed a parameter, otherwise, hides everything.\n       * @function\n       * @param {jQuery} $elem - element with a submenu to hide\n       * @param {Number} idx - index of the $tabs collection to hide\n       * @private\n       */\n\n    }, {\n      key: '_hide',\n      value: function _hide($elem, idx) {\n        var $toClose;\n        if ($elem && $elem.length) {\n          $toClose = $elem;\n        } else if (idx !== undefined) {\n          $toClose = this.$tabs.not(function (i, el) {\n            return i === idx;\n          });\n        } else {\n          $toClose = this.$element;\n        }\n        var somethingToClose = $toClose.hasClass('is-active') || $toClose.find('.is-active').length > 0;\n\n        if (somethingToClose) {\n          $toClose.find('li.is-active').add($toClose).attr({\n            'aria-expanded': false,\n            'data-is-click': false\n          }).removeClass('is-active');\n\n          $toClose.find('ul.js-dropdown-active').attr({\n            'aria-hidden': true\n          }).removeClass('js-dropdown-active');\n\n          if (this.changed || $toClose.find('opens-inner').length) {\n            var oldClass = this.options.alignment === 'left' ? 'right' : 'left';\n            $toClose.find('li.is-dropdown-submenu-parent').add($toClose).removeClass('opens-inner opens-' + this.options.alignment).addClass('opens-' + oldClass);\n            this.changed = false;\n          }\n          /**\n           * Fires when the open menus are closed.\n           * @event DropdownMenu#hide\n           */\n          this.$element.trigger('hide.zf.dropdownmenu', [$toClose]);\n        }\n      }\n\n      /**\n       * Destroys the plugin.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$menuItems.off('.zf.dropdownmenu').removeAttr('data-is-click').removeClass('is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner');\n        $(document.body).off('.zf.dropdownmenu');\n        Foundation.Nest.Burn(this.$element, 'dropdown');\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return DropdownMenu;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n\n  DropdownMenu.defaults = {\n    /**\n     * Disallows hover events from opening submenus\n     * @option\n     * @example false\n     */\n    disableHover: false,\n    /**\n     * Allow a submenu to automatically close on a mouseleave event, if not clicked open.\n     * @option\n     * @example true\n     */\n    autoclose: true,\n    /**\n     * Amount of time to delay opening a submenu on hover event.\n     * @option\n     * @example 50\n     */\n    hoverDelay: 50,\n    /**\n     * Allow a submenu to open/remain open on parent click event. Allows cursor to move away from menu.\n     * @option\n     * @example true\n     */\n    clickOpen: false,\n    /**\n     * Amount of time to delay closing a submenu on a mouseleave event.\n     * @option\n     * @example 500\n     */\n\n    closingTime: 500,\n    /**\n     * Position of the menu relative to what direction the submenus should open. Handled by JS.\n     * @option\n     * @example 'left'\n     */\n    alignment: 'left',\n    /**\n     * Allow clicks on the body to close any open submenus.\n     * @option\n     * @example true\n     */\n    closeOnClick: true,\n    /**\n     * Class applied to vertical oriented menus, Foundation default is `vertical`. Update this if using your own class.\n     * @option\n     * @example 'vertical'\n     */\n    verticalClass: 'vertical',\n    /**\n     * Class applied to right-side oriented menus, Foundation default is `align-right`. Update this if using your own class.\n     * @option\n     * @example 'align-right'\n     */\n    rightClass: 'align-right',\n    /**\n     * Boolean to force overide the clicking of links to perform default action, on second touch event for mobile.\n     * @option\n     * @example false\n     */\n    forceFollow: true\n  };\n\n  // Window exports\n  Foundation.plugin(DropdownMenu, 'DropdownMenu');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Equalizer module.\n   * @module foundation.equalizer\n   */\n\n  var Equalizer = function () {\n    /**\n     * Creates a new instance of Equalizer.\n     * @class\n     * @fires Equalizer#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Equalizer(element, options) {\n      _classCallCheck(this, Equalizer);\n\n      this.$element = element;\n      this.options = $.extend({}, Equalizer.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Equalizer');\n    }\n\n    /**\n     * Initializes the Equalizer plugin and calls functions to get equalizer functioning on load.\n     * @private\n     */\n\n\n    _createClass(Equalizer, [{\n      key: '_init',\n      value: function _init() {\n        var eqId = this.$element.attr('data-equalizer') || '';\n        var $watched = this.$element.find('[data-equalizer-watch=\"' + eqId + '\"]');\n\n        this.$watched = $watched.length ? $watched : this.$element.find('[data-equalizer-watch]');\n        this.$element.attr('data-resize', eqId || Foundation.GetYoDigits(6, 'eq'));\n\n        this.hasNested = this.$element.find('[data-equalizer]').length > 0;\n        this.isNested = this.$element.parentsUntil(document.body, '[data-equalizer]').length > 0;\n        this.isOn = false;\n        this._bindHandler = {\n          onResizeMeBound: this._onResizeMe.bind(this),\n          onPostEqualizedBound: this._onPostEqualized.bind(this)\n        };\n\n        var imgs = this.$element.find('img');\n        var tooSmall;\n        if (this.options.equalizeOn) {\n          tooSmall = this._checkMQ();\n          $(window).on('changed.zf.mediaquery', this._checkMQ.bind(this));\n        } else {\n          this._events();\n        }\n        if (tooSmall !== undefined && tooSmall === false || tooSmall === undefined) {\n          if (imgs.length) {\n            Foundation.onImagesLoaded(imgs, this._reflow.bind(this));\n          } else {\n            this._reflow();\n          }\n        }\n      }\n\n      /**\n       * Removes event listeners if the breakpoint is too small.\n       * @private\n       */\n\n    }, {\n      key: '_pauseEvents',\n      value: function _pauseEvents() {\n        this.isOn = false;\n        this.$element.off({\n          '.zf.equalizer': this._bindHandler.onPostEqualizedBound,\n          'resizeme.zf.trigger': this._bindHandler.onResizeMeBound\n        });\n      }\n\n      /**\n       * function to handle $elements resizeme.zf.trigger, with bound this on _bindHandler.onResizeMeBound\n       * @private\n       */\n\n    }, {\n      key: '_onResizeMe',\n      value: function _onResizeMe(e) {\n        this._reflow();\n      }\n\n      /**\n       * function to handle $elements postequalized.zf.equalizer, with bound this on _bindHandler.onPostEqualizedBound\n       * @private\n       */\n\n    }, {\n      key: '_onPostEqualized',\n      value: function _onPostEqualized(e) {\n        if (e.target !== this.$element[0]) {\n          this._reflow();\n        }\n      }\n\n      /**\n       * Initializes events for Equalizer.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this;\n        this._pauseEvents();\n        if (this.hasNested) {\n          this.$element.on('postequalized.zf.equalizer', this._bindHandler.onPostEqualizedBound);\n        } else {\n          this.$element.on('resizeme.zf.trigger', this._bindHandler.onResizeMeBound);\n        }\n        this.isOn = true;\n      }\n\n      /**\n       * Checks the current breakpoint to the minimum required size.\n       * @private\n       */\n\n    }, {\n      key: '_checkMQ',\n      value: function _checkMQ() {\n        var tooSmall = !Foundation.MediaQuery.atLeast(this.options.equalizeOn);\n        if (tooSmall) {\n          if (this.isOn) {\n            this._pauseEvents();\n            this.$watched.css('height', 'auto');\n          }\n        } else {\n          if (!this.isOn) {\n            this._events();\n          }\n        }\n        return tooSmall;\n      }\n\n      /**\n       * A noop version for the plugin\n       * @private\n       */\n\n    }, {\n      key: '_killswitch',\n      value: function _killswitch() {\n        return;\n      }\n\n      /**\n       * Calls necessary functions to update Equalizer upon DOM change\n       * @private\n       */\n\n    }, {\n      key: '_reflow',\n      value: function _reflow() {\n        if (!this.options.equalizeOnStack) {\n          if (this._isStacked()) {\n            this.$watched.css('height', 'auto');\n            return false;\n          }\n        }\n        if (this.options.equalizeByRow) {\n          this.getHeightsByRow(this.applyHeightByRow.bind(this));\n        } else {\n          this.getHeights(this.applyHeight.bind(this));\n        }\n      }\n\n      /**\n       * Manually determines if the first 2 elements are *NOT* stacked.\n       * @private\n       */\n\n    }, {\n      key: '_isStacked',\n      value: function _isStacked() {\n        return this.$watched[0].getBoundingClientRect().top !== this.$watched[1].getBoundingClientRect().top;\n      }\n\n      /**\n       * Finds the outer heights of children contained within an Equalizer parent and returns them in an array\n       * @param {Function} cb - A non-optional callback to return the heights array to.\n       * @returns {Array} heights - An array of heights of children within Equalizer container\n       */\n\n    }, {\n      key: 'getHeights',\n      value: function getHeights(cb) {\n        var heights = [];\n        for (var i = 0, len = this.$watched.length; i < len; i++) {\n          this.$watched[i].style.height = 'auto';\n          heights.push(this.$watched[i].offsetHeight);\n        }\n        cb(heights);\n      }\n\n      /**\n       * Finds the outer heights of children contained within an Equalizer parent and returns them in an array\n       * @param {Function} cb - A non-optional callback to return the heights array to.\n       * @returns {Array} groups - An array of heights of children within Equalizer container grouped by row with element,height and max as last child\n       */\n\n    }, {\n      key: 'getHeightsByRow',\n      value: function getHeightsByRow(cb) {\n        var lastElTopOffset = this.$watched.length ? this.$watched.first().offset().top : 0,\n            groups = [],\n            group = 0;\n        //group by Row\n        groups[group] = [];\n        for (var i = 0, len = this.$watched.length; i < len; i++) {\n          this.$watched[i].style.height = 'auto';\n          //maybe could use this.$watched[i].offsetTop\n          var elOffsetTop = $(this.$watched[i]).offset().top;\n          if (elOffsetTop != lastElTopOffset) {\n            group++;\n            groups[group] = [];\n            lastElTopOffset = elOffsetTop;\n          }\n          groups[group].push([this.$watched[i], this.$watched[i].offsetHeight]);\n        }\n\n        for (var j = 0, ln = groups.length; j < ln; j++) {\n          var heights = $(groups[j]).map(function () {\n            return this[1];\n          }).get();\n          var max = Math.max.apply(null, heights);\n          groups[j].push(max);\n        }\n        cb(groups);\n      }\n\n      /**\n       * Changes the CSS height property of each child in an Equalizer parent to match the tallest\n       * @param {array} heights - An array of heights of children within Equalizer container\n       * @fires Equalizer#preequalized\n       * @fires Equalizer#postequalized\n       */\n\n    }, {\n      key: 'applyHeight',\n      value: function applyHeight(heights) {\n        var max = Math.max.apply(null, heights);\n        /**\n         * Fires before the heights are applied\n         * @event Equalizer#preequalized\n         */\n        this.$element.trigger('preequalized.zf.equalizer');\n\n        this.$watched.css('height', max);\n\n        /**\n         * Fires when the heights have been applied\n         * @event Equalizer#postequalized\n         */\n        this.$element.trigger('postequalized.zf.equalizer');\n      }\n\n      /**\n       * Changes the CSS height property of each child in an Equalizer parent to match the tallest by row\n       * @param {array} groups - An array of heights of children within Equalizer container grouped by row with element,height and max as last child\n       * @fires Equalizer#preequalized\n       * @fires Equalizer#preequalizedRow\n       * @fires Equalizer#postequalizedRow\n       * @fires Equalizer#postequalized\n       */\n\n    }, {\n      key: 'applyHeightByRow',\n      value: function applyHeightByRow(groups) {\n        /**\n         * Fires before the heights are applied\n         */\n        this.$element.trigger('preequalized.zf.equalizer');\n        for (var i = 0, len = groups.length; i < len; i++) {\n          var groupsILength = groups[i].length,\n              max = groups[i][groupsILength - 1];\n          if (groupsILength <= 2) {\n            $(groups[i][0][0]).css({ 'height': 'auto' });\n            continue;\n          }\n          /**\n            * Fires before the heights per row are applied\n            * @event Equalizer#preequalizedRow\n            */\n          this.$element.trigger('preequalizedrow.zf.equalizer');\n          for (var j = 0, lenJ = groupsILength - 1; j < lenJ; j++) {\n            $(groups[i][j][0]).css({ 'height': max });\n          }\n          /**\n            * Fires when the heights per row have been applied\n            * @event Equalizer#postequalizedRow\n            */\n          this.$element.trigger('postequalizedrow.zf.equalizer');\n        }\n        /**\n         * Fires when the heights have been applied\n         */\n        this.$element.trigger('postequalized.zf.equalizer');\n      }\n\n      /**\n       * Destroys an instance of Equalizer.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this._pauseEvents();\n        this.$watched.css('height', 'auto');\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Equalizer;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n\n  Equalizer.defaults = {\n    /**\n     * Enable height equalization when stacked on smaller screens.\n     * @option\n     * @example true\n     */\n    equalizeOnStack: true,\n    /**\n     * Enable height equalization row by row.\n     * @option\n     * @example false\n     */\n    equalizeByRow: false,\n    /**\n     * String representing the minimum breakpoint size the plugin should equalize heights on.\n     * @option\n     * @example 'medium'\n     */\n    equalizeOn: ''\n  };\n\n  // Window exports\n  Foundation.plugin(Equalizer, 'Equalizer');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Interchange module.\n   * @module foundation.interchange\n   * @requires foundation.util.mediaQuery\n   * @requires foundation.util.timerAndImageLoader\n   */\n\n  var Interchange = function () {\n    /**\n     * Creates a new instance of Interchange.\n     * @class\n     * @fires Interchange#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Interchange(element, options) {\n      _classCallCheck(this, Interchange);\n\n      this.$element = element;\n      this.options = $.extend({}, Interchange.defaults, options);\n      this.rules = [];\n      this.currentPath = '';\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'Interchange');\n    }\n\n    /**\n     * Initializes the Interchange plugin and calls functions to get interchange functioning on load.\n     * @function\n     * @private\n     */\n\n\n    _createClass(Interchange, [{\n      key: '_init',\n      value: function _init() {\n        this._addBreakpoints();\n        this._generateRules();\n        this._reflow();\n      }\n\n      /**\n       * Initializes events for Interchange.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        $(window).on('resize.zf.interchange', Foundation.util.throttle(this._reflow.bind(this), 50));\n      }\n\n      /**\n       * Calls necessary functions to update Interchange upon DOM change\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_reflow',\n      value: function _reflow() {\n        var match;\n\n        // Iterate through each rule, but only save the last match\n        for (var i in this.rules) {\n          if (this.rules.hasOwnProperty(i)) {\n            var rule = this.rules[i];\n\n            if (window.matchMedia(rule.query).matches) {\n              match = rule;\n            }\n          }\n        }\n\n        if (match) {\n          this.replace(match.path);\n        }\n      }\n\n      /**\n       * Gets the Foundation breakpoints and adds them to the Interchange.SPECIAL_QUERIES object.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_addBreakpoints',\n      value: function _addBreakpoints() {\n        for (var i in Foundation.MediaQuery.queries) {\n          if (Foundation.MediaQuery.queries.hasOwnProperty(i)) {\n            var query = Foundation.MediaQuery.queries[i];\n            Interchange.SPECIAL_QUERIES[query.name] = query.value;\n          }\n        }\n      }\n\n      /**\n       * Checks the Interchange element for the provided media query + content pairings\n       * @function\n       * @private\n       * @param {Object} element - jQuery object that is an Interchange instance\n       * @returns {Array} scenarios - Array of objects that have 'mq' and 'path' keys with corresponding keys\n       */\n\n    }, {\n      key: '_generateRules',\n      value: function _generateRules(element) {\n        var rulesList = [];\n        var rules;\n\n        if (this.options.rules) {\n          rules = this.options.rules;\n        } else {\n          rules = this.$element.data('interchange').match(/\\[.*?\\]/g);\n        }\n\n        for (var i in rules) {\n          if (rules.hasOwnProperty(i)) {\n            var rule = rules[i].slice(1, -1).split(', ');\n            var path = rule.slice(0, -1).join('');\n            var query = rule[rule.length - 1];\n\n            if (Interchange.SPECIAL_QUERIES[query]) {\n              query = Interchange.SPECIAL_QUERIES[query];\n            }\n\n            rulesList.push({\n              path: path,\n              query: query\n            });\n          }\n        }\n\n        this.rules = rulesList;\n      }\n\n      /**\n       * Update the `src` property of an image, or change the HTML of a container, to the specified path.\n       * @function\n       * @param {String} path - Path to the image or HTML partial.\n       * @fires Interchange#replaced\n       */\n\n    }, {\n      key: 'replace',\n      value: function replace(path) {\n        if (this.currentPath === path) return;\n\n        var _this = this,\n            trigger = 'replaced.zf.interchange';\n\n        // Replacing images\n        if (this.$element[0].nodeName === 'IMG') {\n          this.$element.attr('src', path).load(function () {\n            _this.currentPath = path;\n          }).trigger(trigger);\n        }\n        // Replacing background images\n        else if (path.match(/\\.(gif|jpg|jpeg|png|svg|tiff)([?#].*)?/i)) {\n            this.$element.css({ 'background-image': 'url(' + path + ')' }).trigger(trigger);\n          }\n          // Replacing HTML\n          else {\n              $.get(path, function (response) {\n                _this.$element.html(response).trigger(trigger);\n                $(response).foundation();\n                _this.currentPath = path;\n              });\n            }\n\n        /**\n         * Fires when content in an Interchange element is done being loaded.\n         * @event Interchange#replaced\n         */\n        // this.$element.trigger('replaced.zf.interchange');\n      }\n\n      /**\n       * Destroys an instance of interchange.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        //TODO this.\n      }\n    }]);\n\n    return Interchange;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n\n  Interchange.defaults = {\n    /**\n     * Rules to be applied to Interchange elements. Set with the `data-interchange` array notation.\n     * @option\n     */\n    rules: null\n  };\n\n  Interchange.SPECIAL_QUERIES = {\n    'landscape': 'screen and (orientation: landscape)',\n    'portrait': 'screen and (orientation: portrait)',\n    'retina': 'only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)'\n  };\n\n  // Window exports\n  Foundation.plugin(Interchange, 'Interchange');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Magellan module.\n   * @module foundation.magellan\n   */\n\n  var Magellan = function () {\n    /**\n     * Creates a new instance of Magellan.\n     * @class\n     * @fires Magellan#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Magellan(element, options) {\n      _classCallCheck(this, Magellan);\n\n      this.$element = element;\n      this.options = $.extend({}, Magellan.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Magellan');\n    }\n\n    /**\n     * Initializes the Magellan plugin and calls functions to get equalizer functioning on load.\n     * @private\n     */\n\n\n    _createClass(Magellan, [{\n      key: '_init',\n      value: function _init() {\n        var id = this.$element[0].id || Foundation.GetYoDigits(6, 'magellan');\n        var _this = this;\n        this.$targets = $('[data-magellan-target]');\n        this.$links = this.$element.find('a');\n        this.$element.attr({\n          'data-resize': id,\n          'data-scroll': id,\n          'id': id\n        });\n        this.$active = $();\n        this.scrollPos = parseInt(window.pageYOffset, 10);\n\n        this._events();\n      }\n\n      /**\n       * Calculates an array of pixel values that are the demarcation lines between locations on the page.\n       * Can be invoked if new elements are added or the size of a location changes.\n       * @function\n       */\n\n    }, {\n      key: 'calcPoints',\n      value: function calcPoints() {\n        var _this = this,\n            body = document.body,\n            html = document.documentElement;\n\n        this.points = [];\n        this.winHeight = Math.round(Math.max(window.innerHeight, html.clientHeight));\n        this.docHeight = Math.round(Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight));\n\n        this.$targets.each(function () {\n          var $tar = $(this),\n              pt = Math.round($tar.offset().top - _this.options.threshold);\n          $tar.targetPoint = pt;\n          _this.points.push(pt);\n        });\n      }\n\n      /**\n       * Initializes events for Magellan.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this,\n            $body = $('html, body'),\n            opts = {\n          duration: _this.options.animationDuration,\n          easing: _this.options.animationEasing\n        };\n        $(window).one('load', function () {\n          if (_this.options.deepLinking) {\n            if (location.hash) {\n              _this.scrollToLoc(location.hash);\n            }\n          }\n          _this.calcPoints();\n          _this._updateActive();\n        });\n\n        this.$element.on({\n          'resizeme.zf.trigger': this.reflow.bind(this),\n          'scrollme.zf.trigger': this._updateActive.bind(this)\n        }).on('click.zf.magellan', 'a[href^=\"#\"]', function (e) {\n          e.preventDefault();\n          var arrival = this.getAttribute('href');\n          _this.scrollToLoc(arrival);\n        });\n      }\n\n      /**\n       * Function to scroll to a given location on the page.\n       * @param {String} loc - a properly formatted jQuery id selector. Example: '#foo'\n       * @function\n       */\n\n    }, {\n      key: 'scrollToLoc',\n      value: function scrollToLoc(loc) {\n        var scrollPos = Math.round($(loc).offset().top - this.options.threshold / 2 - this.options.barOffset);\n\n        $('html, body').stop(true).animate({ scrollTop: scrollPos }, this.options.animationDuration, this.options.animationEasing);\n      }\n\n      /**\n       * Calls necessary functions to update Magellan upon DOM change\n       * @function\n       */\n\n    }, {\n      key: 'reflow',\n      value: function reflow() {\n        this.calcPoints();\n        this._updateActive();\n      }\n\n      /**\n       * Updates the visibility of an active location link, and updates the url hash for the page, if deepLinking enabled.\n       * @private\n       * @function\n       * @fires Magellan#update\n       */\n\n    }, {\n      key: '_updateActive',\n      value: function _updateActive() /*evt, elem, scrollPos*/{\n        var winPos = /*scrollPos ||*/parseInt(window.pageYOffset, 10),\n            curIdx;\n\n        if (winPos + this.winHeight === this.docHeight) {\n          curIdx = this.points.length - 1;\n        } else if (winPos < this.points[0]) {\n          curIdx = 0;\n        } else {\n          var isDown = this.scrollPos < winPos,\n              _this = this,\n              curVisible = this.points.filter(function (p, i) {\n            return isDown ? p - _this.options.barOffset <= winPos : p - _this.options.barOffset - _this.options.threshold <= winPos;\n          });\n          curIdx = curVisible.length ? curVisible.length - 1 : 0;\n        }\n\n        this.$active.removeClass(this.options.activeClass);\n        this.$active = this.$links.eq(curIdx).addClass(this.options.activeClass);\n\n        if (this.options.deepLinking) {\n          var hash = this.$active[0].getAttribute('href');\n          if (window.history.pushState) {\n            window.history.pushState(null, null, hash);\n          } else {\n            window.location.hash = hash;\n          }\n        }\n\n        this.scrollPos = winPos;\n        /**\n         * Fires when magellan is finished updating to the new active element.\n         * @event Magellan#update\n         */\n        this.$element.trigger('update.zf.magellan', [this.$active]);\n      }\n\n      /**\n       * Destroys an instance of Magellan and resets the url of the window.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.off('.zf.trigger .zf.magellan').find('.' + this.options.activeClass).removeClass(this.options.activeClass);\n\n        if (this.options.deepLinking) {\n          var hash = this.$active[0].getAttribute('href');\n          window.location.hash.replace(hash, '');\n        }\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Magellan;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n\n  Magellan.defaults = {\n    /**\n     * Amount of time, in ms, the animated scrolling should take between locations.\n     * @option\n     * @example 500\n     */\n    animationDuration: 500,\n    /**\n     * Animation style to use when scrolling between locations.\n     * @option\n     * @example 'ease-in-out'\n     */\n    animationEasing: 'linear',\n    /**\n     * Number of pixels to use as a marker for location changes.\n     * @option\n     * @example 50\n     */\n    threshold: 50,\n    /**\n     * Class applied to the active locations link on the magellan container.\n     * @option\n     * @example 'active'\n     */\n    activeClass: 'active',\n    /**\n     * Allows the script to manipulate the url of the current page, and if supported, alter the history.\n     * @option\n     * @example true\n     */\n    deepLinking: false,\n    /**\n     * Number of pixels to offset the scroll of the page on item click if using a sticky nav bar.\n     * @option\n     * @example 25\n     */\n    barOffset: 0\n  };\n\n  // Window exports\n  Foundation.plugin(Magellan, 'Magellan');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * OffCanvas module.\n   * @module foundation.offcanvas\n   * @requires foundation.util.mediaQuery\n   * @requires foundation.util.triggers\n   * @requires foundation.util.motion\n   */\n\n  var OffCanvas = function () {\n    /**\n     * Creates a new instance of an off-canvas wrapper.\n     * @class\n     * @fires OffCanvas#init\n     * @param {Object} element - jQuery object to initialize.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function OffCanvas(element, options) {\n      _classCallCheck(this, OffCanvas);\n\n      this.$element = element;\n      this.options = $.extend({}, OffCanvas.defaults, this.$element.data(), options);\n      this.$lastTrigger = $();\n      this.$triggers = $();\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'OffCanvas');\n    }\n\n    /**\n     * Initializes the off-canvas wrapper by adding the exit overlay (if needed).\n     * @function\n     * @private\n     */\n\n\n    _createClass(OffCanvas, [{\n      key: '_init',\n      value: function _init() {\n        var id = this.$element.attr('id');\n\n        this.$element.attr('aria-hidden', 'true');\n\n        // Find triggers that affect this element and add aria-expanded to them\n        this.$triggers = $(document).find('[data-open=\"' + id + '\"], [data-close=\"' + id + '\"], [data-toggle=\"' + id + '\"]').attr('aria-expanded', 'false').attr('aria-controls', id);\n\n        // Add a close trigger over the body if necessary\n        if (this.options.closeOnClick) {\n          if ($('.js-off-canvas-exit').length) {\n            this.$exiter = $('.js-off-canvas-exit');\n          } else {\n            var exiter = document.createElement('div');\n            exiter.setAttribute('class', 'js-off-canvas-exit');\n            $('[data-off-canvas-content]').append(exiter);\n\n            this.$exiter = $(exiter);\n          }\n        }\n\n        this.options.isRevealed = this.options.isRevealed || new RegExp(this.options.revealClass, 'g').test(this.$element[0].className);\n\n        if (this.options.isRevealed) {\n          this.options.revealOn = this.options.revealOn || this.$element[0].className.match(/(reveal-for-medium|reveal-for-large)/g)[0].split('-')[2];\n          this._setMQChecker();\n        }\n        if (!this.options.transitionTime) {\n          this.options.transitionTime = parseFloat(window.getComputedStyle($('[data-off-canvas-wrapper]')[0]).transitionDuration) * 1000;\n        }\n      }\n\n      /**\n       * Adds event handlers to the off-canvas wrapper and the exit overlay.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        this.$element.off('.zf.trigger .zf.offcanvas').on({\n          'open.zf.trigger': this.open.bind(this),\n          'close.zf.trigger': this.close.bind(this),\n          'toggle.zf.trigger': this.toggle.bind(this),\n          'keydown.zf.offcanvas': this._handleKeyboard.bind(this)\n        });\n\n        if (this.options.closeOnClick && this.$exiter.length) {\n          this.$exiter.on({ 'click.zf.offcanvas': this.close.bind(this) });\n        }\n      }\n\n      /**\n       * Applies event listener for elements that will reveal at certain breakpoints.\n       * @private\n       */\n\n    }, {\n      key: '_setMQChecker',\n      value: function _setMQChecker() {\n        var _this = this;\n\n        $(window).on('changed.zf.mediaquery', function () {\n          if (Foundation.MediaQuery.atLeast(_this.options.revealOn)) {\n            _this.reveal(true);\n          } else {\n            _this.reveal(false);\n          }\n        }).one('load.zf.offcanvas', function () {\n          if (Foundation.MediaQuery.atLeast(_this.options.revealOn)) {\n            _this.reveal(true);\n          }\n        });\n      }\n\n      /**\n       * Handles the revealing/hiding the off-canvas at breakpoints, not the same as open.\n       * @param {Boolean} isRevealed - true if element should be revealed.\n       * @function\n       */\n\n    }, {\n      key: 'reveal',\n      value: function reveal(isRevealed) {\n        var $closer = this.$element.find('[data-close]');\n        if (isRevealed) {\n          this.close();\n          this.isRevealed = true;\n          // if (!this.options.forceTop) {\n          //   var scrollPos = parseInt(window.pageYOffset);\n          //   this.$element[0].style.transform = 'translate(0,' + scrollPos + 'px)';\n          // }\n          // if (this.options.isSticky) { this._stick(); }\n          this.$element.off('open.zf.trigger toggle.zf.trigger');\n          if ($closer.length) {\n            $closer.hide();\n          }\n        } else {\n          this.isRevealed = false;\n          // if (this.options.isSticky || !this.options.forceTop) {\n          //   this.$element[0].style.transform = '';\n          //   $(window).off('scroll.zf.offcanvas');\n          // }\n          this.$element.on({\n            'open.zf.trigger': this.open.bind(this),\n            'toggle.zf.trigger': this.toggle.bind(this)\n          });\n          if ($closer.length) {\n            $closer.show();\n          }\n        }\n      }\n\n      /**\n       * Opens the off-canvas menu.\n       * @function\n       * @param {Object} event - Event object passed from listener.\n       * @param {jQuery} trigger - element that triggered the off-canvas to open.\n       * @fires OffCanvas#opened\n       */\n\n    }, {\n      key: 'open',\n      value: function open(event, trigger) {\n        if (this.$element.hasClass('is-open') || this.isRevealed) {\n          return;\n        }\n        var _this = this,\n            $body = $(document.body);\n\n        if (this.options.forceTop) {\n          $('body').scrollTop(0);\n        }\n        // window.pageYOffset = 0;\n\n        // if (!this.options.forceTop) {\n        //   var scrollPos = parseInt(window.pageYOffset);\n        //   this.$element[0].style.transform = 'translate(0,' + scrollPos + 'px)';\n        //   if (this.$exiter.length) {\n        //     this.$exiter[0].style.transform = 'translate(0,' + scrollPos + 'px)';\n        //   }\n        // }\n        /**\n         * Fires when the off-canvas menu opens.\n         * @event OffCanvas#opened\n         */\n        Foundation.Move(this.options.transitionTime, this.$element, function () {\n          $('[data-off-canvas-wrapper]').addClass('is-off-canvas-open is-open-' + _this.options.position);\n\n          _this.$element.addClass('is-open');\n\n          // if (_this.options.isSticky) {\n          //   _this._stick();\n          // }\n        });\n\n        this.$triggers.attr('aria-expanded', 'true');\n        this.$element.attr('aria-hidden', 'false').trigger('opened.zf.offcanvas');\n\n        if (this.options.closeOnClick) {\n          this.$exiter.addClass('is-visible');\n        }\n\n        if (trigger) {\n          this.$lastTrigger = trigger;\n        }\n\n        if (this.options.autoFocus) {\n          this.$element.one(Foundation.transitionend(this.$element), function () {\n            _this.$element.find('a, button').eq(0).focus();\n          });\n        }\n\n        if (this.options.trapFocus) {\n          $('[data-off-canvas-content]').attr('tabindex', '-1');\n          this._trapFocus();\n        }\n      }\n\n      /**\n       * Traps focus within the offcanvas on open.\n       * @private\n       */\n\n    }, {\n      key: '_trapFocus',\n      value: function _trapFocus() {\n        var focusable = Foundation.Keyboard.findFocusable(this.$element),\n            first = focusable.eq(0),\n            last = focusable.eq(-1);\n\n        focusable.off('.zf.offcanvas').on('keydown.zf.offcanvas', function (e) {\n          if (e.which === 9 || e.keycode === 9) {\n            if (e.target === last[0] && !e.shiftKey) {\n              e.preventDefault();\n              first.focus();\n            }\n            if (e.target === first[0] && e.shiftKey) {\n              e.preventDefault();\n              last.focus();\n            }\n          }\n        });\n      }\n\n      /**\n       * Allows the offcanvas to appear sticky utilizing translate properties.\n       * @private\n       */\n      // OffCanvas.prototype._stick = function() {\n      //   var elStyle = this.$element[0].style;\n      //\n      //   if (this.options.closeOnClick) {\n      //     var exitStyle = this.$exiter[0].style;\n      //   }\n      //\n      //   $(window).on('scroll.zf.offcanvas', function(e) {\n      //     console.log(e);\n      //     var pageY = window.pageYOffset;\n      //     elStyle.transform = 'translate(0,' + pageY + 'px)';\n      //     if (exitStyle !== undefined) { exitStyle.transform = 'translate(0,' + pageY + 'px)'; }\n      //   });\n      //   // this.$element.trigger('stuck.zf.offcanvas');\n      // };\n      /**\n       * Closes the off-canvas menu.\n       * @function\n       * @param {Function} cb - optional cb to fire after closure.\n       * @fires OffCanvas#closed\n       */\n\n    }, {\n      key: 'close',\n      value: function close(cb) {\n        if (!this.$element.hasClass('is-open') || this.isRevealed) {\n          return;\n        }\n\n        var _this = this;\n\n        //  Foundation.Move(this.options.transitionTime, this.$element, function() {\n        $('[data-off-canvas-wrapper]').removeClass('is-off-canvas-open is-open-' + _this.options.position);\n        _this.$element.removeClass('is-open');\n        // Foundation._reflow();\n        // });\n        this.$element.attr('aria-hidden', 'true')\n        /**\n         * Fires when the off-canvas menu opens.\n         * @event OffCanvas#closed\n         */\n        .trigger('closed.zf.offcanvas');\n        // if (_this.options.isSticky || !_this.options.forceTop) {\n        //   setTimeout(function() {\n        //     _this.$element[0].style.transform = '';\n        //     $(window).off('scroll.zf.offcanvas');\n        //   }, this.options.transitionTime);\n        // }\n        if (this.options.closeOnClick) {\n          this.$exiter.removeClass('is-visible');\n        }\n\n        this.$triggers.attr('aria-expanded', 'false');\n        if (this.options.trapFocus) {\n          $('[data-off-canvas-content]').removeAttr('tabindex');\n        }\n      }\n\n      /**\n       * Toggles the off-canvas menu open or closed.\n       * @function\n       * @param {Object} event - Event object passed from listener.\n       * @param {jQuery} trigger - element that triggered the off-canvas to open.\n       */\n\n    }, {\n      key: 'toggle',\n      value: function toggle(event, trigger) {\n        if (this.$element.hasClass('is-open')) {\n          this.close(event, trigger);\n        } else {\n          this.open(event, trigger);\n        }\n      }\n\n      /**\n       * Handles keyboard input when detected. When the escape key is pressed, the off-canvas menu closes, and focus is restored to the element that opened the menu.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_handleKeyboard',\n      value: function _handleKeyboard(event) {\n        if (event.which !== 27) return;\n\n        event.stopPropagation();\n        event.preventDefault();\n        this.close();\n        this.$lastTrigger.focus();\n      }\n\n      /**\n       * Destroys the offcanvas plugin.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.close();\n        this.$element.off('.zf.trigger .zf.offcanvas');\n        this.$exiter.off('.zf.offcanvas');\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return OffCanvas;\n  }();\n\n  OffCanvas.defaults = {\n    /**\n     * Allow the user to click outside of the menu to close it.\n     * @option\n     * @example true\n     */\n    closeOnClick: true,\n\n    /**\n     * Amount of time in ms the open and close transition requires. If none selected, pulls from body style.\n     * @option\n     * @example 500\n     */\n    transitionTime: 0,\n\n    /**\n     * Direction the offcanvas opens from. Determines class applied to body.\n     * @option\n     * @example left\n     */\n    position: 'left',\n\n    /**\n     * Force the page to scroll to top on open.\n     * @option\n     * @example true\n     */\n    forceTop: true,\n\n    /**\n     * Allow the offcanvas to remain open for certain breakpoints.\n     * @option\n     * @example false\n     */\n    isRevealed: false,\n\n    /**\n     * Breakpoint at which to reveal. JS will use a RegExp to target standard classes, if changing classnames, pass your class with the `revealClass` option.\n     * @option\n     * @example reveal-for-large\n     */\n    revealOn: null,\n\n    /**\n     * Force focus to the offcanvas on open. If true, will focus the opening trigger on close.\n     * @option\n     * @example true\n     */\n    autoFocus: true,\n\n    /**\n     * Class used to force an offcanvas to remain open. Foundation defaults for this are `reveal-for-large` & `reveal-for-medium`.\n     * @option\n     * TODO improve the regex testing for this.\n     * @example reveal-for-large\n     */\n    revealClass: 'reveal-for-',\n\n    /**\n     * Triggers optional focus trapping when opening an offcanvas. Sets tabindex of [data-off-canvas-content] to -1 for accessibility purposes.\n     * @option\n     * @example true\n     */\n    trapFocus: false\n  };\n\n  // Window exports\n  Foundation.plugin(OffCanvas, 'OffCanvas');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Orbit module.\n   * @module foundation.orbit\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   * @requires foundation.util.timerAndImageLoader\n   * @requires foundation.util.touch\n   */\n\n  var Orbit = function () {\n    /**\n    * Creates a new instance of an orbit carousel.\n    * @class\n    * @param {jQuery} element - jQuery object to make into an Orbit Carousel.\n    * @param {Object} options - Overrides to the default plugin settings.\n    */\n\n    function Orbit(element, options) {\n      _classCallCheck(this, Orbit);\n\n      this.$element = element;\n      this.options = $.extend({}, Orbit.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Orbit');\n      Foundation.Keyboard.register('Orbit', {\n        'ltr': {\n          'ARROW_RIGHT': 'next',\n          'ARROW_LEFT': 'previous'\n        },\n        'rtl': {\n          'ARROW_LEFT': 'next',\n          'ARROW_RIGHT': 'previous'\n        }\n      });\n    }\n\n    /**\n    * Initializes the plugin by creating jQuery collections, setting attributes, and starting the animation.\n    * @function\n    * @private\n    */\n\n\n    _createClass(Orbit, [{\n      key: '_init',\n      value: function _init() {\n        this.$wrapper = this.$element.find('.' + this.options.containerClass);\n        this.$slides = this.$element.find('.' + this.options.slideClass);\n        var $images = this.$element.find('img'),\n            initActive = this.$slides.filter('.is-active');\n\n        if (!initActive.length) {\n          this.$slides.eq(0).addClass('is-active');\n        }\n\n        if (!this.options.useMUI) {\n          this.$slides.addClass('no-motionui');\n        }\n\n        if ($images.length) {\n          Foundation.onImagesLoaded($images, this._prepareForOrbit.bind(this));\n        } else {\n          this._prepareForOrbit(); //hehe\n        }\n\n        if (this.options.bullets) {\n          this._loadBullets();\n        }\n\n        this._events();\n\n        if (this.options.autoPlay && this.$slides.length > 1) {\n          this.geoSync();\n        }\n\n        if (this.options.accessible) {\n          // allow wrapper to be focusable to enable arrow navigation\n          this.$wrapper.attr('tabindex', 0);\n        }\n      }\n\n      /**\n      * Creates a jQuery collection of bullets, if they are being used.\n      * @function\n      * @private\n      */\n\n    }, {\n      key: '_loadBullets',\n      value: function _loadBullets() {\n        this.$bullets = this.$element.find('.' + this.options.boxOfBullets).find('button');\n      }\n\n      /**\n      * Sets a `timer` object on the orbit, and starts the counter for the next slide.\n      * @function\n      */\n\n    }, {\n      key: 'geoSync',\n      value: function geoSync() {\n        var _this = this;\n        this.timer = new Foundation.Timer(this.$element, {\n          duration: this.options.timerDelay,\n          infinite: false\n        }, function () {\n          _this.changeSlide(true);\n        });\n        this.timer.start();\n      }\n\n      /**\n      * Sets wrapper and slide heights for the orbit.\n      * @function\n      * @private\n      */\n\n    }, {\n      key: '_prepareForOrbit',\n      value: function _prepareForOrbit() {\n        var _this = this;\n        this._setWrapperHeight(function (max) {\n          _this._setSlideHeight(max);\n        });\n      }\n\n      /**\n      * Calulates the height of each slide in the collection, and uses the tallest one for the wrapper height.\n      * @function\n      * @private\n      * @param {Function} cb - a callback function to fire when complete.\n      */\n\n    }, {\n      key: '_setWrapperHeight',\n      value: function _setWrapperHeight(cb) {\n        //rewrite this to `for` loop\n        var max = 0,\n            temp,\n            counter = 0;\n\n        this.$slides.each(function () {\n          temp = this.getBoundingClientRect().height;\n          $(this).attr('data-slide', counter);\n\n          if (counter) {\n            //if not the first slide, set css position and display property\n            $(this).css({ 'position': 'relative', 'display': 'none' });\n          }\n          max = temp > max ? temp : max;\n          counter++;\n        });\n\n        if (counter === this.$slides.length) {\n          this.$wrapper.css({ 'height': max }); //only change the wrapper height property once.\n          cb(max); //fire callback with max height dimension.\n        }\n      }\n\n      /**\n      * Sets the max-height of each slide.\n      * @function\n      * @private\n      */\n\n    }, {\n      key: '_setSlideHeight',\n      value: function _setSlideHeight(height) {\n        this.$slides.each(function () {\n          $(this).css('max-height', height);\n        });\n      }\n\n      /**\n      * Adds event listeners to basically everything within the element.\n      * @function\n      * @private\n      */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this;\n\n        //***************************************\n        //**Now using custom event - thanks to:**\n        //**      Yohai Ararat of Toronto      **\n        //***************************************\n        if (this.$slides.length > 1) {\n\n          if (this.options.swipe) {\n            this.$slides.off('swipeleft.zf.orbit swiperight.zf.orbit').on('swipeleft.zf.orbit', function (e) {\n              e.preventDefault();\n              _this.changeSlide(true);\n            }).on('swiperight.zf.orbit', function (e) {\n              e.preventDefault();\n              _this.changeSlide(false);\n            });\n          }\n          //***************************************\n\n          if (this.options.autoPlay) {\n            this.$slides.on('click.zf.orbit', function () {\n              _this.$element.data('clickedOn', _this.$element.data('clickedOn') ? false : true);\n              _this.timer[_this.$element.data('clickedOn') ? 'pause' : 'start']();\n            });\n\n            if (this.options.pauseOnHover) {\n              this.$element.on('mouseenter.zf.orbit', function () {\n                _this.timer.pause();\n              }).on('mouseleave.zf.orbit', function () {\n                if (!_this.$element.data('clickedOn')) {\n                  _this.timer.start();\n                }\n              });\n            }\n          }\n\n          if (this.options.navButtons) {\n            var $controls = this.$element.find('.' + this.options.nextClass + ', .' + this.options.prevClass);\n            $controls.attr('tabindex', 0)\n            //also need to handle enter/return and spacebar key presses\n            .on('click.zf.orbit touchend.zf.orbit', function (e) {\n              e.preventDefault();\n              _this.changeSlide($(this).hasClass(_this.options.nextClass));\n            });\n          }\n\n          if (this.options.bullets) {\n            this.$bullets.on('click.zf.orbit touchend.zf.orbit', function () {\n              if (/is-active/g.test(this.className)) {\n                return false;\n              } //if this is active, kick out of function.\n              var idx = $(this).data('slide'),\n                  ltr = idx > _this.$slides.filter('.is-active').data('slide'),\n                  $slide = _this.$slides.eq(idx);\n\n              _this.changeSlide(ltr, $slide, idx);\n            });\n          }\n\n          this.$wrapper.add(this.$bullets).on('keydown.zf.orbit', function (e) {\n            // handle keyboard event with keyboard util\n            Foundation.Keyboard.handleKey(e, 'Orbit', {\n              next: function () {\n                _this.changeSlide(true);\n              },\n              previous: function () {\n                _this.changeSlide(false);\n              },\n              handled: function () {\n                // if bullet is focused, make sure focus moves\n                if ($(e.target).is(_this.$bullets)) {\n                  _this.$bullets.filter('.is-active').focus();\n                }\n              }\n            });\n          });\n        }\n      }\n\n      /**\n      * Changes the current slide to a new one.\n      * @function\n      * @param {Boolean} isLTR - flag if the slide should move left to right.\n      * @param {jQuery} chosenSlide - the jQuery element of the slide to show next, if one is selected.\n      * @param {Number} idx - the index of the new slide in its collection, if one chosen.\n      * @fires Orbit#slidechange\n      */\n\n    }, {\n      key: 'changeSlide',\n      value: function changeSlide(isLTR, chosenSlide, idx) {\n        var $curSlide = this.$slides.filter('.is-active').eq(0);\n\n        if (/mui/g.test($curSlide[0].className)) {\n          return false;\n        } //if the slide is currently animating, kick out of the function\n\n        var $firstSlide = this.$slides.first(),\n            $lastSlide = this.$slides.last(),\n            dirIn = isLTR ? 'Right' : 'Left',\n            dirOut = isLTR ? 'Left' : 'Right',\n            _this = this,\n            $newSlide;\n\n        if (!chosenSlide) {\n          //most of the time, this will be auto played or clicked from the navButtons.\n          $newSlide = isLTR ? //if wrapping enabled, check to see if there is a `next` or `prev` sibling, if not, select the first or last slide to fill in. if wrapping not enabled, attempt to select `next` or `prev`, if there's nothing there, the function will kick out on next step. CRAZY NESTED TERNARIES!!!!!\n          this.options.infiniteWrap ? $curSlide.next('.' + this.options.slideClass).length ? $curSlide.next('.' + this.options.slideClass) : $firstSlide : $curSlide.next('.' + this.options.slideClass) : //pick next slide if moving left to right\n          this.options.infiniteWrap ? $curSlide.prev('.' + this.options.slideClass).length ? $curSlide.prev('.' + this.options.slideClass) : $lastSlide : $curSlide.prev('.' + this.options.slideClass); //pick prev slide if moving right to left\n        } else {\n            $newSlide = chosenSlide;\n          }\n\n        if ($newSlide.length) {\n          if (this.options.bullets) {\n            idx = idx || this.$slides.index($newSlide); //grab index to update bullets\n            this._updateBullets(idx);\n          }\n\n          if (this.options.useMUI) {\n            Foundation.Motion.animateIn($newSlide.addClass('is-active').css({ 'position': 'absolute', 'top': 0 }), this.options['animInFrom' + dirIn], function () {\n              $newSlide.css({ 'position': 'relative', 'display': 'block' }).attr('aria-live', 'polite');\n            });\n\n            Foundation.Motion.animateOut($curSlide.removeClass('is-active'), this.options['animOutTo' + dirOut], function () {\n              $curSlide.removeAttr('aria-live');\n              if (_this.options.autoPlay && !_this.timer.isPaused) {\n                _this.timer.restart();\n              }\n              //do stuff?\n            });\n          } else {\n              $curSlide.removeClass('is-active is-in').removeAttr('aria-live').hide();\n              $newSlide.addClass('is-active is-in').attr('aria-live', 'polite').show();\n              if (this.options.autoPlay && !this.timer.isPaused) {\n                this.timer.restart();\n              }\n            }\n          /**\n          * Triggers when the slide has finished animating in.\n          * @event Orbit#slidechange\n          */\n          this.$element.trigger('slidechange.zf.orbit', [$newSlide]);\n        }\n      }\n\n      /**\n      * Updates the active state of the bullets, if displayed.\n      * @function\n      * @private\n      * @param {Number} idx - the index of the current slide.\n      */\n\n    }, {\n      key: '_updateBullets',\n      value: function _updateBullets(idx) {\n        var $oldBullet = this.$element.find('.' + this.options.boxOfBullets).find('.is-active').removeClass('is-active').blur(),\n            span = $oldBullet.find('span:last').detach(),\n            $newBullet = this.$bullets.eq(idx).addClass('is-active').append(span);\n      }\n\n      /**\n      * Destroys the carousel and hides the element.\n      * @function\n      */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.off('.zf.orbit').find('*').off('.zf.orbit').end().hide();\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Orbit;\n  }();\n\n  Orbit.defaults = {\n    /**\n    * Tells the JS to look for and loadBullets.\n    * @option\n    * @example true\n    */\n    bullets: true,\n    /**\n    * Tells the JS to apply event listeners to nav buttons\n    * @option\n    * @example true\n    */\n    navButtons: true,\n    /**\n    * motion-ui animation class to apply\n    * @option\n    * @example 'slide-in-right'\n    */\n    animInFromRight: 'slide-in-right',\n    /**\n    * motion-ui animation class to apply\n    * @option\n    * @example 'slide-out-right'\n    */\n    animOutToRight: 'slide-out-right',\n    /**\n    * motion-ui animation class to apply\n    * @option\n    * @example 'slide-in-left'\n    *\n    */\n    animInFromLeft: 'slide-in-left',\n    /**\n    * motion-ui animation class to apply\n    * @option\n    * @example 'slide-out-left'\n    */\n    animOutToLeft: 'slide-out-left',\n    /**\n    * Allows Orbit to automatically animate on page load.\n    * @option\n    * @example true\n    */\n    autoPlay: true,\n    /**\n    * Amount of time, in ms, between slide transitions\n    * @option\n    * @example 5000\n    */\n    timerDelay: 5000,\n    /**\n    * Allows Orbit to infinitely loop through the slides\n    * @option\n    * @example true\n    */\n    infiniteWrap: true,\n    /**\n    * Allows the Orbit slides to bind to swipe events for mobile, requires an additional util library\n    * @option\n    * @example true\n    */\n    swipe: true,\n    /**\n    * Allows the timing function to pause animation on hover.\n    * @option\n    * @example true\n    */\n    pauseOnHover: true,\n    /**\n    * Allows Orbit to bind keyboard events to the slider, to animate frames with arrow keys\n    * @option\n    * @example true\n    */\n    accessible: true,\n    /**\n    * Class applied to the container of Orbit\n    * @option\n    * @example 'orbit-container'\n    */\n    containerClass: 'orbit-container',\n    /**\n    * Class applied to individual slides.\n    * @option\n    * @example 'orbit-slide'\n    */\n    slideClass: 'orbit-slide',\n    /**\n    * Class applied to the bullet container. You're welcome.\n    * @option\n    * @example 'orbit-bullets'\n    */\n    boxOfBullets: 'orbit-bullets',\n    /**\n    * Class applied to the `next` navigation button.\n    * @option\n    * @example 'orbit-next'\n    */\n    nextClass: 'orbit-next',\n    /**\n    * Class applied to the `previous` navigation button.\n    * @option\n    * @example 'orbit-previous'\n    */\n    prevClass: 'orbit-previous',\n    /**\n    * Boolean to flag the js to use motion ui classes or not. Default to true for backwards compatability.\n    * @option\n    * @example true\n    */\n    useMUI: true\n  };\n\n  // Window exports\n  Foundation.plugin(Orbit, 'Orbit');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * ResponsiveMenu module.\n   * @module foundation.responsiveMenu\n   * @requires foundation.util.triggers\n   * @requires foundation.util.mediaQuery\n   * @requires foundation.util.accordionMenu\n   * @requires foundation.util.drilldown\n   * @requires foundation.util.dropdown-menu\n   */\n\n  var ResponsiveMenu = function () {\n    /**\n     * Creates a new instance of a responsive menu.\n     * @class\n     * @fires ResponsiveMenu#init\n     * @param {jQuery} element - jQuery object to make into a dropdown menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function ResponsiveMenu(element, options) {\n      _classCallCheck(this, ResponsiveMenu);\n\n      this.$element = $(element);\n      this.rules = this.$element.data('responsive-menu');\n      this.currentMq = null;\n      this.currentPlugin = null;\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'ResponsiveMenu');\n    }\n\n    /**\n     * Initializes the Menu by parsing the classes from the 'data-ResponsiveMenu' attribute on the element.\n     * @function\n     * @private\n     */\n\n\n    _createClass(ResponsiveMenu, [{\n      key: '_init',\n      value: function _init() {\n        // The first time an Interchange plugin is initialized, this.rules is converted from a string of \"classes\" to an object of rules\n        if (typeof this.rules === 'string') {\n          var rulesTree = {};\n\n          // Parse rules from \"classes\" pulled from data attribute\n          var rules = this.rules.split(' ');\n\n          // Iterate through every rule found\n          for (var i = 0; i < rules.length; i++) {\n            var rule = rules[i].split('-');\n            var ruleSize = rule.length > 1 ? rule[0] : 'small';\n            var rulePlugin = rule.length > 1 ? rule[1] : rule[0];\n\n            if (MenuPlugins[rulePlugin] !== null) {\n              rulesTree[ruleSize] = MenuPlugins[rulePlugin];\n            }\n          }\n\n          this.rules = rulesTree;\n        }\n\n        if (!$.isEmptyObject(this.rules)) {\n          this._checkMediaQueries();\n        }\n      }\n\n      /**\n       * Initializes events for the Menu.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this;\n\n        $(window).on('changed.zf.mediaquery', function () {\n          _this._checkMediaQueries();\n        });\n        // $(window).on('resize.zf.ResponsiveMenu', function() {\n        //   _this._checkMediaQueries();\n        // });\n      }\n\n      /**\n       * Checks the current screen width against available media queries. If the media query has changed, and the plugin needed has changed, the plugins will swap out.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_checkMediaQueries',\n      value: function _checkMediaQueries() {\n        var matchedMq,\n            _this = this;\n        // Iterate through each rule and find the last matching rule\n        $.each(this.rules, function (key) {\n          if (Foundation.MediaQuery.atLeast(key)) {\n            matchedMq = key;\n          }\n        });\n\n        // No match? No dice\n        if (!matchedMq) return;\n\n        // Plugin already initialized? We good\n        if (this.currentPlugin instanceof this.rules[matchedMq].plugin) return;\n\n        // Remove existing plugin-specific CSS classes\n        $.each(MenuPlugins, function (key, value) {\n          _this.$element.removeClass(value.cssClass);\n        });\n\n        // Add the CSS class for the new plugin\n        this.$element.addClass(this.rules[matchedMq].cssClass);\n\n        // Create an instance of the new plugin\n        if (this.currentPlugin) this.currentPlugin.destroy();\n        this.currentPlugin = new this.rules[matchedMq].plugin(this.$element, {});\n      }\n\n      /**\n       * Destroys the instance of the current plugin on this element, as well as the window resize handler that switches the plugins out.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.currentPlugin.destroy();\n        $(window).off('.zf.ResponsiveMenu');\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return ResponsiveMenu;\n  }();\n\n  ResponsiveMenu.defaults = {};\n\n  // The plugin matches the plugin classes with these plugin instances.\n  var MenuPlugins = {\n    dropdown: {\n      cssClass: 'dropdown',\n      plugin: Foundation._plugins['dropdown-menu'] || null\n    },\n    drilldown: {\n      cssClass: 'drilldown',\n      plugin: Foundation._plugins['drilldown'] || null\n    },\n    accordion: {\n      cssClass: 'accordion-menu',\n      plugin: Foundation._plugins['accordion-menu'] || null\n    }\n  };\n\n  // Window exports\n  Foundation.plugin(ResponsiveMenu, 'ResponsiveMenu');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * ResponsiveToggle module.\n   * @module foundation.responsiveToggle\n   * @requires foundation.util.mediaQuery\n   */\n\n  var ResponsiveToggle = function () {\n    /**\n     * Creates a new instance of Tab Bar.\n     * @class\n     * @fires ResponsiveToggle#init\n     * @param {jQuery} element - jQuery object to attach tab bar functionality to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function ResponsiveToggle(element, options) {\n      _classCallCheck(this, ResponsiveToggle);\n\n      this.$element = $(element);\n      this.options = $.extend({}, ResponsiveToggle.defaults, this.$element.data(), options);\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'ResponsiveToggle');\n    }\n\n    /**\n     * Initializes the tab bar by finding the target element, toggling element, and running update().\n     * @function\n     * @private\n     */\n\n\n    _createClass(ResponsiveToggle, [{\n      key: '_init',\n      value: function _init() {\n        var targetID = this.$element.data('responsive-toggle');\n        if (!targetID) {\n          console.error('Your tab bar needs an ID of a Menu as the value of data-tab-bar.');\n        }\n\n        this.$targetMenu = $('#' + targetID);\n        this.$toggler = this.$element.find('[data-toggle]');\n\n        this._update();\n      }\n\n      /**\n       * Adds necessary event handlers for the tab bar to work.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this;\n\n        this._updateMqHandler = this._update.bind(this);\n\n        $(window).on('changed.zf.mediaquery', this._updateMqHandler);\n\n        this.$toggler.on('click.zf.responsiveToggle', this.toggleMenu.bind(this));\n      }\n\n      /**\n       * Checks the current media query to determine if the tab bar should be visible or hidden.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_update',\n      value: function _update() {\n        // Mobile\n        if (!Foundation.MediaQuery.atLeast(this.options.hideFor)) {\n          this.$element.show();\n          this.$targetMenu.hide();\n        }\n\n        // Desktop\n        else {\n            this.$element.hide();\n            this.$targetMenu.show();\n          }\n      }\n\n      /**\n       * Toggles the element attached to the tab bar. The toggle only happens if the screen is small enough to allow it.\n       * @function\n       * @fires ResponsiveToggle#toggled\n       */\n\n    }, {\n      key: 'toggleMenu',\n      value: function toggleMenu() {\n        if (!Foundation.MediaQuery.atLeast(this.options.hideFor)) {\n          this.$targetMenu.toggle(0);\n\n          /**\n           * Fires when the element attached to the tab bar toggles.\n           * @event ResponsiveToggle#toggled\n           */\n          this.$element.trigger('toggled.zf.responsiveToggle');\n        }\n      }\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.off('.zf.responsiveToggle');\n        this.$toggler.off('.zf.responsiveToggle');\n\n        $(window).off('changed.zf.mediaquery', this._updateMqHandler);\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return ResponsiveToggle;\n  }();\n\n  ResponsiveToggle.defaults = {\n    /**\n     * The breakpoint after which the menu is always shown, and the tab bar is hidden.\n     * @option\n     * @example 'medium'\n     */\n    hideFor: 'medium'\n  };\n\n  // Window exports\n  Foundation.plugin(ResponsiveToggle, 'ResponsiveToggle');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Reveal module.\n   * @module foundation.reveal\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.box\n   * @requires foundation.util.triggers\n   * @requires foundation.util.mediaQuery\n   * @requires foundation.util.motion if using animations\n   */\n\n  var Reveal = function () {\n    /**\n     * Creates a new instance of Reveal.\n     * @class\n     * @param {jQuery} element - jQuery object to use for the modal.\n     * @param {Object} options - optional parameters.\n     */\n\n    function Reveal(element, options) {\n      _classCallCheck(this, Reveal);\n\n      this.$element = element;\n      this.options = $.extend({}, Reveal.defaults, this.$element.data(), options);\n      this._init();\n\n      Foundation.registerPlugin(this, 'Reveal');\n      Foundation.Keyboard.register('Reveal', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ESCAPE': 'close',\n        'TAB': 'tab_forward',\n        'SHIFT_TAB': 'tab_backward'\n      });\n    }\n\n    /**\n     * Initializes the modal by adding the overlay and close buttons, (if selected).\n     * @private\n     */\n\n\n    _createClass(Reveal, [{\n      key: '_init',\n      value: function _init() {\n        this.id = this.$element.attr('id');\n        this.isActive = false;\n        this.cached = { mq: Foundation.MediaQuery.current };\n        this.isMobile = mobileSniff();\n\n        this.$anchor = $('[data-open=\"' + this.id + '\"]').length ? $('[data-open=\"' + this.id + '\"]') : $('[data-toggle=\"' + this.id + '\"]');\n        this.$anchor.attr({\n          'aria-controls': this.id,\n          'aria-haspopup': true,\n          'tabindex': 0\n        });\n\n        if (this.options.fullScreen || this.$element.hasClass('full')) {\n          this.options.fullScreen = true;\n          this.options.overlay = false;\n        }\n        if (this.options.overlay && !this.$overlay) {\n          this.$overlay = this._makeOverlay(this.id);\n        }\n\n        this.$element.attr({\n          'role': 'dialog',\n          'aria-hidden': true,\n          'data-yeti-box': this.id,\n          'data-resize': this.id\n        });\n\n        if (this.$overlay) {\n          this.$element.detach().appendTo(this.$overlay);\n        } else {\n          this.$element.detach().appendTo($('body'));\n          this.$element.addClass('without-overlay');\n        }\n        this._events();\n        if (this.options.deepLink && window.location.hash === '#' + this.id) {\n          $(window).one('load.zf.reveal', this.open.bind(this));\n        }\n      }\n\n      /**\n       * Creates an overlay div to display behind the modal.\n       * @private\n       */\n\n    }, {\n      key: '_makeOverlay',\n      value: function _makeOverlay(id) {\n        var $overlay = $('<div></div>').addClass('reveal-overlay').appendTo('body');\n        return $overlay;\n      }\n\n      /**\n       * Updates position of modal\n       * TODO:  Figure out if we actually need to cache these values or if it doesn't matter\n       * @private\n       */\n\n    }, {\n      key: '_updatePosition',\n      value: function _updatePosition() {\n        var width = this.$element.outerWidth();\n        var outerWidth = $(window).width();\n        var height = this.$element.outerHeight();\n        var outerHeight = $(window).height();\n        var left, top;\n        if (this.options.hOffset === 'auto') {\n          left = parseInt((outerWidth - width) / 2, 10);\n        } else {\n          left = parseInt(this.options.hOffset, 10);\n        }\n        if (this.options.vOffset === 'auto') {\n          if (height > outerHeight) {\n            top = parseInt(Math.min(100, outerHeight / 10), 10);\n          } else {\n            top = parseInt((outerHeight - height) / 4, 10);\n          }\n        } else {\n          top = parseInt(this.options.vOffset, 10);\n        }\n        this.$element.css({ top: top + 'px' });\n        // only worry about left if we don't have an overlay or we havea  horizontal offset,\n        // otherwise we're perfectly in the middle\n        if (!this.$overlay || this.options.hOffset !== 'auto') {\n          this.$element.css({ left: left + 'px' });\n          this.$element.css({ margin: '0px' });\n        }\n      }\n\n      /**\n       * Adds event handlers for the modal.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this2 = this;\n\n        var _this = this;\n\n        this.$element.on({\n          'open.zf.trigger': this.open.bind(this),\n          'close.zf.trigger': function (event, $element) {\n            if (event.target === _this.$element[0] || $(event.target).parents('[data-closable]')[0] === $element) {\n              // only close reveal when it's explicitly called\n              return _this2.close.apply(_this2);\n            }\n          },\n          'toggle.zf.trigger': this.toggle.bind(this),\n          'resizeme.zf.trigger': function () {\n            _this._updatePosition();\n          }\n        });\n\n        if (this.$anchor.length) {\n          this.$anchor.on('keydown.zf.reveal', function (e) {\n            if (e.which === 13 || e.which === 32) {\n              e.stopPropagation();\n              e.preventDefault();\n              _this.open();\n            }\n          });\n        }\n\n        if (this.options.closeOnClick && this.options.overlay) {\n          this.$overlay.off('.zf.reveal').on('click.zf.reveal', function (e) {\n            if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target)) {\n              return;\n            }\n            _this.close();\n          });\n        }\n        if (this.options.deepLink) {\n          $(window).on('popstate.zf.reveal:' + this.id, this._handleState.bind(this));\n        }\n      }\n\n      /**\n       * Handles modal methods on back/forward button clicks or any other event that triggers popstate.\n       * @private\n       */\n\n    }, {\n      key: '_handleState',\n      value: function _handleState(e) {\n        if (window.location.hash === '#' + this.id && !this.isActive) {\n          this.open();\n        } else {\n          this.close();\n        }\n      }\n\n      /**\n       * Opens the modal controlled by `this.$anchor`, and closes all others by default.\n       * @function\n       * @fires Reveal#closeme\n       * @fires Reveal#open\n       */\n\n    }, {\n      key: 'open',\n      value: function open() {\n        var _this3 = this;\n\n        if (this.options.deepLink) {\n          var hash = '#' + this.id;\n\n          if (window.history.pushState) {\n            window.history.pushState(null, null, hash);\n          } else {\n            window.location.hash = hash;\n          }\n        }\n\n        this.isActive = true;\n\n        // Make elements invisible, but remove display: none so we can get size and positioning\n        this.$element.css({ 'visibility': 'hidden' }).show().scrollTop(0);\n        if (this.options.overlay) {\n          this.$overlay.css({ 'visibility': 'hidden' }).show();\n        }\n\n        this._updatePosition();\n\n        this.$element.hide().css({ 'visibility': '' });\n\n        if (this.$overlay) {\n          this.$overlay.css({ 'visibility': '' }).hide();\n          if (this.$element.hasClass('fast')) {\n            this.$overlay.addClass('fast');\n          } else if (this.$element.hasClass('slow')) {\n            this.$overlay.addClass('slow');\n          }\n        }\n\n        if (!this.options.multipleOpened) {\n          /**\n           * Fires immediately before the modal opens.\n           * Closes any other modals that are currently open\n           * @event Reveal#closeme\n           */\n          this.$element.trigger('closeme.zf.reveal', this.id);\n        }\n        // Motion UI method of reveal\n        if (this.options.animationIn) {\n          var _this;\n\n          (function () {\n            var afterAnimationFocus = function () {\n              _this.$element.attr({\n                'aria-hidden': false,\n                'tabindex': -1\n              }).focus();\n              console.log('focus');\n            };\n\n            _this = _this3;\n\n            if (_this3.options.overlay) {\n              Foundation.Motion.animateIn(_this3.$overlay, 'fade-in');\n            }\n            Foundation.Motion.animateIn(_this3.$element, _this3.options.animationIn, function () {\n              _this3.focusableElements = Foundation.Keyboard.findFocusable(_this3.$element);\n              afterAnimationFocus();\n            });\n          })();\n        }\n        // jQuery method of reveal\n        else {\n            if (this.options.overlay) {\n              this.$overlay.show(0);\n            }\n            this.$element.show(this.options.showDelay);\n          }\n\n        // handle accessibility\n        this.$element.attr({\n          'aria-hidden': false,\n          'tabindex': -1\n        }).focus();\n\n        /**\n         * Fires when the modal has successfully opened.\n         * @event Reveal#open\n         */\n        this.$element.trigger('open.zf.reveal');\n\n        if (this.isMobile) {\n          this.originalScrollPos = window.pageYOffset;\n          $('html, body').addClass('is-reveal-open');\n        } else {\n          $('body').addClass('is-reveal-open');\n        }\n\n        setTimeout(function () {\n          _this3._extraHandlers();\n        }, 0);\n      }\n\n      /**\n       * Adds extra event handlers for the body and window if necessary.\n       * @private\n       */\n\n    }, {\n      key: '_extraHandlers',\n      value: function _extraHandlers() {\n        var _this = this;\n        this.focusableElements = Foundation.Keyboard.findFocusable(this.$element);\n\n        if (!this.options.overlay && this.options.closeOnClick && !this.options.fullScreen) {\n          $('body').on('click.zf.reveal', function (e) {\n            if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target)) {\n              return;\n            }\n            _this.close();\n          });\n        }\n\n        if (this.options.closeOnEsc) {\n          $(window).on('keydown.zf.reveal', function (e) {\n            Foundation.Keyboard.handleKey(e, 'Reveal', {\n              close: function () {\n                if (_this.options.closeOnEsc) {\n                  _this.close();\n                  _this.$anchor.focus();\n                }\n              }\n            });\n          });\n        }\n\n        // lock focus within modal while tabbing\n        this.$element.on('keydown.zf.reveal', function (e) {\n          var $target = $(this);\n          // handle keyboard event with keyboard util\n          Foundation.Keyboard.handleKey(e, 'Reveal', {\n            tab_forward: function () {\n              if (_this.$element.find(':focus').is(_this.focusableElements.eq(-1))) {\n                // left modal downwards, setting focus to first element\n                _this.focusableElements.eq(0).focus();\n                return true;\n              }\n              if (_this.focusableElements.length === 0) {\n                // no focusable elements inside the modal at all, prevent tabbing in general\n                return true;\n              }\n            },\n            tab_backward: function () {\n              if (_this.$element.find(':focus').is(_this.focusableElements.eq(0)) || _this.$element.is(':focus')) {\n                // left modal upwards, setting focus to last element\n                _this.focusableElements.eq(-1).focus();\n                return true;\n              }\n              if (_this.focusableElements.length === 0) {\n                // no focusable elements inside the modal at all, prevent tabbing in general\n                return true;\n              }\n            },\n            open: function () {\n              if (_this.$element.find(':focus').is(_this.$element.find('[data-close]'))) {\n                setTimeout(function () {\n                  // set focus back to anchor if close button has been activated\n                  _this.$anchor.focus();\n                }, 1);\n              } else if ($target.is(_this.focusableElements)) {\n                // dont't trigger if acual element has focus (i.e. inputs, links, ...)\n                _this.open();\n              }\n            },\n            close: function () {\n              if (_this.options.closeOnEsc) {\n                _this.close();\n                _this.$anchor.focus();\n              }\n            },\n            handled: function (preventDefault) {\n              if (preventDefault) {\n                e.preventDefault();\n              }\n            }\n          });\n        });\n      }\n\n      /**\n       * Closes the modal.\n       * @function\n       * @fires Reveal#closed\n       */\n\n    }, {\n      key: 'close',\n      value: function close() {\n        if (!this.isActive || !this.$element.is(':visible')) {\n          return false;\n        }\n        var _this = this;\n\n        // Motion UI method of hiding\n        if (this.options.animationOut) {\n          if (this.options.overlay) {\n            Foundation.Motion.animateOut(this.$overlay, 'fade-out', finishUp);\n          } else {\n            finishUp();\n          }\n\n          Foundation.Motion.animateOut(this.$element, this.options.animationOut);\n        }\n        // jQuery method of hiding\n        else {\n            if (this.options.overlay) {\n              this.$overlay.hide(0, finishUp);\n            } else {\n              finishUp();\n            }\n\n            this.$element.hide(this.options.hideDelay);\n          }\n\n        // Conditionals to remove extra event listeners added on open\n        if (this.options.closeOnEsc) {\n          $(window).off('keydown.zf.reveal');\n        }\n\n        if (!this.options.overlay && this.options.closeOnClick) {\n          $('body').off('click.zf.reveal');\n        }\n\n        this.$element.off('keydown.zf.reveal');\n\n        function finishUp() {\n          if (_this.isMobile) {\n            $('html, body').removeClass('is-reveal-open');\n            if (_this.originalScrollPos) {\n              $('body').scrollTop(_this.originalScrollPos);\n              _this.originalScrollPos = null;\n            }\n          } else {\n            $('body').removeClass('is-reveal-open');\n          }\n\n          _this.$element.attr('aria-hidden', true);\n\n          /**\n          * Fires when the modal is done closing.\n          * @event Reveal#closed\n          */\n          _this.$element.trigger('closed.zf.reveal');\n        }\n\n        /**\n        * Resets the modal content\n        * This prevents a running video to keep going in the background\n        */\n        if (this.options.resetOnClose) {\n          this.$element.html(this.$element.html());\n        }\n\n        this.isActive = false;\n        if (_this.options.deepLink) {\n          if (window.history.replaceState) {\n            window.history.replaceState(\"\", document.title, window.location.pathname);\n          } else {\n            window.location.hash = '';\n          }\n        }\n      }\n\n      /**\n       * Toggles the open/closed state of a modal.\n       * @function\n       */\n\n    }, {\n      key: 'toggle',\n      value: function toggle() {\n        if (this.isActive) {\n          this.close();\n        } else {\n          this.open();\n        }\n      }\n    }, {\n      key: 'destroy',\n\n\n      /**\n       * Destroys an instance of a modal.\n       * @function\n       */\n      value: function destroy() {\n        if (this.options.overlay) {\n          this.$element.appendTo($('body')); // move $element outside of $overlay to prevent error unregisterPlugin()\n          this.$overlay.hide().off().remove();\n        }\n        this.$element.hide().off();\n        this.$anchor.off('.zf');\n        $(window).off('.zf.reveal:' + this.id);\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Reveal;\n  }();\n\n  Reveal.defaults = {\n    /**\n     * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.\n     * @option\n     * @example 'slide-in-left'\n     */\n    animationIn: '',\n    /**\n     * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.\n     * @option\n     * @example 'slide-out-right'\n     */\n    animationOut: '',\n    /**\n     * Time, in ms, to delay the opening of a modal after a click if no animation used.\n     * @option\n     * @example 10\n     */\n    showDelay: 0,\n    /**\n     * Time, in ms, to delay the closing of a modal after a click if no animation used.\n     * @option\n     * @example 10\n     */\n    hideDelay: 0,\n    /**\n     * Allows a click on the body/overlay to close the modal.\n     * @option\n     * @example true\n     */\n    closeOnClick: true,\n    /**\n     * Allows the modal to close if the user presses the `ESCAPE` key.\n     * @option\n     * @example true\n     */\n    closeOnEsc: true,\n    /**\n     * If true, allows multiple modals to be displayed at once.\n     * @option\n     * @example false\n     */\n    multipleOpened: false,\n    /**\n     * Distance, in pixels, the modal should push down from the top of the screen.\n     * @option\n     * @example auto\n     */\n    vOffset: 'auto',\n    /**\n     * Distance, in pixels, the modal should push in from the side of the screen.\n     * @option\n     * @example auto\n     */\n    hOffset: 'auto',\n    /**\n     * Allows the modal to be fullscreen, completely blocking out the rest of the view. JS checks for this as well.\n     * @option\n     * @example false\n     */\n    fullScreen: false,\n    /**\n     * Percentage of screen height the modal should push up from the bottom of the view.\n     * @option\n     * @example 10\n     */\n    btmOffsetPct: 10,\n    /**\n     * Allows the modal to generate an overlay div, which will cover the view when modal opens.\n     * @option\n     * @example true\n     */\n    overlay: true,\n    /**\n     * Allows the modal to remove and reinject markup on close. Should be true if using video elements w/o using provider's api, otherwise, videos will continue to play in the background.\n     * @option\n     * @example false\n     */\n    resetOnClose: false,\n    /**\n     * Allows the modal to alter the url on open/close, and allows the use of the `back` button to close modals. ALSO, allows a modal to auto-maniacally open on page load IF the hash === the modal's user-set id.\n     * @option\n     * @example false\n     */\n    deepLink: false\n  };\n\n  // Window exports\n  Foundation.plugin(Reveal, 'Reveal');\n\n  function iPhoneSniff() {\n    return (/iP(ad|hone|od).*OS/.test(window.navigator.userAgent)\n    );\n  }\n\n  function androidSniff() {\n    return (/Android/.test(window.navigator.userAgent)\n    );\n  }\n\n  function mobileSniff() {\n    return iPhoneSniff() || androidSniff();\n  }\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Slider module.\n   * @module foundation.slider\n   * @requires foundation.util.motion\n   * @requires foundation.util.triggers\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.touch\n   */\n\n  var Slider = function () {\n    /**\n     * Creates a new instance of a drilldown menu.\n     * @class\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Slider(element, options) {\n      _classCallCheck(this, Slider);\n\n      this.$element = element;\n      this.options = $.extend({}, Slider.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Slider');\n      Foundation.Keyboard.register('Slider', {\n        'ltr': {\n          'ARROW_RIGHT': 'increase',\n          'ARROW_UP': 'increase',\n          'ARROW_DOWN': 'decrease',\n          'ARROW_LEFT': 'decrease',\n          'SHIFT_ARROW_RIGHT': 'increase_fast',\n          'SHIFT_ARROW_UP': 'increase_fast',\n          'SHIFT_ARROW_DOWN': 'decrease_fast',\n          'SHIFT_ARROW_LEFT': 'decrease_fast'\n        },\n        'rtl': {\n          'ARROW_LEFT': 'increase',\n          'ARROW_RIGHT': 'decrease',\n          'SHIFT_ARROW_LEFT': 'increase_fast',\n          'SHIFT_ARROW_RIGHT': 'decrease_fast'\n        }\n      });\n    }\n\n    /**\n     * Initilizes the plugin by reading/setting attributes, creating collections and setting the initial position of the handle(s).\n     * @function\n     * @private\n     */\n\n\n    _createClass(Slider, [{\n      key: '_init',\n      value: function _init() {\n        this.inputs = this.$element.find('input');\n        this.handles = this.$element.find('[data-slider-handle]');\n\n        this.$handle = this.handles.eq(0);\n        this.$input = this.inputs.length ? this.inputs.eq(0) : $('#' + this.$handle.attr('aria-controls'));\n        this.$fill = this.$element.find('[data-slider-fill]').css(this.options.vertical ? 'height' : 'width', 0);\n\n        var isDbl = false,\n            _this = this;\n        if (this.options.disabled || this.$element.hasClass(this.options.disabledClass)) {\n          this.options.disabled = true;\n          this.$element.addClass(this.options.disabledClass);\n        }\n        if (!this.inputs.length) {\n          this.inputs = $().add(this.$input);\n          this.options.binding = true;\n        }\n        this._setInitAttr(0);\n        this._events(this.$handle);\n\n        if (this.handles[1]) {\n          this.options.doubleSided = true;\n          this.$handle2 = this.handles.eq(1);\n          this.$input2 = this.inputs.length > 1 ? this.inputs.eq(1) : $('#' + this.$handle2.attr('aria-controls'));\n\n          if (!this.inputs[1]) {\n            this.inputs = this.inputs.add(this.$input2);\n          }\n          isDbl = true;\n\n          this._setHandlePos(this.$handle, this.options.initialStart, true, function () {\n\n            _this._setHandlePos(_this.$handle2, _this.options.initialEnd, true);\n          });\n          // this.$handle.triggerHandler('click.zf.slider');\n          this._setInitAttr(1);\n          this._events(this.$handle2);\n        }\n\n        if (!isDbl) {\n          this._setHandlePos(this.$handle, this.options.initialStart, true);\n        }\n      }\n\n      /**\n       * Sets the position of the selected handle and fill bar.\n       * @function\n       * @private\n       * @param {jQuery} $hndl - the selected handle to move.\n       * @param {Number} location - floating point between the start and end values of the slider bar.\n       * @param {Function} cb - callback function to fire on completion.\n       * @fires Slider#moved\n       * @fires Slider#changed\n       */\n\n    }, {\n      key: '_setHandlePos',\n      value: function _setHandlePos($hndl, location, noInvert, cb) {\n        // don't move if the slider has been disabled since its initialization\n        if (this.$element.hasClass(this.options.disabledClass)) {\n          return;\n        }\n        //might need to alter that slightly for bars that will have odd number selections.\n        location = parseFloat(location); //on input change events, convert string to number...grumble.\n\n        // prevent slider from running out of bounds, if value exceeds the limits set through options, override the value to min/max\n        if (location < this.options.start) {\n          location = this.options.start;\n        } else if (location > this.options.end) {\n          location = this.options.end;\n        }\n\n        var isDbl = this.options.doubleSided;\n\n        if (isDbl) {\n          //this block is to prevent 2 handles from crossing eachother. Could/should be improved.\n          if (this.handles.index($hndl) === 0) {\n            var h2Val = parseFloat(this.$handle2.attr('aria-valuenow'));\n            location = location >= h2Val ? h2Val - this.options.step : location;\n          } else {\n            var h1Val = parseFloat(this.$handle.attr('aria-valuenow'));\n            location = location <= h1Val ? h1Val + this.options.step : location;\n          }\n        }\n\n        //this is for single-handled vertical sliders, it adjusts the value to account for the slider being \"upside-down\"\n        //for click and drag events, it's weird due to the scale(-1, 1) css property\n        if (this.options.vertical && !noInvert) {\n          location = this.options.end - location;\n        }\n\n        var _this = this,\n            vert = this.options.vertical,\n            hOrW = vert ? 'height' : 'width',\n            lOrT = vert ? 'top' : 'left',\n            handleDim = $hndl[0].getBoundingClientRect()[hOrW],\n            elemDim = this.$element[0].getBoundingClientRect()[hOrW],\n\n        //percentage of bar min/max value based on click or drag point\n        pctOfBar = percent(location - this.options.start, this.options.end - this.options.start).toFixed(2),\n\n        //number of actual pixels to shift the handle, based on the percentage obtained above\n        pxToMove = (elemDim - handleDim) * pctOfBar,\n\n        //percentage of bar to shift the handle\n        movement = (percent(pxToMove, elemDim) * 100).toFixed(this.options.decimal);\n        //fixing the decimal value for the location number, is passed to other methods as a fixed floating-point value\n        location = parseFloat(location.toFixed(this.options.decimal));\n        // declare empty object for css adjustments, only used with 2 handled-sliders\n        var css = {};\n\n        this._setValues($hndl, location);\n\n        // TODO update to calculate based on values set to respective inputs??\n        if (isDbl) {\n          var isLeftHndl = this.handles.index($hndl) === 0,\n\n          //empty variable, will be used for min-height/width for fill bar\n          dim,\n\n          //percentage w/h of the handle compared to the slider bar\n          handlePct = ~ ~(percent(handleDim, elemDim) * 100);\n          //if left handle, the math is slightly different than if it's the right handle, and the left/top property needs to be changed for the fill bar\n          if (isLeftHndl) {\n            //left or top percentage value to apply to the fill bar.\n            css[lOrT] = movement + '%';\n            //calculate the new min-height/width for the fill bar.\n            dim = parseFloat(this.$handle2[0].style[lOrT]) - movement + handlePct;\n            //this callback is necessary to prevent errors and allow the proper placement and initialization of a 2-handled slider\n            //plus, it means we don't care if 'dim' isNaN on init, it won't be in the future.\n            if (cb && typeof cb === 'function') {\n              cb();\n            } //this is only needed for the initialization of 2 handled sliders\n          } else {\n              //just caching the value of the left/bottom handle's left/top property\n              var handlePos = parseFloat(this.$handle[0].style[lOrT]);\n              //calculate the new min-height/width for the fill bar. Use isNaN to prevent false positives for numbers <= 0\n              //based on the percentage of movement of the handle being manipulated, less the opposing handle's left/top position, plus the percentage w/h of the handle itself\n              dim = movement - (isNaN(handlePos) ? this.options.initialStart / ((this.options.end - this.options.start) / 100) : handlePos) + handlePct;\n            }\n          // assign the min-height/width to our css object\n          css['min-' + hOrW] = dim + '%';\n        }\n\n        this.$element.one('finished.zf.animate', function () {\n          /**\n           * Fires when the handle is done moving.\n           * @event Slider#moved\n           */\n          _this.$element.trigger('moved.zf.slider', [$hndl]);\n        });\n\n        //because we don't know exactly how the handle will be moved, check the amount of time it should take to move.\n        var moveTime = this.$element.data('dragging') ? 1000 / 60 : this.options.moveTime;\n\n        Foundation.Move(moveTime, $hndl, function () {\n          //adjusting the left/top property of the handle, based on the percentage calculated above\n          $hndl.css(lOrT, movement + '%');\n\n          if (!_this.options.doubleSided) {\n            //if single-handled, a simple method to expand the fill bar\n            _this.$fill.css(hOrW, pctOfBar * 100 + '%');\n          } else {\n            //otherwise, use the css object we created above\n            _this.$fill.css(css);\n          }\n        });\n\n        /**\n         * Fires when the value has not been change for a given time.\n         * @event Slider#changed\n         */\n        clearTimeout(_this.timeout);\n        _this.timeout = setTimeout(function () {\n          _this.$element.trigger('changed.zf.slider', [$hndl]);\n        }, _this.options.changedDelay);\n      }\n\n      /**\n       * Sets the initial attribute for the slider element.\n       * @function\n       * @private\n       * @param {Number} idx - index of the current handle/input to use.\n       */\n\n    }, {\n      key: '_setInitAttr',\n      value: function _setInitAttr(idx) {\n        var id = this.inputs.eq(idx).attr('id') || Foundation.GetYoDigits(6, 'slider');\n        this.inputs.eq(idx).attr({\n          'id': id,\n          'max': this.options.end,\n          'min': this.options.start,\n          'step': this.options.step\n        });\n        this.handles.eq(idx).attr({\n          'role': 'slider',\n          'aria-controls': id,\n          'aria-valuemax': this.options.end,\n          'aria-valuemin': this.options.start,\n          'aria-valuenow': idx === 0 ? this.options.initialStart : this.options.initialEnd,\n          'aria-orientation': this.options.vertical ? 'vertical' : 'horizontal',\n          'tabindex': 0\n        });\n      }\n\n      /**\n       * Sets the input and `aria-valuenow` values for the slider element.\n       * @function\n       * @private\n       * @param {jQuery} $handle - the currently selected handle.\n       * @param {Number} val - floating point of the new value.\n       */\n\n    }, {\n      key: '_setValues',\n      value: function _setValues($handle, val) {\n        var idx = this.options.doubleSided ? this.handles.index($handle) : 0;\n        this.inputs.eq(idx).val(val);\n        $handle.attr('aria-valuenow', val);\n      }\n\n      /**\n       * Handles events on the slider element.\n       * Calculates the new location of the current handle.\n       * If there are two handles and the bar was clicked, it determines which handle to move.\n       * @function\n       * @private\n       * @param {Object} e - the `event` object passed from the listener.\n       * @param {jQuery} $handle - the current handle to calculate for, if selected.\n       * @param {Number} val - floating point number for the new value of the slider.\n       * TODO clean this up, there's a lot of repeated code between this and the _setHandlePos fn.\n       */\n\n    }, {\n      key: '_handleEvent',\n      value: function _handleEvent(e, $handle, val) {\n        var value, hasVal;\n        if (!val) {\n          //click or drag events\n          e.preventDefault();\n          var _this = this,\n              vertical = this.options.vertical,\n              param = vertical ? 'height' : 'width',\n              direction = vertical ? 'top' : 'left',\n              eventOffset = vertical ? e.pageY : e.pageX,\n              halfOfHandle = this.$handle[0].getBoundingClientRect()[param] / 2,\n              barDim = this.$element[0].getBoundingClientRect()[param],\n              windowScroll = vertical ? $(window).scrollTop() : $(window).scrollLeft();\n\n          var elemOffset = this.$element.offset()[direction];\n\n          // touch events emulated by the touch util give position relative to screen, add window.scroll to event coordinates...\n          // best way to guess this is simulated is if clientY == pageY\n          if (e.clientY === e.pageY) {\n            eventOffset = eventOffset + windowScroll;\n          }\n          var eventFromBar = eventOffset - elemOffset;\n          var barXY;\n          if (eventFromBar < 0) {\n            barXY = 0;\n          } else if (eventFromBar > barDim) {\n            barXY = barDim;\n          } else {\n            barXY = eventFromBar;\n          }\n          offsetPct = percent(barXY, barDim);\n\n          value = (this.options.end - this.options.start) * offsetPct + this.options.start;\n\n          // turn everything around for RTL, yay math!\n          if (Foundation.rtl() && !this.options.vertical) {\n            value = this.options.end - value;\n          }\n\n          value = _this._adjustValue(null, value);\n          //boolean flag for the setHandlePos fn, specifically for vertical sliders\n          hasVal = false;\n\n          if (!$handle) {\n            //figure out which handle it is, pass it to the next function.\n            var firstHndlPos = absPosition(this.$handle, direction, barXY, param),\n                secndHndlPos = absPosition(this.$handle2, direction, barXY, param);\n            $handle = firstHndlPos <= secndHndlPos ? this.$handle : this.$handle2;\n          }\n        } else {\n          //change event on input\n          value = this._adjustValue(null, val);\n          hasVal = true;\n        }\n\n        this._setHandlePos($handle, value, hasVal);\n      }\n\n      /**\n       * Adjustes value for handle in regard to step value. returns adjusted value\n       * @function\n       * @private\n       * @param {jQuery} $handle - the selected handle.\n       * @param {Number} value - value to adjust. used if $handle is falsy\n       */\n\n    }, {\n      key: '_adjustValue',\n      value: function _adjustValue($handle, value) {\n        var val,\n            step = this.options.step,\n            div = parseFloat(step / 2),\n            left,\n            prev_val,\n            next_val;\n        if (!!$handle) {\n          val = parseFloat($handle.attr('aria-valuenow'));\n        } else {\n          val = value;\n        }\n        left = val % step;\n        prev_val = val - left;\n        next_val = prev_val + step;\n        if (left === 0) {\n          return val;\n        }\n        val = val >= prev_val + div ? next_val : prev_val;\n        return val;\n      }\n\n      /**\n       * Adds event listeners to the slider elements.\n       * @function\n       * @private\n       * @param {jQuery} $handle - the current handle to apply listeners to.\n       */\n\n    }, {\n      key: '_events',\n      value: function _events($handle) {\n        var _this = this,\n            curHandle,\n            timer;\n\n        this.inputs.off('change.zf.slider').on('change.zf.slider', function (e) {\n          var idx = _this.inputs.index($(this));\n          _this._handleEvent(e, _this.handles.eq(idx), $(this).val());\n        });\n\n        if (this.options.clickSelect) {\n          this.$element.off('click.zf.slider').on('click.zf.slider', function (e) {\n            if (_this.$element.data('dragging')) {\n              return false;\n            }\n\n            if (!$(e.target).is('[data-slider-handle]')) {\n              if (_this.options.doubleSided) {\n                _this._handleEvent(e);\n              } else {\n                _this._handleEvent(e, _this.$handle);\n              }\n            }\n          });\n        }\n\n        if (this.options.draggable) {\n          this.handles.addTouch();\n\n          var $body = $('body');\n          $handle.off('mousedown.zf.slider').on('mousedown.zf.slider', function (e) {\n            $handle.addClass('is-dragging');\n            _this.$fill.addClass('is-dragging'); //\n            _this.$element.data('dragging', true);\n\n            curHandle = $(e.currentTarget);\n\n            $body.on('mousemove.zf.slider', function (e) {\n              e.preventDefault();\n              _this._handleEvent(e, curHandle);\n            }).on('mouseup.zf.slider', function (e) {\n              _this._handleEvent(e, curHandle);\n\n              $handle.removeClass('is-dragging');\n              _this.$fill.removeClass('is-dragging');\n              _this.$element.data('dragging', false);\n\n              $body.off('mousemove.zf.slider mouseup.zf.slider');\n            });\n          })\n          // prevent events triggered by touch\n          .on('selectstart.zf.slider touchmove.zf.slider', function (e) {\n            e.preventDefault();\n          });\n        }\n\n        $handle.off('keydown.zf.slider').on('keydown.zf.slider', function (e) {\n          var _$handle = $(this),\n              idx = _this.options.doubleSided ? _this.handles.index(_$handle) : 0,\n              oldValue = parseFloat(_this.inputs.eq(idx).val()),\n              newValue;\n\n          // handle keyboard event with keyboard util\n          Foundation.Keyboard.handleKey(e, 'Slider', {\n            decrease: function () {\n              newValue = oldValue - _this.options.step;\n            },\n            increase: function () {\n              newValue = oldValue + _this.options.step;\n            },\n            decrease_fast: function () {\n              newValue = oldValue - _this.options.step * 10;\n            },\n            increase_fast: function () {\n              newValue = oldValue + _this.options.step * 10;\n            },\n            handled: function () {\n              // only set handle pos when event was handled specially\n              e.preventDefault();\n              _this._setHandlePos(_$handle, newValue, true);\n            }\n          });\n          /*if (newValue) { // if pressed key has special function, update value\n            e.preventDefault();\n            _this._setHandlePos(_$handle, newValue);\n          }*/\n        });\n      }\n\n      /**\n       * Destroys the slider plugin.\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.handles.off('.zf.slider');\n        this.inputs.off('.zf.slider');\n        this.$element.off('.zf.slider');\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Slider;\n  }();\n\n  Slider.defaults = {\n    /**\n     * Minimum value for the slider scale.\n     * @option\n     * @example 0\n     */\n    start: 0,\n    /**\n     * Maximum value for the slider scale.\n     * @option\n     * @example 100\n     */\n    end: 100,\n    /**\n     * Minimum value change per change event.\n     * @option\n     * @example 1\n     */\n    step: 1,\n    /**\n     * Value at which the handle/input *(left handle/first input)* should be set to on initialization.\n     * @option\n     * @example 0\n     */\n    initialStart: 0,\n    /**\n     * Value at which the right handle/second input should be set to on initialization.\n     * @option\n     * @example 100\n     */\n    initialEnd: 100,\n    /**\n     * Allows the input to be located outside the container and visible. Set to by the JS\n     * @option\n     * @example false\n     */\n    binding: false,\n    /**\n     * Allows the user to click/tap on the slider bar to select a value.\n     * @option\n     * @example true\n     */\n    clickSelect: true,\n    /**\n     * Set to true and use the `vertical` class to change alignment to vertical.\n     * @option\n     * @example false\n     */\n    vertical: false,\n    /**\n     * Allows the user to drag the slider handle(s) to select a value.\n     * @option\n     * @example true\n     */\n    draggable: true,\n    /**\n     * Disables the slider and prevents event listeners from being applied. Double checked by JS with `disabledClass`.\n     * @option\n     * @example false\n     */\n    disabled: false,\n    /**\n     * Allows the use of two handles. Double checked by the JS. Changes some logic handling.\n     * @option\n     * @example false\n     */\n    doubleSided: false,\n    /**\n     * Potential future feature.\n     */\n    // steps: 100,\n    /**\n     * Number of decimal places the plugin should go to for floating point precision.\n     * @option\n     * @example 2\n     */\n    decimal: 2,\n    /**\n     * Time delay for dragged elements.\n     */\n    // dragDelay: 0,\n    /**\n     * Time, in ms, to animate the movement of a slider handle if user clicks/taps on the bar. Needs to be manually set if updating the transition time in the Sass settings.\n     * @option\n     * @example 200\n     */\n    moveTime: 200, //update this if changing the transition time in the sass\n    /**\n     * Class applied to disabled sliders.\n     * @option\n     * @example 'disabled'\n     */\n    disabledClass: 'disabled',\n    /**\n     * Will invert the default layout for a vertical<span data-tooltip title=\"who would do this???\"> </span>slider.\n     * @option\n     * @example false\n     */\n    invertVertical: false,\n    /**\n     * Milliseconds before the `changed.zf-slider` event is triggered after value change.\n     * @option\n     * @example 500\n     */\n    changedDelay: 500\n  };\n\n  function percent(frac, num) {\n    return frac / num;\n  }\n  function absPosition($handle, dir, clickPos, param) {\n    return Math.abs($handle.position()[dir] + $handle[param]() / 2 - clickPos);\n  }\n\n  // Window exports\n  Foundation.plugin(Slider, 'Slider');\n}(jQuery);\n\n//*********this is in case we go to static, absolute positions instead of dynamic positioning********\n// this.setSteps(function() {\n//   _this._events();\n//   var initStart = _this.options.positions[_this.options.initialStart - 1] || null;\n//   var initEnd = _this.options.initialEnd ? _this.options.position[_this.options.initialEnd - 1] : null;\n//   if (initStart || initEnd) {\n//     _this._handleEvent(initStart, initEnd);\n//   }\n// });\n\n//***********the other part of absolute positions*************\n// Slider.prototype.setSteps = function(cb) {\n//   var posChange = this.$element.outerWidth() / this.options.steps;\n//   var counter = 0\n//   while(counter < this.options.steps) {\n//     if (counter) {\n//       this.options.positions.push(this.options.positions[counter - 1] + posChange);\n//     } else {\n//       this.options.positions.push(posChange);\n//     }\n//     counter++;\n//   }\n//   cb();\n// };\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Sticky module.\n   * @module foundation.sticky\n   * @requires foundation.util.triggers\n   * @requires foundation.util.mediaQuery\n   */\n\n  var Sticky = function () {\n    /**\n     * Creates a new instance of a sticky thing.\n     * @class\n     * @param {jQuery} element - jQuery object to make sticky.\n     * @param {Object} options - options object passed when creating the element programmatically.\n     */\n\n    function Sticky(element, options) {\n      _classCallCheck(this, Sticky);\n\n      this.$element = element;\n      this.options = $.extend({}, Sticky.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Sticky');\n    }\n\n    /**\n     * Initializes the sticky element by adding classes, getting/setting dimensions, breakpoints and attributes\n     * @function\n     * @private\n     */\n\n\n    _createClass(Sticky, [{\n      key: '_init',\n      value: function _init() {\n        var $parent = this.$element.parent('[data-sticky-container]'),\n            id = this.$element[0].id || Foundation.GetYoDigits(6, 'sticky'),\n            _this = this;\n\n        if (!$parent.length) {\n          this.wasWrapped = true;\n        }\n        this.$container = $parent.length ? $parent : $(this.options.container).wrapInner(this.$element);\n        this.$container.addClass(this.options.containerClass);\n\n        this.$element.addClass(this.options.stickyClass).attr({ 'data-resize': id });\n\n        this.scrollCount = this.options.checkEvery;\n        this.isStuck = false;\n        $(window).one('load.zf.sticky', function () {\n          if (_this.options.anchor !== '') {\n            _this.$anchor = $('#' + _this.options.anchor);\n          } else {\n            _this._parsePoints();\n          }\n\n          _this._setSizes(function () {\n            _this._calc(false);\n          });\n          _this._events(id.split('-').reverse().join('-'));\n        });\n      }\n\n      /**\n       * If using multiple elements as anchors, calculates the top and bottom pixel values the sticky thing should stick and unstick on.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_parsePoints',\n      value: function _parsePoints() {\n        var top = this.options.topAnchor == \"\" ? 1 : this.options.topAnchor,\n            btm = this.options.btmAnchor == \"\" ? document.documentElement.scrollHeight : this.options.btmAnchor,\n            pts = [top, btm],\n            breaks = {};\n        for (var i = 0, len = pts.length; i < len && pts[i]; i++) {\n          var pt;\n          if (typeof pts[i] === 'number') {\n            pt = pts[i];\n          } else {\n            var place = pts[i].split(':'),\n                anchor = $('#' + place[0]);\n\n            pt = anchor.offset().top;\n            if (place[1] && place[1].toLowerCase() === 'bottom') {\n              pt += anchor[0].getBoundingClientRect().height;\n            }\n          }\n          breaks[i] = pt;\n        }\n\n        this.points = breaks;\n        return;\n      }\n\n      /**\n       * Adds event handlers for the scrolling element.\n       * @private\n       * @param {String} id - psuedo-random id for unique scroll event listener.\n       */\n\n    }, {\n      key: '_events',\n      value: function _events(id) {\n        var _this = this,\n            scrollListener = this.scrollListener = 'scroll.zf.' + id;\n        if (this.isOn) {\n          return;\n        }\n        if (this.canStick) {\n          this.isOn = true;\n          $(window).off(scrollListener).on(scrollListener, function (e) {\n            if (_this.scrollCount === 0) {\n              _this.scrollCount = _this.options.checkEvery;\n              _this._setSizes(function () {\n                _this._calc(false, window.pageYOffset);\n              });\n            } else {\n              _this.scrollCount--;\n              _this._calc(false, window.pageYOffset);\n            }\n          });\n        }\n\n        this.$element.off('resizeme.zf.trigger').on('resizeme.zf.trigger', function (e, el) {\n          _this._setSizes(function () {\n            _this._calc(false);\n            if (_this.canStick) {\n              if (!_this.isOn) {\n                _this._events(id);\n              }\n            } else if (_this.isOn) {\n              _this._pauseListeners(scrollListener);\n            }\n          });\n        });\n      }\n\n      /**\n       * Removes event handlers for scroll and change events on anchor.\n       * @fires Sticky#pause\n       * @param {String} scrollListener - unique, namespaced scroll listener attached to `window`\n       */\n\n    }, {\n      key: '_pauseListeners',\n      value: function _pauseListeners(scrollListener) {\n        this.isOn = false;\n        $(window).off(scrollListener);\n\n        /**\n         * Fires when the plugin is paused due to resize event shrinking the view.\n         * @event Sticky#pause\n         * @private\n         */\n        this.$element.trigger('pause.zf.sticky');\n      }\n\n      /**\n       * Called on every `scroll` event and on `_init`\n       * fires functions based on booleans and cached values\n       * @param {Boolean} checkSizes - true if plugin should recalculate sizes and breakpoints.\n       * @param {Number} scroll - current scroll position passed from scroll event cb function. If not passed, defaults to `window.pageYOffset`.\n       */\n\n    }, {\n      key: '_calc',\n      value: function _calc(checkSizes, scroll) {\n        if (checkSizes) {\n          this._setSizes();\n        }\n\n        if (!this.canStick) {\n          if (this.isStuck) {\n            this._removeSticky(true);\n          }\n          return false;\n        }\n\n        if (!scroll) {\n          scroll = window.pageYOffset;\n        }\n\n        if (scroll >= this.topPoint) {\n          if (scroll <= this.bottomPoint) {\n            if (!this.isStuck) {\n              this._setSticky();\n            }\n          } else {\n            if (this.isStuck) {\n              this._removeSticky(false);\n            }\n          }\n        } else {\n          if (this.isStuck) {\n            this._removeSticky(true);\n          }\n        }\n      }\n\n      /**\n       * Causes the $element to become stuck.\n       * Adds `position: fixed;`, and helper classes.\n       * @fires Sticky#stuckto\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_setSticky',\n      value: function _setSticky() {\n        var _this = this,\n            stickTo = this.options.stickTo,\n            mrgn = stickTo === 'top' ? 'marginTop' : 'marginBottom',\n            notStuckTo = stickTo === 'top' ? 'bottom' : 'top',\n            css = {};\n\n        css[mrgn] = this.options[mrgn] + 'em';\n        css[stickTo] = 0;\n        css[notStuckTo] = 'auto';\n        css['left'] = this.$container.offset().left + parseInt(window.getComputedStyle(this.$container[0])[\"padding-left\"], 10);\n        this.isStuck = true;\n        this.$element.removeClass('is-anchored is-at-' + notStuckTo).addClass('is-stuck is-at-' + stickTo).css(css)\n        /**\n         * Fires when the $element has become `position: fixed;`\n         * Namespaced to `top` or `bottom`, e.g. `sticky.zf.stuckto:top`\n         * @event Sticky#stuckto\n         */\n        .trigger('sticky.zf.stuckto:' + stickTo);\n        this.$element.on(\"transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd\", function () {\n          _this._setSizes();\n        });\n      }\n\n      /**\n       * Causes the $element to become unstuck.\n       * Removes `position: fixed;`, and helper classes.\n       * Adds other helper classes.\n       * @param {Boolean} isTop - tells the function if the $element should anchor to the top or bottom of its $anchor element.\n       * @fires Sticky#unstuckfrom\n       * @private\n       */\n\n    }, {\n      key: '_removeSticky',\n      value: function _removeSticky(isTop) {\n        var stickTo = this.options.stickTo,\n            stickToTop = stickTo === 'top',\n            css = {},\n            anchorPt = (this.points ? this.points[1] - this.points[0] : this.anchorHeight) - this.elemHeight,\n            mrgn = stickToTop ? 'marginTop' : 'marginBottom',\n            notStuckTo = stickToTop ? 'bottom' : 'top',\n            topOrBottom = isTop ? 'top' : 'bottom';\n\n        css[mrgn] = 0;\n\n        css['bottom'] = 'auto';\n        if (isTop) {\n          css['top'] = 0;\n        } else {\n          css['top'] = anchorPt;\n        }\n\n        css['left'] = '';\n        this.isStuck = false;\n        this.$element.removeClass('is-stuck is-at-' + stickTo).addClass('is-anchored is-at-' + topOrBottom).css(css)\n        /**\n         * Fires when the $element has become anchored.\n         * Namespaced to `top` or `bottom`, e.g. `sticky.zf.unstuckfrom:bottom`\n         * @event Sticky#unstuckfrom\n         */\n        .trigger('sticky.zf.unstuckfrom:' + topOrBottom);\n      }\n\n      /**\n       * Sets the $element and $container sizes for plugin.\n       * Calls `_setBreakPoints`.\n       * @param {Function} cb - optional callback function to fire on completion of `_setBreakPoints`.\n       * @private\n       */\n\n    }, {\n      key: '_setSizes',\n      value: function _setSizes(cb) {\n        this.canStick = Foundation.MediaQuery.atLeast(this.options.stickyOn);\n        if (!this.canStick) {\n          cb();\n        }\n        var _this = this,\n            newElemWidth = this.$container[0].getBoundingClientRect().width,\n            comp = window.getComputedStyle(this.$container[0]),\n            pdng = parseInt(comp['padding-right'], 10);\n\n        if (this.$anchor && this.$anchor.length) {\n          this.anchorHeight = this.$anchor[0].getBoundingClientRect().height;\n        } else {\n          this._parsePoints();\n        }\n\n        this.$element.css({\n          'max-width': newElemWidth - pdng + 'px'\n        });\n\n        var newContainerHeight = this.$element[0].getBoundingClientRect().height || this.containerHeight;\n        if (this.$element.css(\"display\") == \"none\") {\n          newContainerHeight = 0;\n        }\n        this.containerHeight = newContainerHeight;\n        this.$container.css({\n          height: newContainerHeight\n        });\n        this.elemHeight = newContainerHeight;\n\n        if (this.isStuck) {\n          this.$element.css({ \"left\": this.$container.offset().left + parseInt(comp['padding-left'], 10) });\n        }\n\n        this._setBreakPoints(newContainerHeight, function () {\n          if (cb) {\n            cb();\n          }\n        });\n      }\n\n      /**\n       * Sets the upper and lower breakpoints for the element to become sticky/unsticky.\n       * @param {Number} elemHeight - px value for sticky.$element height, calculated by `_setSizes`.\n       * @param {Function} cb - optional callback function to be called on completion.\n       * @private\n       */\n\n    }, {\n      key: '_setBreakPoints',\n      value: function _setBreakPoints(elemHeight, cb) {\n        if (!this.canStick) {\n          if (cb) {\n            cb();\n          } else {\n            return false;\n          }\n        }\n        var mTop = emCalc(this.options.marginTop),\n            mBtm = emCalc(this.options.marginBottom),\n            topPoint = this.points ? this.points[0] : this.$anchor.offset().top,\n            bottomPoint = this.points ? this.points[1] : topPoint + this.anchorHeight,\n\n        // topPoint = this.$anchor.offset().top || this.points[0],\n        // bottomPoint = topPoint + this.anchorHeight || this.points[1],\n        winHeight = window.innerHeight;\n\n        if (this.options.stickTo === 'top') {\n          topPoint -= mTop;\n          bottomPoint -= elemHeight + mTop;\n        } else if (this.options.stickTo === 'bottom') {\n          topPoint -= winHeight - (elemHeight + mBtm);\n          bottomPoint -= winHeight - mBtm;\n        } else {\n          //this would be the stickTo: both option... tricky\n        }\n\n        this.topPoint = topPoint;\n        this.bottomPoint = bottomPoint;\n\n        if (cb) {\n          cb();\n        }\n      }\n\n      /**\n       * Destroys the current sticky element.\n       * Resets the element to the top position first.\n       * Removes event listeners, JS-added css properties and classes, and unwraps the $element if the JS added the $container.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this._removeSticky(true);\n\n        this.$element.removeClass(this.options.stickyClass + ' is-anchored is-at-top').css({\n          height: '',\n          top: '',\n          bottom: '',\n          'max-width': ''\n        }).off('resizeme.zf.trigger');\n        if (this.$anchor && this.$anchor.length) {\n          this.$anchor.off('change.zf.sticky');\n        }\n        $(window).off(this.scrollListener);\n\n        if (this.wasWrapped) {\n          this.$element.unwrap();\n        } else {\n          this.$container.removeClass(this.options.containerClass).css({\n            height: ''\n          });\n        }\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Sticky;\n  }();\n\n  Sticky.defaults = {\n    /**\n     * Customizable container template. Add your own classes for styling and sizing.\n     * @option\n     * @example '&lt;div data-sticky-container class=\"small-6 columns\"&gt;&lt;/div&gt;'\n     */\n    container: '<div data-sticky-container></div>',\n    /**\n     * Location in the view the element sticks to.\n     * @option\n     * @example 'top'\n     */\n    stickTo: 'top',\n    /**\n     * If anchored to a single element, the id of that element.\n     * @option\n     * @example 'exampleId'\n     */\n    anchor: '',\n    /**\n     * If using more than one element as anchor points, the id of the top anchor.\n     * @option\n     * @example 'exampleId:top'\n     */\n    topAnchor: '',\n    /**\n     * If using more than one element as anchor points, the id of the bottom anchor.\n     * @option\n     * @example 'exampleId:bottom'\n     */\n    btmAnchor: '',\n    /**\n     * Margin, in `em`'s to apply to the top of the element when it becomes sticky.\n     * @option\n     * @example 1\n     */\n    marginTop: 1,\n    /**\n     * Margin, in `em`'s to apply to the bottom of the element when it becomes sticky.\n     * @option\n     * @example 1\n     */\n    marginBottom: 1,\n    /**\n     * Breakpoint string that is the minimum screen size an element should become sticky.\n     * @option\n     * @example 'medium'\n     */\n    stickyOn: 'medium',\n    /**\n     * Class applied to sticky element, and removed on destruction. Foundation defaults to `sticky`.\n     * @option\n     * @example 'sticky'\n     */\n    stickyClass: 'sticky',\n    /**\n     * Class applied to sticky container. Foundation defaults to `sticky-container`.\n     * @option\n     * @example 'sticky-container'\n     */\n    containerClass: 'sticky-container',\n    /**\n     * Number of scroll events between the plugin's recalculating sticky points. Setting it to `0` will cause it to recalc every scroll event, setting it to `-1` will prevent recalc on scroll.\n     * @option\n     * @example 50\n     */\n    checkEvery: -1\n  };\n\n  /**\n   * Helper function to calculate em values\n   * @param Number {em} - number of em's to calculate into pixels\n   */\n  function emCalc(em) {\n    return parseInt(window.getComputedStyle(document.body, null).fontSize, 10) * em;\n  }\n\n  // Window exports\n  Foundation.plugin(Sticky, 'Sticky');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Tabs module.\n   * @module foundation.tabs\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.timerAndImageLoader if tabs contain images\n   */\n\n  var Tabs = function () {\n    /**\n     * Creates a new instance of tabs.\n     * @class\n     * @fires Tabs#init\n     * @param {jQuery} element - jQuery object to make into tabs.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Tabs(element, options) {\n      _classCallCheck(this, Tabs);\n\n      this.$element = element;\n      this.options = $.extend({}, Tabs.defaults, this.$element.data(), options);\n\n      this._init();\n      Foundation.registerPlugin(this, 'Tabs');\n      Foundation.Keyboard.register('Tabs', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'previous',\n        'ARROW_DOWN': 'next',\n        'ARROW_LEFT': 'previous'\n        // 'TAB': 'next',\n        // 'SHIFT_TAB': 'previous'\n      });\n    }\n\n    /**\n     * Initializes the tabs by showing and focusing (if autoFocus=true) the preset active tab.\n     * @private\n     */\n\n\n    _createClass(Tabs, [{\n      key: '_init',\n      value: function _init() {\n        var _this = this;\n\n        this.$tabTitles = this.$element.find('.' + this.options.linkClass);\n        this.$tabContent = $('[data-tabs-content=\"' + this.$element[0].id + '\"]');\n\n        this.$tabTitles.each(function () {\n          var $elem = $(this),\n              $link = $elem.find('a'),\n              isActive = $elem.hasClass('is-active'),\n              hash = $link[0].hash.slice(1),\n              linkId = $link[0].id ? $link[0].id : hash + '-label',\n              $tabContent = $('#' + hash);\n\n          $elem.attr({ 'role': 'presentation' });\n\n          $link.attr({\n            'role': 'tab',\n            'aria-controls': hash,\n            'aria-selected': isActive,\n            'id': linkId\n          });\n\n          $tabContent.attr({\n            'role': 'tabpanel',\n            'aria-hidden': !isActive,\n            'aria-labelledby': linkId\n          });\n\n          if (isActive && _this.options.autoFocus) {\n            $link.focus();\n          }\n        });\n\n        if (this.options.matchHeight) {\n          var $images = this.$tabContent.find('img');\n\n          if ($images.length) {\n            Foundation.onImagesLoaded($images, this._setHeight.bind(this));\n          } else {\n            this._setHeight();\n          }\n        }\n\n        this._events();\n      }\n\n      /**\n       * Adds event handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        this._addKeyHandler();\n        this._addClickHandler();\n        this._setHeightMqHandler = null;\n\n        if (this.options.matchHeight) {\n          this._setHeightMqHandler = this._setHeight.bind(this);\n\n          $(window).on('changed.zf.mediaquery', this._setHeightMqHandler);\n        }\n      }\n\n      /**\n       * Adds click handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_addClickHandler',\n      value: function _addClickHandler() {\n        var _this = this;\n\n        this.$element.off('click.zf.tabs').on('click.zf.tabs', '.' + this.options.linkClass, function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n          if ($(this).hasClass('is-active')) {\n            return;\n          }\n          _this._handleTabChange($(this));\n        });\n      }\n\n      /**\n       * Adds keyboard event handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_addKeyHandler',\n      value: function _addKeyHandler() {\n        var _this = this;\n        var $firstTab = _this.$element.find('li:first-of-type');\n        var $lastTab = _this.$element.find('li:last-of-type');\n\n        this.$tabTitles.off('keydown.zf.tabs').on('keydown.zf.tabs', function (e) {\n          if (e.which === 9) return;\n\n          var $element = $(this),\n              $elements = $element.parent('ul').children('li'),\n              $prevElement,\n              $nextElement;\n\n          $elements.each(function (i) {\n            if ($(this).is($element)) {\n              if (_this.options.wrapOnKeys) {\n                $prevElement = i === 0 ? $elements.last() : $elements.eq(i - 1);\n                $nextElement = i === $elements.length - 1 ? $elements.first() : $elements.eq(i + 1);\n              } else {\n                $prevElement = $elements.eq(Math.max(0, i - 1));\n                $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));\n              }\n              return;\n            }\n          });\n\n          // handle keyboard event with keyboard util\n          Foundation.Keyboard.handleKey(e, 'Tabs', {\n            open: function () {\n              $element.find('[role=\"tab\"]').focus();\n              _this._handleTabChange($element);\n            },\n            previous: function () {\n              $prevElement.find('[role=\"tab\"]').focus();\n              _this._handleTabChange($prevElement);\n            },\n            next: function () {\n              $nextElement.find('[role=\"tab\"]').focus();\n              _this._handleTabChange($nextElement);\n            },\n            handled: function () {\n              e.stopPropagation();\n              e.preventDefault();\n            }\n          });\n        });\n      }\n\n      /**\n       * Opens the tab `$targetContent` defined by `$target`.\n       * @param {jQuery} $target - Tab to open.\n       * @fires Tabs#change\n       * @function\n       */\n\n    }, {\n      key: '_handleTabChange',\n      value: function _handleTabChange($target) {\n        var $tabLink = $target.find('[role=\"tab\"]'),\n            hash = $tabLink[0].hash,\n            $targetContent = this.$tabContent.find(hash),\n            $oldTab = this.$element.find('.' + this.options.linkClass + '.is-active').removeClass('is-active').find('[role=\"tab\"]').attr({ 'aria-selected': 'false' });\n\n        $('#' + $oldTab.attr('aria-controls')).removeClass('is-active').attr({ 'aria-hidden': 'true' });\n\n        $target.addClass('is-active');\n\n        $tabLink.attr({ 'aria-selected': 'true' });\n\n        $targetContent.addClass('is-active').attr({ 'aria-hidden': 'false' });\n\n        /**\n         * Fires when the plugin has successfully changed tabs.\n         * @event Tabs#change\n         */\n        this.$element.trigger('change.zf.tabs', [$target]);\n      }\n\n      /**\n       * Public method for selecting a content pane to display.\n       * @param {jQuery | String} elem - jQuery object or string of the id of the pane to display.\n       * @function\n       */\n\n    }, {\n      key: 'selectTab',\n      value: function selectTab(elem) {\n        var idStr;\n\n        if (typeof elem === 'object') {\n          idStr = elem[0].id;\n        } else {\n          idStr = elem;\n        }\n\n        if (idStr.indexOf('#') < 0) {\n          idStr = '#' + idStr;\n        }\n\n        var $target = this.$tabTitles.find('[href=\"' + idStr + '\"]').parent('.' + this.options.linkClass);\n\n        this._handleTabChange($target);\n      }\n    }, {\n      key: '_setHeight',\n\n      /**\n       * Sets the height of each panel to the height of the tallest panel.\n       * If enabled in options, gets called on media query change.\n       * If loading content via external source, can be called directly or with _reflow.\n       * @function\n       * @private\n       */\n      value: function _setHeight() {\n        var max = 0;\n        this.$tabContent.find('.' + this.options.panelClass).css('height', '').each(function () {\n          var panel = $(this),\n              isActive = panel.hasClass('is-active');\n\n          if (!isActive) {\n            panel.css({ 'visibility': 'hidden', 'display': 'block' });\n          }\n\n          var temp = this.getBoundingClientRect().height;\n\n          if (!isActive) {\n            panel.css({\n              'visibility': '',\n              'display': ''\n            });\n          }\n\n          max = temp > max ? temp : max;\n        }).css('height', max + 'px');\n      }\n\n      /**\n       * Destroys an instance of an tabs.\n       * @fires Tabs#destroyed\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.find('.' + this.options.linkClass).off('.zf.tabs').hide().end().find('.' + this.options.panelClass).hide();\n\n        if (this.options.matchHeight) {\n          if (this._setHeightMqHandler != null) {\n            $(window).off('changed.zf.mediaquery', this._setHeightMqHandler);\n          }\n        }\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Tabs;\n  }();\n\n  Tabs.defaults = {\n    /**\n     * Allows the window to scroll to content of active pane on load if set to true.\n     * @option\n     * @example false\n     */\n    autoFocus: false,\n\n    /**\n     * Allows keyboard input to 'wrap' around the tab links.\n     * @option\n     * @example true\n     */\n    wrapOnKeys: true,\n\n    /**\n     * Allows the tab content panes to match heights if set to true.\n     * @option\n     * @example false\n     */\n    matchHeight: false,\n\n    /**\n     * Class applied to `li`'s in tab link list.\n     * @option\n     * @example 'tabs-title'\n     */\n    linkClass: 'tabs-title',\n\n    /**\n     * Class applied to the content containers.\n     * @option\n     * @example 'tabs-panel'\n     */\n    panelClass: 'tabs-panel'\n  };\n\n  function checkClass($elem) {\n    return $elem.hasClass('is-active');\n  }\n\n  // Window exports\n  Foundation.plugin(Tabs, 'Tabs');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Toggler module.\n   * @module foundation.toggler\n   * @requires foundation.util.motion\n   * @requires foundation.util.triggers\n   */\n\n  var Toggler = function () {\n    /**\n     * Creates a new instance of Toggler.\n     * @class\n     * @fires Toggler#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Toggler(element, options) {\n      _classCallCheck(this, Toggler);\n\n      this.$element = element;\n      this.options = $.extend({}, Toggler.defaults, element.data(), options);\n      this.className = '';\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'Toggler');\n    }\n\n    /**\n     * Initializes the Toggler plugin by parsing the toggle class from data-toggler, or animation classes from data-animate.\n     * @function\n     * @private\n     */\n\n\n    _createClass(Toggler, [{\n      key: '_init',\n      value: function _init() {\n        var input;\n        // Parse animation classes if they were set\n        if (this.options.animate) {\n          input = this.options.animate.split(' ');\n\n          this.animationIn = input[0];\n          this.animationOut = input[1] || null;\n        }\n        // Otherwise, parse toggle class\n        else {\n            input = this.$element.data('toggler');\n            // Allow for a . at the beginning of the string\n            this.className = input[0] === '.' ? input.slice(1) : input;\n          }\n\n        // Add ARIA attributes to triggers\n        var id = this.$element[0].id;\n        $('[data-open=\"' + id + '\"], [data-close=\"' + id + '\"], [data-toggle=\"' + id + '\"]').attr('aria-controls', id);\n        // If the target is hidden, add aria-hidden\n        this.$element.attr('aria-expanded', this.$element.is(':hidden') ? false : true);\n      }\n\n      /**\n       * Initializes events for the toggle trigger.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        this.$element.off('toggle.zf.trigger').on('toggle.zf.trigger', this.toggle.bind(this));\n      }\n\n      /**\n       * Toggles the target class on the target element. An event is fired from the original trigger depending on if the resultant state was \"on\" or \"off\".\n       * @function\n       * @fires Toggler#on\n       * @fires Toggler#off\n       */\n\n    }, {\n      key: 'toggle',\n      value: function toggle() {\n        this[this.options.animate ? '_toggleAnimate' : '_toggleClass']();\n      }\n    }, {\n      key: '_toggleClass',\n      value: function _toggleClass() {\n        this.$element.toggleClass(this.className);\n\n        var isOn = this.$element.hasClass(this.className);\n        if (isOn) {\n          /**\n           * Fires if the target element has the class after a toggle.\n           * @event Toggler#on\n           */\n          this.$element.trigger('on.zf.toggler');\n        } else {\n          /**\n           * Fires if the target element does not have the class after a toggle.\n           * @event Toggler#off\n           */\n          this.$element.trigger('off.zf.toggler');\n        }\n\n        this._updateARIA(isOn);\n      }\n    }, {\n      key: '_toggleAnimate',\n      value: function _toggleAnimate() {\n        var _this = this;\n\n        if (this.$element.is(':hidden')) {\n          Foundation.Motion.animateIn(this.$element, this.animationIn, function () {\n            _this._updateARIA(true);\n            this.trigger('on.zf.toggler');\n          });\n        } else {\n          Foundation.Motion.animateOut(this.$element, this.animationOut, function () {\n            _this._updateARIA(false);\n            this.trigger('off.zf.toggler');\n          });\n        }\n      }\n    }, {\n      key: '_updateARIA',\n      value: function _updateARIA(isOn) {\n        this.$element.attr('aria-expanded', isOn ? true : false);\n      }\n\n      /**\n       * Destroys the instance of Toggler on the element.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.off('.zf.toggler');\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Toggler;\n  }();\n\n  Toggler.defaults = {\n    /**\n     * Tells the plugin if the element should animated when toggled.\n     * @option\n     * @example false\n     */\n    animate: false\n  };\n\n  // Window exports\n  Foundation.plugin(Toggler, 'Toggler');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Tooltip module.\n   * @module foundation.tooltip\n   * @requires foundation.util.box\n   * @requires foundation.util.triggers\n   */\n\n  var Tooltip = function () {\n    /**\n     * Creates a new instance of a Tooltip.\n     * @class\n     * @fires Tooltip#init\n     * @param {jQuery} element - jQuery object to attach a tooltip to.\n     * @param {Object} options - object to extend the default configuration.\n     */\n\n    function Tooltip(element, options) {\n      _classCallCheck(this, Tooltip);\n\n      this.$element = element;\n      this.options = $.extend({}, Tooltip.defaults, this.$element.data(), options);\n\n      this.isActive = false;\n      this.isClick = false;\n      this._init();\n\n      Foundation.registerPlugin(this, 'Tooltip');\n    }\n\n    /**\n     * Initializes the tooltip by setting the creating the tip element, adding it's text, setting private variables and setting attributes on the anchor.\n     * @private\n     */\n\n\n    _createClass(Tooltip, [{\n      key: '_init',\n      value: function _init() {\n        var elemId = this.$element.attr('aria-describedby') || Foundation.GetYoDigits(6, 'tooltip');\n\n        this.options.positionClass = this.options.positionClass || this._getPositionClass(this.$element);\n        this.options.tipText = this.options.tipText || this.$element.attr('title');\n        this.template = this.options.template ? $(this.options.template) : this._buildTemplate(elemId);\n\n        this.template.appendTo(document.body).text(this.options.tipText).hide();\n\n        this.$element.attr({\n          'title': '',\n          'aria-describedby': elemId,\n          'data-yeti-box': elemId,\n          'data-toggle': elemId,\n          'data-resize': elemId\n        }).addClass(this.triggerClass);\n\n        //helper variables to track movement on collisions\n        this.usedPositions = [];\n        this.counter = 4;\n        this.classChanged = false;\n\n        this._events();\n      }\n\n      /**\n       * Grabs the current positioning class, if present, and returns the value or an empty string.\n       * @private\n       */\n\n    }, {\n      key: '_getPositionClass',\n      value: function _getPositionClass(element) {\n        if (!element) {\n          return '';\n        }\n        // var position = element.attr('class').match(/top|left|right/g);\n        var position = element[0].className.match(/\\b(top|left|right)\\b/g);\n        position = position ? position[0] : '';\n        return position;\n      }\n    }, {\n      key: '_buildTemplate',\n\n      /**\n       * builds the tooltip element, adds attributes, and returns the template.\n       * @private\n       */\n      value: function _buildTemplate(id) {\n        var templateClasses = (this.options.tooltipClass + ' ' + this.options.positionClass + ' ' + this.options.templateClasses).trim();\n        var $template = $('<div></div>').addClass(templateClasses).attr({\n          'role': 'tooltip',\n          'aria-hidden': true,\n          'data-is-active': false,\n          'data-is-focus': false,\n          'id': id\n        });\n        return $template;\n      }\n\n      /**\n       * Function that gets called if a collision event is detected.\n       * @param {String} position - positioning class to try\n       * @private\n       */\n\n    }, {\n      key: '_reposition',\n      value: function _reposition(position) {\n        this.usedPositions.push(position ? position : 'bottom');\n\n        //default, try switching to opposite side\n        if (!position && this.usedPositions.indexOf('top') < 0) {\n          this.template.addClass('top');\n        } else if (position === 'top' && this.usedPositions.indexOf('bottom') < 0) {\n          this.template.removeClass(position);\n        } else if (position === 'left' && this.usedPositions.indexOf('right') < 0) {\n          this.template.removeClass(position).addClass('right');\n        } else if (position === 'right' && this.usedPositions.indexOf('left') < 0) {\n          this.template.removeClass(position).addClass('left');\n        }\n\n        //if default change didn't work, try bottom or left first\n        else if (!position && this.usedPositions.indexOf('top') > -1 && this.usedPositions.indexOf('left') < 0) {\n            this.template.addClass('left');\n          } else if (position === 'top' && this.usedPositions.indexOf('bottom') > -1 && this.usedPositions.indexOf('left') < 0) {\n            this.template.removeClass(position).addClass('left');\n          } else if (position === 'left' && this.usedPositions.indexOf('right') > -1 && this.usedPositions.indexOf('bottom') < 0) {\n            this.template.removeClass(position);\n          } else if (position === 'right' && this.usedPositions.indexOf('left') > -1 && this.usedPositions.indexOf('bottom') < 0) {\n            this.template.removeClass(position);\n          }\n          //if nothing cleared, set to bottom\n          else {\n              this.template.removeClass(position);\n            }\n        this.classChanged = true;\n        this.counter--;\n      }\n\n      /**\n       * sets the position class of an element and recursively calls itself until there are no more possible positions to attempt, or the tooltip element is no longer colliding.\n       * if the tooltip is larger than the screen width, default to full width - any user selected margin\n       * @private\n       */\n\n    }, {\n      key: '_setPosition',\n      value: function _setPosition() {\n        var position = this._getPositionClass(this.template),\n            $tipDims = Foundation.Box.GetDimensions(this.template),\n            $anchorDims = Foundation.Box.GetDimensions(this.$element),\n            direction = position === 'left' ? 'left' : position === 'right' ? 'left' : 'top',\n            param = direction === 'top' ? 'height' : 'width',\n            offset = param === 'height' ? this.options.vOffset : this.options.hOffset,\n            _this = this;\n\n        if ($tipDims.width >= $tipDims.windowDims.width || !this.counter && !Foundation.Box.ImNotTouchingYou(this.template)) {\n          this.template.offset(Foundation.Box.GetOffsets(this.template, this.$element, 'center bottom', this.options.vOffset, this.options.hOffset, true)).css({\n            // this.$element.offset(Foundation.GetOffsets(this.template, this.$element, 'center bottom', this.options.vOffset, this.options.hOffset, true)).css({\n            'width': $anchorDims.windowDims.width - this.options.hOffset * 2,\n            'height': 'auto'\n          });\n          return false;\n        }\n\n        this.template.offset(Foundation.Box.GetOffsets(this.template, this.$element, 'center ' + (position || 'bottom'), this.options.vOffset, this.options.hOffset));\n\n        while (!Foundation.Box.ImNotTouchingYou(this.template) && this.counter) {\n          this._reposition(position);\n          this._setPosition();\n        }\n      }\n\n      /**\n       * reveals the tooltip, and fires an event to close any other open tooltips on the page\n       * @fires Tooltip#closeme\n       * @fires Tooltip#show\n       * @function\n       */\n\n    }, {\n      key: 'show',\n      value: function show() {\n        if (this.options.showOn !== 'all' && !Foundation.MediaQuery.atLeast(this.options.showOn)) {\n          // console.error('The screen is too small to display this tooltip');\n          return false;\n        }\n\n        var _this = this;\n        this.template.css('visibility', 'hidden').show();\n        this._setPosition();\n\n        /**\n         * Fires to close all other open tooltips on the page\n         * @event Closeme#tooltip\n         */\n        this.$element.trigger('closeme.zf.tooltip', this.template.attr('id'));\n\n        this.template.attr({\n          'data-is-active': true,\n          'aria-hidden': false\n        });\n        _this.isActive = true;\n        // console.log(this.template);\n        this.template.stop().hide().css('visibility', '').fadeIn(this.options.fadeInDuration, function () {\n          //maybe do stuff?\n        });\n        /**\n         * Fires when the tooltip is shown\n         * @event Tooltip#show\n         */\n        this.$element.trigger('show.zf.tooltip');\n      }\n\n      /**\n       * Hides the current tooltip, and resets the positioning class if it was changed due to collision\n       * @fires Tooltip#hide\n       * @function\n       */\n\n    }, {\n      key: 'hide',\n      value: function hide() {\n        // console.log('hiding', this.$element.data('yeti-box'));\n        var _this = this;\n        this.template.stop().attr({\n          'aria-hidden': true,\n          'data-is-active': false\n        }).fadeOut(this.options.fadeOutDuration, function () {\n          _this.isActive = false;\n          _this.isClick = false;\n          if (_this.classChanged) {\n            _this.template.removeClass(_this._getPositionClass(_this.template)).addClass(_this.options.positionClass);\n\n            _this.usedPositions = [];\n            _this.counter = 4;\n            _this.classChanged = false;\n          }\n        });\n        /**\n         * fires when the tooltip is hidden\n         * @event Tooltip#hide\n         */\n        this.$element.trigger('hide.zf.tooltip');\n      }\n\n      /**\n       * adds event listeners for the tooltip and its anchor\n       * TODO combine some of the listeners like focus and mouseenter, etc.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this;\n        var $template = this.template;\n        var isFocus = false;\n\n        if (!this.options.disableHover) {\n\n          this.$element.on('mouseenter.zf.tooltip', function (e) {\n            if (!_this.isActive) {\n              _this.timeout = setTimeout(function () {\n                _this.show();\n              }, _this.options.hoverDelay);\n            }\n          }).on('mouseleave.zf.tooltip', function (e) {\n            clearTimeout(_this.timeout);\n            if (!isFocus || _this.isClick && !_this.options.clickOpen) {\n              _this.hide();\n            }\n          });\n        }\n\n        if (this.options.clickOpen) {\n          this.$element.on('mousedown.zf.tooltip', function (e) {\n            e.stopImmediatePropagation();\n            if (_this.isClick) {\n              //_this.hide();\n              // _this.isClick = false;\n            } else {\n                _this.isClick = true;\n                if ((_this.options.disableHover || !_this.$element.attr('tabindex')) && !_this.isActive) {\n                  _this.show();\n                }\n              }\n          });\n        } else {\n          this.$element.on('mousedown.zf.tooltip', function (e) {\n            e.stopImmediatePropagation();\n            _this.isClick = true;\n          });\n        }\n\n        if (!this.options.disableForTouch) {\n          this.$element.on('tap.zf.tooltip touchend.zf.tooltip', function (e) {\n            _this.isActive ? _this.hide() : _this.show();\n          });\n        }\n\n        this.$element.on({\n          // 'toggle.zf.trigger': this.toggle.bind(this),\n          // 'close.zf.trigger': this.hide.bind(this)\n          'close.zf.trigger': this.hide.bind(this)\n        });\n\n        this.$element.on('focus.zf.tooltip', function (e) {\n          isFocus = true;\n          if (_this.isClick) {\n            // If we're not showing open on clicks, we need to pretend a click-launched focus isn't\n            // a real focus, otherwise on hover and come back we get bad behavior\n            if (!_this.options.clickOpen) {\n              isFocus = false;\n            }\n            return false;\n          } else {\n            _this.show();\n          }\n        }).on('focusout.zf.tooltip', function (e) {\n          isFocus = false;\n          _this.isClick = false;\n          _this.hide();\n        }).on('resizeme.zf.trigger', function () {\n          if (_this.isActive) {\n            _this._setPosition();\n          }\n        });\n      }\n\n      /**\n       * adds a toggle method, in addition to the static show() & hide() functions\n       * @function\n       */\n\n    }, {\n      key: 'toggle',\n      value: function toggle() {\n        if (this.isActive) {\n          this.hide();\n        } else {\n          this.show();\n        }\n      }\n\n      /**\n       * Destroys an instance of tooltip, removes template element from the view.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.attr('title', this.template.text()).off('.zf.trigger .zf.tootip')\n        //  .removeClass('has-tip')\n        .removeAttr('aria-describedby').removeAttr('data-yeti-box').removeAttr('data-toggle').removeAttr('data-resize');\n\n        this.template.remove();\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Tooltip;\n  }();\n\n  Tooltip.defaults = {\n    disableForTouch: false,\n    /**\n     * Time, in ms, before a tooltip should open on hover.\n     * @option\n     * @example 200\n     */\n    hoverDelay: 200,\n    /**\n     * Time, in ms, a tooltip should take to fade into view.\n     * @option\n     * @example 150\n     */\n    fadeInDuration: 150,\n    /**\n     * Time, in ms, a tooltip should take to fade out of view.\n     * @option\n     * @example 150\n     */\n    fadeOutDuration: 150,\n    /**\n     * Disables hover events from opening the tooltip if set to true\n     * @option\n     * @example false\n     */\n    disableHover: false,\n    /**\n     * Optional addtional classes to apply to the tooltip template on init.\n     * @option\n     * @example 'my-cool-tip-class'\n     */\n    templateClasses: '',\n    /**\n     * Non-optional class added to tooltip templates. Foundation default is 'tooltip'.\n     * @option\n     * @example 'tooltip'\n     */\n    tooltipClass: 'tooltip',\n    /**\n     * Class applied to the tooltip anchor element.\n     * @option\n     * @example 'has-tip'\n     */\n    triggerClass: 'has-tip',\n    /**\n     * Minimum breakpoint size at which to open the tooltip.\n     * @option\n     * @example 'small'\n     */\n    showOn: 'small',\n    /**\n     * Custom template to be used to generate markup for tooltip.\n     * @option\n     * @example '&lt;div class=\"tooltip\"&gt;&lt;/div&gt;'\n     */\n    template: '',\n    /**\n     * Text displayed in the tooltip template on open.\n     * @option\n     * @example 'Some cool space fact here.'\n     */\n    tipText: '',\n    touchCloseText: 'Tap to close.',\n    /**\n     * Allows the tooltip to remain open if triggered with a click or touch event.\n     * @option\n     * @example true\n     */\n    clickOpen: true,\n    /**\n     * Additional positioning classes, set by the JS\n     * @option\n     * @example 'top'\n     */\n    positionClass: '',\n    /**\n     * Distance, in pixels, the template should push away from the anchor on the Y axis.\n     * @option\n     * @example 10\n     */\n    vOffset: 10,\n    /**\n     * Distance, in pixels, the template should push away from the anchor on the X axis, if aligned to a side.\n     * @option\n     * @example 12\n     */\n    hOffset: 12\n  };\n\n  /**\n   * TODO utilize resize event trigger\n   */\n\n  // Window exports\n  Foundation.plugin(Tooltip, 'Tooltip');\n}(jQuery);"]},"hash":"4c80efea30b8fcc2bccea311284dc5ca26178b1c"}
