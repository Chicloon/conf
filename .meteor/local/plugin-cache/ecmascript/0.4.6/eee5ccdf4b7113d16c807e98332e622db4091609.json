{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.util.motion.js","filenameRelative":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.util.motion.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.util.motion.js.map","sourceFileName":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.util.motion.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"foundation.util.motion"},"ignored":false,"code":"'use strict';\n\n!function ($) {\n\n  /**\n   * Motion module.\n   * @module foundation.motion\n   */\n\n  var initClasses = ['mui-enter', 'mui-leave'];\n  var activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\n  var Motion = {\n    animateIn: function () {\n      function animateIn(element, animation, cb) {\n        animate(true, element, animation, cb);\n      }\n\n      return animateIn;\n    }(),\n\n    animateOut: function () {\n      function animateOut(element, animation, cb) {\n        animate(false, element, animation, cb);\n      }\n\n      return animateOut;\n    }()\n  };\n\n  function Move(duration, elem, fn) {\n    var anim,\n        prog,\n        start = null;\n    // console.log('called');\n\n    function move(ts) {\n      if (!start) start = window.performance.now();\n      // console.log(start, ts);\n      prog = ts - start;\n      fn.apply(elem);\n\n      if (prog < duration) {\n        anim = window.requestAnimationFrame(move, elem);\n      } else {\n        window.cancelAnimationFrame(anim);\n        elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n      }\n    }\n    anim = window.requestAnimationFrame(move);\n  }\n\n  /**\n   * Animates an element in or out using a CSS transition class.\n   * @function\n   * @private\n   * @param {Boolean} isIn - Defines if the animation is in or out.\n   * @param {Object} element - jQuery or HTML object to animate.\n   * @param {String} animation - CSS class to use.\n   * @param {Function} cb - Callback to run when animation is finished.\n   */\n  function animate(isIn, element, animation, cb) {\n    element = $(element).eq(0);\n\n    if (!element.length) return;\n\n    var initClass = isIn ? initClasses[0] : initClasses[1];\n    var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n    // Set up the animation\n    reset();\n\n    element.addClass(animation).css('transition', 'none');\n\n    requestAnimationFrame(function () {\n      element.addClass(initClass);\n      if (isIn) element.show();\n    });\n\n    // Start the animation\n    requestAnimationFrame(function () {\n      element[0].offsetWidth;\n      element.css('transition', '').addClass(activeClass);\n    });\n\n    // Clean up the animation when it finishes\n    element.one(Foundation.transitionend(element), finish);\n\n    // Hides the element (for out animations), resets the element, and runs a callback\n    function finish() {\n      if (!isIn) element.hide();\n      reset();\n      if (cb) cb.apply(element);\n    }\n\n    // Resets transitions and removes motion-specific classes\n    function reset() {\n      element[0].style.transitionDuration = 0;\n      element.removeClass(initClass + ' ' + activeClass + ' ' + animation);\n    }\n  }\n\n  Foundation.Move = Move;\n  Foundation.Motion = Motion;\n}(jQuery);","ast":null,"map":{"version":3,"sources":["/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.util.motion.js"],"names":[],"mappings":"AAAA;;AAEA,CAAC,UAAU,CAAV,EAAa;;;;;;;AAOZ,MAAI,cAAc,CAAC,WAAD,EAAc,WAAd,CAAlB;AACA,MAAI,gBAAgB,CAAC,kBAAD,EAAqB,kBAArB,CAApB;;AAEA,MAAI,SAAS;AACX;AAAW,yBAAU,OAAV,EAAmB,SAAnB,EAA8B,EAA9B,EAAkC;AAC3C,gBAAQ,IAAR,EAAc,OAAd,EAAuB,SAAvB,EAAkC,EAAlC;AACD;;AAFD;AAAA,OADW;;AAKX;AAAY,0BAAU,OAAV,EAAmB,SAAnB,EAA8B,EAA9B,EAAkC;AAC5C,gBAAQ,KAAR,EAAe,OAAf,EAAwB,SAAxB,EAAmC,EAAnC;AACD;;AAFD;AAAA;AALW,GAAb;;AAUA,WAAS,IAAT,CAAc,QAAd,EAAwB,IAAxB,EAA8B,EAA9B,EAAkC;AAChC,QAAI,IAAJ;AAAA,QACI,IADJ;AAAA,QAEI,QAAQ,IAFZ;;;AAKA,aAAS,IAAT,CAAc,EAAd,EAAkB;AAChB,UAAI,CAAC,KAAL,EAAY,QAAQ,OAAO,WAAP,CAAmB,GAAnB,EAAR;;AAEZ,aAAO,KAAK,KAAZ;AACA,SAAG,KAAH,CAAS,IAAT;;AAEA,UAAI,OAAO,QAAX,EAAqB;AACnB,eAAO,OAAO,qBAAP,CAA6B,IAA7B,EAAmC,IAAnC,CAAP;AACD,OAFD,MAEO;AACL,eAAO,oBAAP,CAA4B,IAA5B;AACA,aAAK,OAAL,CAAa,qBAAb,EAAoC,CAAC,IAAD,CAApC,EAA4C,cAA5C,CAA2D,qBAA3D,EAAkF,CAAC,IAAD,CAAlF;AACD;AACF;AACD,WAAO,OAAO,qBAAP,CAA6B,IAA7B,CAAP;AACD;;;;;;;;;;;AAWD,WAAS,OAAT,CAAiB,IAAjB,EAAuB,OAAvB,EAAgC,SAAhC,EAA2C,EAA3C,EAA+C;AAC7C,cAAU,EAAE,OAAF,EAAW,EAAX,CAAc,CAAd,CAAV;;AAEA,QAAI,CAAC,QAAQ,MAAb,EAAqB;;AAErB,QAAI,YAAY,OAAO,YAAY,CAAZ,CAAP,GAAwB,YAAY,CAAZ,CAAxC;AACA,QAAI,cAAc,OAAO,cAAc,CAAd,CAAP,GAA0B,cAAc,CAAd,CAA5C;;;AAGA;;AAEA,YAAQ,QAAR,CAAiB,SAAjB,EAA4B,GAA5B,CAAgC,YAAhC,EAA8C,MAA9C;;AAEA,0BAAsB,YAAY;AAChC,cAAQ,QAAR,CAAiB,SAAjB;AACA,UAAI,IAAJ,EAAU,QAAQ,IAAR;AACX,KAHD;;;AAMA,0BAAsB,YAAY;AAChC,cAAQ,CAAR,EAAW,WAAX;AACA,cAAQ,GAAR,CAAY,YAAZ,EAA0B,EAA1B,EAA8B,QAA9B,CAAuC,WAAvC;AACD,KAHD;;;AAMA,YAAQ,GAAR,CAAY,WAAW,aAAX,CAAyB,OAAzB,CAAZ,EAA+C,MAA/C;;;AAGA,aAAS,MAAT,GAAkB;AAChB,UAAI,CAAC,IAAL,EAAW,QAAQ,IAAR;AACX;AACA,UAAI,EAAJ,EAAQ,GAAG,KAAH,CAAS,OAAT;AACT;;;AAGD,aAAS,KAAT,GAAiB;AACf,cAAQ,CAAR,EAAW,KAAX,CAAiB,kBAAjB,GAAsC,CAAtC;AACA,cAAQ,WAAR,CAAoB,YAAY,GAAZ,GAAkB,WAAlB,GAAgC,GAAhC,GAAsC,SAA1D;AACD;AACF;;AAED,aAAW,IAAX,GAAkB,IAAlB;AACA,aAAW,MAAX,GAAoB,MAApB;AACD,CA9FA,CA8FC,MA9FD,CAAD","file":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.util.motion.js.map","sourcesContent":["'use strict';\n\n!function ($) {\n\n  /**\n   * Motion module.\n   * @module foundation.motion\n   */\n\n  var initClasses = ['mui-enter', 'mui-leave'];\n  var activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\n  var Motion = {\n    animateIn: function (element, animation, cb) {\n      animate(true, element, animation, cb);\n    },\n\n    animateOut: function (element, animation, cb) {\n      animate(false, element, animation, cb);\n    }\n  };\n\n  function Move(duration, elem, fn) {\n    var anim,\n        prog,\n        start = null;\n    // console.log('called');\n\n    function move(ts) {\n      if (!start) start = window.performance.now();\n      // console.log(start, ts);\n      prog = ts - start;\n      fn.apply(elem);\n\n      if (prog < duration) {\n        anim = window.requestAnimationFrame(move, elem);\n      } else {\n        window.cancelAnimationFrame(anim);\n        elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n      }\n    }\n    anim = window.requestAnimationFrame(move);\n  }\n\n  /**\n   * Animates an element in or out using a CSS transition class.\n   * @function\n   * @private\n   * @param {Boolean} isIn - Defines if the animation is in or out.\n   * @param {Object} element - jQuery or HTML object to animate.\n   * @param {String} animation - CSS class to use.\n   * @param {Function} cb - Callback to run when animation is finished.\n   */\n  function animate(isIn, element, animation, cb) {\n    element = $(element).eq(0);\n\n    if (!element.length) return;\n\n    var initClass = isIn ? initClasses[0] : initClasses[1];\n    var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n    // Set up the animation\n    reset();\n\n    element.addClass(animation).css('transition', 'none');\n\n    requestAnimationFrame(function () {\n      element.addClass(initClass);\n      if (isIn) element.show();\n    });\n\n    // Start the animation\n    requestAnimationFrame(function () {\n      element[0].offsetWidth;\n      element.css('transition', '').addClass(activeClass);\n    });\n\n    // Clean up the animation when it finishes\n    element.one(Foundation.transitionend(element), finish);\n\n    // Hides the element (for out animations), resets the element, and runs a callback\n    function finish() {\n      if (!isIn) element.hide();\n      reset();\n      if (cb) cb.apply(element);\n    }\n\n    // Resets transitions and removes motion-specific classes\n    function reset() {\n      element[0].style.transitionDuration = 0;\n      element.removeClass(initClass + ' ' + activeClass + ' ' + animation);\n    }\n  }\n\n  Foundation.Move = Move;\n  Foundation.Motion = Motion;\n}(jQuery);"]},"hash":"eee5ccdf4b7113d16c807e98332e622db4091609"}
