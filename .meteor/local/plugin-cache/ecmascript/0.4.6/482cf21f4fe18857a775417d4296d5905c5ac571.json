{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.dropdownMenu.js","filenameRelative":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.dropdownMenu.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.dropdownMenu.js.map","sourceFileName":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.dropdownMenu.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"foundation.dropdownMenu"},"ignored":false,"code":"'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * DropdownMenu module.\n   * @module foundation.dropdown-menu\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.box\n   * @requires foundation.util.nest\n   */\n\n  var DropdownMenu = function () {\n    /**\n     * Creates a new instance of DropdownMenu.\n     * @class\n     * @fires DropdownMenu#init\n     * @param {jQuery} element - jQuery object to make into a dropdown menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function DropdownMenu(element, options) {\n      _classCallCheck(this, DropdownMenu);\n\n      this.$element = element;\n      this.options = $.extend({}, DropdownMenu.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'dropdown');\n      this._init();\n\n      Foundation.registerPlugin(this, 'DropdownMenu');\n      Foundation.Keyboard.register('DropdownMenu', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'previous',\n        'ESCAPE': 'close'\n      });\n    }\n\n    /**\n     * Initializes the plugin, and calls _prepareMenu\n     * @private\n     * @function\n     */\n\n    _createClass(DropdownMenu, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          var subs = this.$element.find('li.is-dropdown-submenu-parent');\n          this.$element.children('.is-dropdown-submenu-parent').children('.is-dropdown-submenu').addClass('first-sub');\n\n          this.$menuItems = this.$element.find('[role=\"menuitem\"]');\n          this.$tabs = this.$element.children('[role=\"menuitem\"]');\n          this.$tabs.find('ul.is-dropdown-submenu').addClass(this.options.verticalClass);\n\n          if (this.$element.hasClass(this.options.rightClass) || this.options.alignment === 'right' || Foundation.rtl() || this.$element.parents('.top-bar-right').is('*')) {\n            this.options.alignment = 'right';\n            subs.addClass('opens-left');\n          } else {\n            subs.addClass('opens-right');\n          }\n          this.changed = false;\n          this._events();\n        }\n\n        return _init;\n      }()\n    }, {\n      key: '_events',\n\n      /**\n       * Adds event listeners to elements within the menu\n       * @private\n       * @function\n       */\n      value: function () {\n        function _events() {\n          var _this = this,\n              hasTouch = 'ontouchstart' in window || typeof window.ontouchstart !== 'undefined',\n              parClass = 'is-dropdown-submenu-parent';\n\n          // used for onClick and in the keyboard handlers\n          var handleClickFn = function () {\n            function handleClickFn(e) {\n              var $elem = $(e.target).parentsUntil('ul', '.' + parClass),\n                  hasSub = $elem.hasClass(parClass),\n                  hasClicked = $elem.attr('data-is-click') === 'true',\n                  $sub = $elem.children('.is-dropdown-submenu');\n\n              if (hasSub) {\n                if (hasClicked) {\n                  if (!_this.options.closeOnClick || !_this.options.clickOpen && !hasTouch || _this.options.forceFollow && hasTouch) {\n                    return;\n                  } else {\n                    e.stopImmediatePropagation();\n                    e.preventDefault();\n                    _this._hide($elem);\n                  }\n                } else {\n                  e.preventDefault();\n                  e.stopImmediatePropagation();\n                  _this._show($elem.children('.is-dropdown-submenu'));\n                  $elem.add($elem.parentsUntil(_this.$element, '.' + parClass)).attr('data-is-click', true);\n                }\n              } else {\n                return;\n              }\n            }\n\n            return handleClickFn;\n          }();\n\n          if (this.options.clickOpen || hasTouch) {\n            this.$menuItems.on('click.zf.dropdownmenu touchstart.zf.dropdownmenu', handleClickFn);\n          }\n\n          if (!this.options.disableHover) {\n            this.$menuItems.on('mouseenter.zf.dropdownmenu', function (e) {\n              var $elem = $(this),\n                  hasSub = $elem.hasClass(parClass);\n\n              if (hasSub) {\n                clearTimeout(_this.delay);\n                _this.delay = setTimeout(function () {\n                  _this._show($elem.children('.is-dropdown-submenu'));\n                }, _this.options.hoverDelay);\n              }\n            }).on('mouseleave.zf.dropdownmenu', function (e) {\n              var $elem = $(this),\n                  hasSub = $elem.hasClass(parClass);\n              if (hasSub && _this.options.autoclose) {\n                if ($elem.attr('data-is-click') === 'true' && _this.options.clickOpen) {\n                  return false;\n                }\n\n                clearTimeout(_this.delay);\n                _this.delay = setTimeout(function () {\n                  _this._hide($elem);\n                }, _this.options.closingTime);\n              }\n            });\n          }\n          this.$menuItems.on('keydown.zf.dropdownmenu', function (e) {\n            var $element = $(e.target).parentsUntil('ul', '[role=\"menuitem\"]'),\n                isTab = _this.$tabs.index($element) > -1,\n                $elements = isTab ? _this.$tabs : $element.siblings('li').add($element),\n                $prevElement,\n                $nextElement;\n\n            $elements.each(function (i) {\n              if ($(this).is($element)) {\n                $prevElement = $elements.eq(i - 1);\n                $nextElement = $elements.eq(i + 1);\n                return;\n              }\n            });\n\n            var nextSibling = function () {\n              function nextSibling() {\n                if (!$element.is(':last-child')) {\n                  $nextElement.children('a:first').focus();\n                  e.preventDefault();\n                }\n              }\n\n              return nextSibling;\n            }(),\n                prevSibling = function () {\n              function prevSibling() {\n                $prevElement.children('a:first').focus();\n                e.preventDefault();\n              }\n\n              return prevSibling;\n            }(),\n                openSub = function () {\n              function openSub() {\n                var $sub = $element.children('ul.is-dropdown-submenu');\n                if ($sub.length) {\n                  _this._show($sub);\n                  $element.find('li > a:first').focus();\n                  e.preventDefault();\n                } else {\n                  return;\n                }\n              }\n\n              return openSub;\n            }(),\n                closeSub = function () {\n              function closeSub() {\n                //if ($element.is(':first-child')) {\n                var close = $element.parent('ul').parent('li');\n                close.children('a:first').focus();\n                _this._hide(close);\n                e.preventDefault();\n                //}\n              }\n\n              return closeSub;\n            }();\n            var functions = {\n              open: openSub,\n              close: function () {\n                function close() {\n                  _this._hide(_this.$element);\n                  _this.$menuItems.find('a:first').focus(); // focus to first element\n                  e.preventDefault();\n                }\n\n                return close;\n              }(),\n              handled: function () {\n                function handled() {\n                  e.stopImmediatePropagation();\n                }\n\n                return handled;\n              }()\n            };\n\n            if (isTab) {\n              if (_this.$element.hasClass(_this.options.verticalClass)) {\n                // vertical menu\n                if (_this.options.alignment === 'left') {\n                  // left aligned\n                  $.extend(functions, {\n                    down: nextSibling,\n                    up: prevSibling,\n                    next: openSub,\n                    previous: closeSub\n                  });\n                } else {\n                  // right aligned\n                  $.extend(functions, {\n                    down: nextSibling,\n                    up: prevSibling,\n                    next: closeSub,\n                    previous: openSub\n                  });\n                }\n              } else {\n                // horizontal menu\n                $.extend(functions, {\n                  next: nextSibling,\n                  previous: prevSibling,\n                  down: openSub,\n                  up: closeSub\n                });\n              }\n            } else {\n              // not tabs -> one sub\n              if (_this.options.alignment === 'left') {\n                // left aligned\n                $.extend(functions, {\n                  next: openSub,\n                  previous: closeSub,\n                  down: nextSibling,\n                  up: prevSibling\n                });\n              } else {\n                // right aligned\n                $.extend(functions, {\n                  next: closeSub,\n                  previous: openSub,\n                  down: nextSibling,\n                  up: prevSibling\n                });\n              }\n            }\n            Foundation.Keyboard.handleKey(e, 'DropdownMenu', functions);\n          });\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Adds an event handler to the body to close any dropdowns on a click.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_addBodyHandler',\n      value: function () {\n        function _addBodyHandler() {\n          var $body = $(document.body),\n              _this = this;\n          $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu').on('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu', function (e) {\n            var $link = _this.$element.find(e.target);\n            if ($link.length) {\n              return;\n            }\n\n            _this._hide();\n            $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu');\n          });\n        }\n\n        return _addBodyHandler;\n      }()\n\n      /**\n       * Opens a dropdown pane, and checks for collisions first.\n       * @param {jQuery} $sub - ul element that is a submenu to show\n       * @function\n       * @private\n       * @fires DropdownMenu#show\n       */\n\n    }, {\n      key: '_show',\n      value: function () {\n        function _show($sub) {\n          var idx = this.$tabs.index(this.$tabs.filter(function (i, el) {\n            return $(el).find($sub).length > 0;\n          }));\n          var $sibs = $sub.parent('li.is-dropdown-submenu-parent').siblings('li.is-dropdown-submenu-parent');\n          this._hide($sibs, idx);\n          $sub.css('visibility', 'hidden').addClass('js-dropdown-active').attr({ 'aria-hidden': false }).parent('li.is-dropdown-submenu-parent').addClass('is-active').attr({ 'aria-expanded': true });\n          var clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\n          if (!clear) {\n            var oldClass = this.options.alignment === 'left' ? '-right' : '-left',\n                $parentLi = $sub.parent('.is-dropdown-submenu-parent');\n            $parentLi.removeClass('opens' + oldClass).addClass('opens-' + this.options.alignment);\n            clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\n            if (!clear) {\n              $parentLi.removeClass('opens-' + this.options.alignment).addClass('opens-inner');\n            }\n            this.changed = true;\n          }\n          $sub.css('visibility', '');\n          if (this.options.closeOnClick) {\n            this._addBodyHandler();\n          }\n          /**\n           * Fires when the new dropdown pane is visible.\n           * @event DropdownMenu#show\n           */\n          this.$element.trigger('show.zf.dropdownmenu', [$sub]);\n        }\n\n        return _show;\n      }()\n\n      /**\n       * Hides a single, currently open dropdown pane, if passed a parameter, otherwise, hides everything.\n       * @function\n       * @param {jQuery} $elem - element with a submenu to hide\n       * @param {Number} idx - index of the $tabs collection to hide\n       * @private\n       */\n\n    }, {\n      key: '_hide',\n      value: function () {\n        function _hide($elem, idx) {\n          var $toClose;\n          if ($elem && $elem.length) {\n            $toClose = $elem;\n          } else if (idx !== undefined) {\n            $toClose = this.$tabs.not(function (i, el) {\n              return i === idx;\n            });\n          } else {\n            $toClose = this.$element;\n          }\n          var somethingToClose = $toClose.hasClass('is-active') || $toClose.find('.is-active').length > 0;\n\n          if (somethingToClose) {\n            $toClose.find('li.is-active').add($toClose).attr({\n              'aria-expanded': false,\n              'data-is-click': false\n            }).removeClass('is-active');\n\n            $toClose.find('ul.js-dropdown-active').attr({\n              'aria-hidden': true\n            }).removeClass('js-dropdown-active');\n\n            if (this.changed || $toClose.find('opens-inner').length) {\n              var oldClass = this.options.alignment === 'left' ? 'right' : 'left';\n              $toClose.find('li.is-dropdown-submenu-parent').add($toClose).removeClass('opens-inner opens-' + this.options.alignment).addClass('opens-' + oldClass);\n              this.changed = false;\n            }\n            /**\n             * Fires when the open menus are closed.\n             * @event DropdownMenu#hide\n             */\n            this.$element.trigger('hide.zf.dropdownmenu', [$toClose]);\n          }\n        }\n\n        return _hide;\n      }()\n\n      /**\n       * Destroys the plugin.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$menuItems.off('.zf.dropdownmenu').removeAttr('data-is-click').removeClass('is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner');\n          $(document.body).off('.zf.dropdownmenu');\n          Foundation.Nest.Burn(this.$element, 'dropdown');\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return DropdownMenu;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n  DropdownMenu.defaults = {\n    /**\n     * Disallows hover events from opening submenus\n     * @option\n     * @example false\n     */\n    disableHover: false,\n    /**\n     * Allow a submenu to automatically close on a mouseleave event, if not clicked open.\n     * @option\n     * @example true\n     */\n    autoclose: true,\n    /**\n     * Amount of time to delay opening a submenu on hover event.\n     * @option\n     * @example 50\n     */\n    hoverDelay: 50,\n    /**\n     * Allow a submenu to open/remain open on parent click event. Allows cursor to move away from menu.\n     * @option\n     * @example true\n     */\n    clickOpen: false,\n    /**\n     * Amount of time to delay closing a submenu on a mouseleave event.\n     * @option\n     * @example 500\n     */\n\n    closingTime: 500,\n    /**\n     * Position of the menu relative to what direction the submenus should open. Handled by JS.\n     * @option\n     * @example 'left'\n     */\n    alignment: 'left',\n    /**\n     * Allow clicks on the body to close any open submenus.\n     * @option\n     * @example true\n     */\n    closeOnClick: true,\n    /**\n     * Class applied to vertical oriented menus, Foundation default is `vertical`. Update this if using your own class.\n     * @option\n     * @example 'vertical'\n     */\n    verticalClass: 'vertical',\n    /**\n     * Class applied to right-side oriented menus, Foundation default is `align-right`. Update this if using your own class.\n     * @option\n     * @example 'align-right'\n     */\n    rightClass: 'align-right',\n    /**\n     * Boolean to force overide the clicking of links to perform default action, on second touch event for mobile.\n     * @option\n     * @example false\n     */\n    forceFollow: true\n  };\n\n  // Window exports\n  Foundation.plugin(DropdownMenu, 'DropdownMenu');\n}(jQuery);","ast":null,"map":{"version":3,"sources":["/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.dropdownMenu.js"],"names":[],"mappings":"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","file":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.dropdownMenu.js.map","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * DropdownMenu module.\n   * @module foundation.dropdown-menu\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.box\n   * @requires foundation.util.nest\n   */\n\n  var DropdownMenu = function () {\n    /**\n     * Creates a new instance of DropdownMenu.\n     * @class\n     * @fires DropdownMenu#init\n     * @param {jQuery} element - jQuery object to make into a dropdown menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function DropdownMenu(element, options) {\n      _classCallCheck(this, DropdownMenu);\n\n      this.$element = element;\n      this.options = $.extend({}, DropdownMenu.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'dropdown');\n      this._init();\n\n      Foundation.registerPlugin(this, 'DropdownMenu');\n      Foundation.Keyboard.register('DropdownMenu', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'previous',\n        'ESCAPE': 'close'\n      });\n    }\n\n    /**\n     * Initializes the plugin, and calls _prepareMenu\n     * @private\n     * @function\n     */\n\n\n    _createClass(DropdownMenu, [{\n      key: '_init',\n      value: function _init() {\n        var subs = this.$element.find('li.is-dropdown-submenu-parent');\n        this.$element.children('.is-dropdown-submenu-parent').children('.is-dropdown-submenu').addClass('first-sub');\n\n        this.$menuItems = this.$element.find('[role=\"menuitem\"]');\n        this.$tabs = this.$element.children('[role=\"menuitem\"]');\n        this.$tabs.find('ul.is-dropdown-submenu').addClass(this.options.verticalClass);\n\n        if (this.$element.hasClass(this.options.rightClass) || this.options.alignment === 'right' || Foundation.rtl() || this.$element.parents('.top-bar-right').is('*')) {\n          this.options.alignment = 'right';\n          subs.addClass('opens-left');\n        } else {\n          subs.addClass('opens-right');\n        }\n        this.changed = false;\n        this._events();\n      }\n    }, {\n      key: '_events',\n\n      /**\n       * Adds event listeners to elements within the menu\n       * @private\n       * @function\n       */\n      value: function _events() {\n        var _this = this,\n            hasTouch = 'ontouchstart' in window || typeof window.ontouchstart !== 'undefined',\n            parClass = 'is-dropdown-submenu-parent';\n\n        // used for onClick and in the keyboard handlers\n        var handleClickFn = function (e) {\n          var $elem = $(e.target).parentsUntil('ul', '.' + parClass),\n              hasSub = $elem.hasClass(parClass),\n              hasClicked = $elem.attr('data-is-click') === 'true',\n              $sub = $elem.children('.is-dropdown-submenu');\n\n          if (hasSub) {\n            if (hasClicked) {\n              if (!_this.options.closeOnClick || !_this.options.clickOpen && !hasTouch || _this.options.forceFollow && hasTouch) {\n                return;\n              } else {\n                e.stopImmediatePropagation();\n                e.preventDefault();\n                _this._hide($elem);\n              }\n            } else {\n              e.preventDefault();\n              e.stopImmediatePropagation();\n              _this._show($elem.children('.is-dropdown-submenu'));\n              $elem.add($elem.parentsUntil(_this.$element, '.' + parClass)).attr('data-is-click', true);\n            }\n          } else {\n            return;\n          }\n        };\n\n        if (this.options.clickOpen || hasTouch) {\n          this.$menuItems.on('click.zf.dropdownmenu touchstart.zf.dropdownmenu', handleClickFn);\n        }\n\n        if (!this.options.disableHover) {\n          this.$menuItems.on('mouseenter.zf.dropdownmenu', function (e) {\n            var $elem = $(this),\n                hasSub = $elem.hasClass(parClass);\n\n            if (hasSub) {\n              clearTimeout(_this.delay);\n              _this.delay = setTimeout(function () {\n                _this._show($elem.children('.is-dropdown-submenu'));\n              }, _this.options.hoverDelay);\n            }\n          }).on('mouseleave.zf.dropdownmenu', function (e) {\n            var $elem = $(this),\n                hasSub = $elem.hasClass(parClass);\n            if (hasSub && _this.options.autoclose) {\n              if ($elem.attr('data-is-click') === 'true' && _this.options.clickOpen) {\n                return false;\n              }\n\n              clearTimeout(_this.delay);\n              _this.delay = setTimeout(function () {\n                _this._hide($elem);\n              }, _this.options.closingTime);\n            }\n          });\n        }\n        this.$menuItems.on('keydown.zf.dropdownmenu', function (e) {\n          var $element = $(e.target).parentsUntil('ul', '[role=\"menuitem\"]'),\n              isTab = _this.$tabs.index($element) > -1,\n              $elements = isTab ? _this.$tabs : $element.siblings('li').add($element),\n              $prevElement,\n              $nextElement;\n\n          $elements.each(function (i) {\n            if ($(this).is($element)) {\n              $prevElement = $elements.eq(i - 1);\n              $nextElement = $elements.eq(i + 1);\n              return;\n            }\n          });\n\n          var nextSibling = function () {\n            if (!$element.is(':last-child')) {\n              $nextElement.children('a:first').focus();\n              e.preventDefault();\n            }\n          },\n              prevSibling = function () {\n            $prevElement.children('a:first').focus();\n            e.preventDefault();\n          },\n              openSub = function () {\n            var $sub = $element.children('ul.is-dropdown-submenu');\n            if ($sub.length) {\n              _this._show($sub);\n              $element.find('li > a:first').focus();\n              e.preventDefault();\n            } else {\n              return;\n            }\n          },\n              closeSub = function () {\n            //if ($element.is(':first-child')) {\n            var close = $element.parent('ul').parent('li');\n            close.children('a:first').focus();\n            _this._hide(close);\n            e.preventDefault();\n            //}\n          };\n          var functions = {\n            open: openSub,\n            close: function () {\n              _this._hide(_this.$element);\n              _this.$menuItems.find('a:first').focus(); // focus to first element\n              e.preventDefault();\n            },\n            handled: function () {\n              e.stopImmediatePropagation();\n            }\n          };\n\n          if (isTab) {\n            if (_this.$element.hasClass(_this.options.verticalClass)) {\n              // vertical menu\n              if (_this.options.alignment === 'left') {\n                // left aligned\n                $.extend(functions, {\n                  down: nextSibling,\n                  up: prevSibling,\n                  next: openSub,\n                  previous: closeSub\n                });\n              } else {\n                // right aligned\n                $.extend(functions, {\n                  down: nextSibling,\n                  up: prevSibling,\n                  next: closeSub,\n                  previous: openSub\n                });\n              }\n            } else {\n              // horizontal menu\n              $.extend(functions, {\n                next: nextSibling,\n                previous: prevSibling,\n                down: openSub,\n                up: closeSub\n              });\n            }\n          } else {\n            // not tabs -> one sub\n            if (_this.options.alignment === 'left') {\n              // left aligned\n              $.extend(functions, {\n                next: openSub,\n                previous: closeSub,\n                down: nextSibling,\n                up: prevSibling\n              });\n            } else {\n              // right aligned\n              $.extend(functions, {\n                next: closeSub,\n                previous: openSub,\n                down: nextSibling,\n                up: prevSibling\n              });\n            }\n          }\n          Foundation.Keyboard.handleKey(e, 'DropdownMenu', functions);\n        });\n      }\n\n      /**\n       * Adds an event handler to the body to close any dropdowns on a click.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_addBodyHandler',\n      value: function _addBodyHandler() {\n        var $body = $(document.body),\n            _this = this;\n        $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu').on('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu', function (e) {\n          var $link = _this.$element.find(e.target);\n          if ($link.length) {\n            return;\n          }\n\n          _this._hide();\n          $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu');\n        });\n      }\n\n      /**\n       * Opens a dropdown pane, and checks for collisions first.\n       * @param {jQuery} $sub - ul element that is a submenu to show\n       * @function\n       * @private\n       * @fires DropdownMenu#show\n       */\n\n    }, {\n      key: '_show',\n      value: function _show($sub) {\n        var idx = this.$tabs.index(this.$tabs.filter(function (i, el) {\n          return $(el).find($sub).length > 0;\n        }));\n        var $sibs = $sub.parent('li.is-dropdown-submenu-parent').siblings('li.is-dropdown-submenu-parent');\n        this._hide($sibs, idx);\n        $sub.css('visibility', 'hidden').addClass('js-dropdown-active').attr({ 'aria-hidden': false }).parent('li.is-dropdown-submenu-parent').addClass('is-active').attr({ 'aria-expanded': true });\n        var clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\n        if (!clear) {\n          var oldClass = this.options.alignment === 'left' ? '-right' : '-left',\n              $parentLi = $sub.parent('.is-dropdown-submenu-parent');\n          $parentLi.removeClass('opens' + oldClass).addClass('opens-' + this.options.alignment);\n          clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\n          if (!clear) {\n            $parentLi.removeClass('opens-' + this.options.alignment).addClass('opens-inner');\n          }\n          this.changed = true;\n        }\n        $sub.css('visibility', '');\n        if (this.options.closeOnClick) {\n          this._addBodyHandler();\n        }\n        /**\n         * Fires when the new dropdown pane is visible.\n         * @event DropdownMenu#show\n         */\n        this.$element.trigger('show.zf.dropdownmenu', [$sub]);\n      }\n\n      /**\n       * Hides a single, currently open dropdown pane, if passed a parameter, otherwise, hides everything.\n       * @function\n       * @param {jQuery} $elem - element with a submenu to hide\n       * @param {Number} idx - index of the $tabs collection to hide\n       * @private\n       */\n\n    }, {\n      key: '_hide',\n      value: function _hide($elem, idx) {\n        var $toClose;\n        if ($elem && $elem.length) {\n          $toClose = $elem;\n        } else if (idx !== undefined) {\n          $toClose = this.$tabs.not(function (i, el) {\n            return i === idx;\n          });\n        } else {\n          $toClose = this.$element;\n        }\n        var somethingToClose = $toClose.hasClass('is-active') || $toClose.find('.is-active').length > 0;\n\n        if (somethingToClose) {\n          $toClose.find('li.is-active').add($toClose).attr({\n            'aria-expanded': false,\n            'data-is-click': false\n          }).removeClass('is-active');\n\n          $toClose.find('ul.js-dropdown-active').attr({\n            'aria-hidden': true\n          }).removeClass('js-dropdown-active');\n\n          if (this.changed || $toClose.find('opens-inner').length) {\n            var oldClass = this.options.alignment === 'left' ? 'right' : 'left';\n            $toClose.find('li.is-dropdown-submenu-parent').add($toClose).removeClass('opens-inner opens-' + this.options.alignment).addClass('opens-' + oldClass);\n            this.changed = false;\n          }\n          /**\n           * Fires when the open menus are closed.\n           * @event DropdownMenu#hide\n           */\n          this.$element.trigger('hide.zf.dropdownmenu', [$toClose]);\n        }\n      }\n\n      /**\n       * Destroys the plugin.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$menuItems.off('.zf.dropdownmenu').removeAttr('data-is-click').removeClass('is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner');\n        $(document.body).off('.zf.dropdownmenu');\n        Foundation.Nest.Burn(this.$element, 'dropdown');\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return DropdownMenu;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n\n  DropdownMenu.defaults = {\n    /**\n     * Disallows hover events from opening submenus\n     * @option\n     * @example false\n     */\n    disableHover: false,\n    /**\n     * Allow a submenu to automatically close on a mouseleave event, if not clicked open.\n     * @option\n     * @example true\n     */\n    autoclose: true,\n    /**\n     * Amount of time to delay opening a submenu on hover event.\n     * @option\n     * @example 50\n     */\n    hoverDelay: 50,\n    /**\n     * Allow a submenu to open/remain open on parent click event. Allows cursor to move away from menu.\n     * @option\n     * @example true\n     */\n    clickOpen: false,\n    /**\n     * Amount of time to delay closing a submenu on a mouseleave event.\n     * @option\n     * @example 500\n     */\n\n    closingTime: 500,\n    /**\n     * Position of the menu relative to what direction the submenus should open. Handled by JS.\n     * @option\n     * @example 'left'\n     */\n    alignment: 'left',\n    /**\n     * Allow clicks on the body to close any open submenus.\n     * @option\n     * @example true\n     */\n    closeOnClick: true,\n    /**\n     * Class applied to vertical oriented menus, Foundation default is `vertical`. Update this if using your own class.\n     * @option\n     * @example 'vertical'\n     */\n    verticalClass: 'vertical',\n    /**\n     * Class applied to right-side oriented menus, Foundation default is `align-right`. Update this if using your own class.\n     * @option\n     * @example 'align-right'\n     */\n    rightClass: 'align-right',\n    /**\n     * Boolean to force overide the clicking of links to perform default action, on second touch event for mobile.\n     * @option\n     * @example false\n     */\n    forceFollow: true\n  };\n\n  // Window exports\n  Foundation.plugin(DropdownMenu, 'DropdownMenu');\n}(jQuery);"]},"hash":"482cf21f4fe18857a775417d4296d5905c5ac571"}
