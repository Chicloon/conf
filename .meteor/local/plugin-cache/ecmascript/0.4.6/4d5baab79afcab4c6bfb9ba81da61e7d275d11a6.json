{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.drilldown.js","filenameRelative":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.drilldown.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.drilldown.js.map","sourceFileName":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.drilldown.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"foundation.drilldown"},"ignored":false,"code":"'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * Drilldown module.\n   * @module foundation.drilldown\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   * @requires foundation.util.nest\n   */\n\n  var Drilldown = function () {\n    /**\n     * Creates a new instance of a drilldown menu.\n     * @class\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Drilldown(element, options) {\n      _classCallCheck(this, Drilldown);\n\n      this.$element = element;\n      this.options = $.extend({}, Drilldown.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'drilldown');\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Drilldown');\n      Foundation.Keyboard.register('Drilldown', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'previous',\n        'ESCAPE': 'close',\n        'TAB': 'down',\n        'SHIFT_TAB': 'up'\n      });\n    }\n\n    /**\n     * Initializes the drilldown by creating jQuery collections of elements\n     * @private\n     */\n\n    _createClass(Drilldown, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          this.$submenuAnchors = this.$element.find('li.is-drilldown-submenu-parent').children('a');\n          this.$submenus = this.$submenuAnchors.parent('li').children('[data-submenu]');\n          this.$menuItems = this.$element.find('li').not('.js-drilldown-back').attr('role', 'menuitem').find('a');\n\n          this._prepareMenu();\n\n          this._keyboardEvents();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * prepares drilldown menu by setting attributes to links and elements\n       * sets a min height to prevent content jumping\n       * wraps the element if not already wrapped\n       * @private\n       * @function\n       */\n\n    }, {\n      key: '_prepareMenu',\n      value: function () {\n        function _prepareMenu() {\n          var _this = this;\n          // if(!this.options.holdOpen){\n          //   this._menuLinkEvents();\n          // }\n          this.$submenuAnchors.each(function () {\n            var $link = $(this);\n            var $sub = $link.parent();\n            if (_this.options.parentLink) {\n              $link.clone().prependTo($sub.children('[data-submenu]')).wrap('<li class=\"is-submenu-parent-item is-submenu-item is-drilldown-submenu-item\" role=\"menu-item\"></li>');\n            }\n            $link.data('savedHref', $link.attr('href')).removeAttr('href');\n            $link.children('[data-submenu]').attr({\n              'aria-hidden': true,\n              'tabindex': 0,\n              'role': 'menu'\n            });\n            _this._events($link);\n          });\n          this.$submenus.each(function () {\n            var $menu = $(this),\n                $back = $menu.find('.js-drilldown-back');\n            if (!$back.length) {\n              $menu.prepend(_this.options.backButton);\n            }\n            _this._back($menu);\n          });\n          if (!this.$element.parent().hasClass('is-drilldown')) {\n            this.$wrapper = $(this.options.wrapper).addClass('is-drilldown');\n            this.$wrapper = this.$element.wrap(this.$wrapper).parent().css(this._getMaxDims());\n          }\n        }\n\n        return _prepareMenu;\n      }()\n\n      /**\n       * Adds event handlers to elements in the menu.\n       * @function\n       * @private\n       * @param {jQuery} $elem - the current menu item to add handlers to.\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events($elem) {\n          var _this = this;\n\n          $elem.off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n            if ($(e.target).parentsUntil('ul', 'li').hasClass('is-drilldown-submenu-parent')) {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n            }\n\n            // if(e.target !== e.currentTarget.firstElementChild){\n            //   return false;\n            // }\n            _this._show($elem.parent('li'));\n\n            if (_this.options.closeOnClick) {\n              var $body = $('body');\n              $body.off('.zf.drilldown').on('click.zf.drilldown', function (e) {\n                if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target)) {\n                  return;\n                }\n                e.preventDefault();\n                _this._hideAll();\n                $body.off('.zf.drilldown');\n              });\n            }\n          });\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Adds keydown event listener to `li`'s in the menu.\n       * @private\n       */\n\n    }, {\n      key: '_keyboardEvents',\n      value: function () {\n        function _keyboardEvents() {\n          var _this = this;\n\n          this.$menuItems.add(this.$element.find('.js-drilldown-back > a')).on('keydown.zf.drilldown', function (e) {\n\n            var $element = $(this),\n                $elements = $element.parent('li').parent('ul').children('li').children('a'),\n                $prevElement,\n                $nextElement;\n\n            $elements.each(function (i) {\n              if ($(this).is($element)) {\n                $prevElement = $elements.eq(Math.max(0, i - 1));\n                $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));\n                return;\n              }\n            });\n\n            Foundation.Keyboard.handleKey(e, 'Drilldown', {\n              next: function () {\n                function next() {\n                  if ($element.is(_this.$submenuAnchors)) {\n                    _this._show($element.parent('li'));\n                    $element.parent('li').one(Foundation.transitionend($element), function () {\n                      $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\n                    });\n                    return true;\n                  }\n                }\n\n                return next;\n              }(),\n              previous: function () {\n                function previous() {\n                  _this._hide($element.parent('li').parent('ul'));\n                  $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {\n                    setTimeout(function () {\n                      $element.parent('li').parent('ul').parent('li').children('a').first().focus();\n                    }, 1);\n                  });\n                  return true;\n                }\n\n                return previous;\n              }(),\n              up: function () {\n                function up() {\n                  $prevElement.focus();\n                  return true;\n                }\n\n                return up;\n              }(),\n              down: function () {\n                function down() {\n                  $nextElement.focus();\n                  return true;\n                }\n\n                return down;\n              }(),\n              close: function () {\n                function close() {\n                  _this._back();\n                  //_this.$menuItems.first().focus(); // focus to first element\n                }\n\n                return close;\n              }(),\n              open: function () {\n                function open() {\n                  if (!$element.is(_this.$menuItems)) {\n                    // not menu item means back button\n                    _this._hide($element.parent('li').parent('ul'));\n                    $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {\n                      setTimeout(function () {\n                        $element.parent('li').parent('ul').parent('li').children('a').first().focus();\n                      }, 1);\n                    });\n                  } else if ($element.is(_this.$submenuAnchors)) {\n                    _this._show($element.parent('li'));\n                    $element.parent('li').one(Foundation.transitionend($element), function () {\n                      $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\n                    });\n                  }\n                  return true;\n                }\n\n                return open;\n              }(),\n              handled: function () {\n                function handled(preventDefault) {\n                  if (preventDefault) {\n                    e.preventDefault();\n                  }\n                  e.stopImmediatePropagation();\n                }\n\n                return handled;\n              }()\n            });\n          }); // end keyboardAccess\n        }\n\n        return _keyboardEvents;\n      }()\n\n      /**\n       * Closes all open elements, and returns to root menu.\n       * @function\n       * @fires Drilldown#closed\n       */\n\n    }, {\n      key: '_hideAll',\n      value: function () {\n        function _hideAll() {\n          var $elem = this.$element.find('.is-drilldown-submenu.is-active').addClass('is-closing');\n          $elem.one(Foundation.transitionend($elem), function (e) {\n            $elem.removeClass('is-active is-closing');\n          });\n          /**\n           * Fires when the menu is fully closed.\n           * @event Drilldown#closed\n           */\n          this.$element.trigger('closed.zf.drilldown');\n        }\n\n        return _hideAll;\n      }()\n\n      /**\n       * Adds event listener for each `back` button, and closes open menus.\n       * @function\n       * @fires Drilldown#back\n       * @param {jQuery} $elem - the current sub-menu to add `back` event.\n       */\n\n    }, {\n      key: '_back',\n      value: function () {\n        function _back($elem) {\n          var _this = this;\n          $elem.off('click.zf.drilldown');\n          $elem.children('.js-drilldown-back').on('click.zf.drilldown', function (e) {\n            e.stopImmediatePropagation();\n            // console.log('mouseup on back');\n            _this._hide($elem);\n          });\n        }\n\n        return _back;\n      }()\n\n      /**\n       * Adds event listener to menu items w/o submenus to close open menus on click.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_menuLinkEvents',\n      value: function () {\n        function _menuLinkEvents() {\n          var _this = this;\n          this.$menuItems.not('.is-drilldown-submenu-parent').off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n            // e.stopImmediatePropagation();\n            setTimeout(function () {\n              _this._hideAll();\n            }, 0);\n          });\n        }\n\n        return _menuLinkEvents;\n      }()\n\n      /**\n       * Opens a submenu.\n       * @function\n       * @fires Drilldown#open\n       * @param {jQuery} $elem - the current element with a submenu to open, i.e. the `li` tag.\n       */\n\n    }, {\n      key: '_show',\n      value: function () {\n        function _show($elem) {\n          $elem.children('[data-submenu]').addClass('is-active');\n          /**\n           * Fires when the submenu has opened.\n           * @event Drilldown#open\n           */\n          this.$element.trigger('open.zf.drilldown', [$elem]);\n        }\n\n        return _show;\n      }()\n    }, {\n      key: '_hide',\n\n      /**\n       * Hides a submenu\n       * @function\n       * @fires Drilldown#hide\n       * @param {jQuery} $elem - the current sub-menu to hide, i.e. the `ul` tag.\n       */\n      value: function () {\n        function _hide($elem) {\n          var _this = this;\n          $elem.addClass('is-closing').one(Foundation.transitionend($elem), function () {\n            $elem.removeClass('is-active is-closing');\n            $elem.blur();\n          });\n          /**\n           * Fires when the submenu has closed.\n           * @event Drilldown#hide\n           */\n          $elem.trigger('hide.zf.drilldown', [$elem]);\n        }\n\n        return _hide;\n      }()\n\n      /**\n       * Iterates through the nested menus to calculate the min-height, and max-width for the menu.\n       * Prevents content jumping.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_getMaxDims',\n      value: function () {\n        function _getMaxDims() {\n          var max = 0,\n              result = {};\n          this.$submenus.add(this.$element).each(function () {\n            var numOfElems = $(this).children('li').length;\n            max = numOfElems > max ? numOfElems : max;\n          });\n\n          result['min-height'] = max * this.$menuItems[0].getBoundingClientRect().height + 'px';\n          result['max-width'] = this.$element[0].getBoundingClientRect().width + 'px';\n\n          return result;\n        }\n\n        return _getMaxDims;\n      }()\n\n      /**\n       * Destroys the Drilldown Menu\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this._hideAll();\n          Foundation.Nest.Burn(this.$element, 'drilldown');\n          this.$element.unwrap().find('.js-drilldown-back, .is-submenu-parent-item').remove().end().find('.is-active, .is-closing, .is-drilldown-submenu').removeClass('is-active is-closing is-drilldown-submenu').end().find('[data-submenu]').removeAttr('aria-hidden tabindex role');\n          this.$submenuAnchors.each(function () {\n            $(this).off('.zf.drilldown');\n          });\n          this.$element.find('a').each(function () {\n            var $link = $(this);\n            if ($link.data('savedHref')) {\n              $link.attr('href', $link.data('savedHref')).removeData('savedHref');\n            } else {\n              return;\n            }\n          });\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return Drilldown;\n  }();\n\n  Drilldown.defaults = {\n    /**\n     * Markup used for JS generated back button. Prepended to submenu lists and deleted on `destroy` method, 'js-drilldown-back' class required. Remove the backslash (`\\`) if copy and pasting.\n     * @option\n     * @example '<\\li><\\a>Back<\\/a><\\/li>'\n     */\n    backButton: '<li class=\"js-drilldown-back\"><a tabindex=\"0\">Back</a></li>',\n    /**\n     * Markup used to wrap drilldown menu. Use a class name for independent styling; the JS applied class: `is-drilldown` is required. Remove the backslash (`\\`) if copy and pasting.\n     * @option\n     * @example '<\\div class=\"is-drilldown\"><\\/div>'\n     */\n    wrapper: '<div></div>',\n    /**\n     * Adds the parent link to the submenu.\n     * @option\n     * @example false\n     */\n    parentLink: false,\n    /**\n     * Allow the menu to return to root list on body click.\n     * @option\n     * @example false\n     */\n    closeOnClick: false\n    // holdOpen: false\n  };\n\n  // Window exports\n  Foundation.plugin(Drilldown, 'Drilldown');\n}(jQuery);","ast":null,"map":{"version":3,"sources":["/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.drilldown.js"],"names":[],"mappings":"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","file":"/packages/zurb:foundation-sites/_build/assets/js/plugins/foundation.drilldown.js.map","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Drilldown module.\n   * @module foundation.drilldown\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   * @requires foundation.util.nest\n   */\n\n  var Drilldown = function () {\n    /**\n     * Creates a new instance of a drilldown menu.\n     * @class\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function Drilldown(element, options) {\n      _classCallCheck(this, Drilldown);\n\n      this.$element = element;\n      this.options = $.extend({}, Drilldown.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'drilldown');\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Drilldown');\n      Foundation.Keyboard.register('Drilldown', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'previous',\n        'ESCAPE': 'close',\n        'TAB': 'down',\n        'SHIFT_TAB': 'up'\n      });\n    }\n\n    /**\n     * Initializes the drilldown by creating jQuery collections of elements\n     * @private\n     */\n\n\n    _createClass(Drilldown, [{\n      key: '_init',\n      value: function _init() {\n        this.$submenuAnchors = this.$element.find('li.is-drilldown-submenu-parent').children('a');\n        this.$submenus = this.$submenuAnchors.parent('li').children('[data-submenu]');\n        this.$menuItems = this.$element.find('li').not('.js-drilldown-back').attr('role', 'menuitem').find('a');\n\n        this._prepareMenu();\n\n        this._keyboardEvents();\n      }\n\n      /**\n       * prepares drilldown menu by setting attributes to links and elements\n       * sets a min height to prevent content jumping\n       * wraps the element if not already wrapped\n       * @private\n       * @function\n       */\n\n    }, {\n      key: '_prepareMenu',\n      value: function _prepareMenu() {\n        var _this = this;\n        // if(!this.options.holdOpen){\n        //   this._menuLinkEvents();\n        // }\n        this.$submenuAnchors.each(function () {\n          var $link = $(this);\n          var $sub = $link.parent();\n          if (_this.options.parentLink) {\n            $link.clone().prependTo($sub.children('[data-submenu]')).wrap('<li class=\"is-submenu-parent-item is-submenu-item is-drilldown-submenu-item\" role=\"menu-item\"></li>');\n          }\n          $link.data('savedHref', $link.attr('href')).removeAttr('href');\n          $link.children('[data-submenu]').attr({\n            'aria-hidden': true,\n            'tabindex': 0,\n            'role': 'menu'\n          });\n          _this._events($link);\n        });\n        this.$submenus.each(function () {\n          var $menu = $(this),\n              $back = $menu.find('.js-drilldown-back');\n          if (!$back.length) {\n            $menu.prepend(_this.options.backButton);\n          }\n          _this._back($menu);\n        });\n        if (!this.$element.parent().hasClass('is-drilldown')) {\n          this.$wrapper = $(this.options.wrapper).addClass('is-drilldown');\n          this.$wrapper = this.$element.wrap(this.$wrapper).parent().css(this._getMaxDims());\n        }\n      }\n\n      /**\n       * Adds event handlers to elements in the menu.\n       * @function\n       * @private\n       * @param {jQuery} $elem - the current menu item to add handlers to.\n       */\n\n    }, {\n      key: '_events',\n      value: function _events($elem) {\n        var _this = this;\n\n        $elem.off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n          if ($(e.target).parentsUntil('ul', 'li').hasClass('is-drilldown-submenu-parent')) {\n            e.stopImmediatePropagation();\n            e.preventDefault();\n          }\n\n          // if(e.target !== e.currentTarget.firstElementChild){\n          //   return false;\n          // }\n          _this._show($elem.parent('li'));\n\n          if (_this.options.closeOnClick) {\n            var $body = $('body');\n            $body.off('.zf.drilldown').on('click.zf.drilldown', function (e) {\n              if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target)) {\n                return;\n              }\n              e.preventDefault();\n              _this._hideAll();\n              $body.off('.zf.drilldown');\n            });\n          }\n        });\n      }\n\n      /**\n       * Adds keydown event listener to `li`'s in the menu.\n       * @private\n       */\n\n    }, {\n      key: '_keyboardEvents',\n      value: function _keyboardEvents() {\n        var _this = this;\n\n        this.$menuItems.add(this.$element.find('.js-drilldown-back > a')).on('keydown.zf.drilldown', function (e) {\n\n          var $element = $(this),\n              $elements = $element.parent('li').parent('ul').children('li').children('a'),\n              $prevElement,\n              $nextElement;\n\n          $elements.each(function (i) {\n            if ($(this).is($element)) {\n              $prevElement = $elements.eq(Math.max(0, i - 1));\n              $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));\n              return;\n            }\n          });\n\n          Foundation.Keyboard.handleKey(e, 'Drilldown', {\n            next: function () {\n              if ($element.is(_this.$submenuAnchors)) {\n                _this._show($element.parent('li'));\n                $element.parent('li').one(Foundation.transitionend($element), function () {\n                  $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\n                });\n                return true;\n              }\n            },\n            previous: function () {\n              _this._hide($element.parent('li').parent('ul'));\n              $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {\n                setTimeout(function () {\n                  $element.parent('li').parent('ul').parent('li').children('a').first().focus();\n                }, 1);\n              });\n              return true;\n            },\n            up: function () {\n              $prevElement.focus();\n              return true;\n            },\n            down: function () {\n              $nextElement.focus();\n              return true;\n            },\n            close: function () {\n              _this._back();\n              //_this.$menuItems.first().focus(); // focus to first element\n            },\n            open: function () {\n              if (!$element.is(_this.$menuItems)) {\n                // not menu item means back button\n                _this._hide($element.parent('li').parent('ul'));\n                $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {\n                  setTimeout(function () {\n                    $element.parent('li').parent('ul').parent('li').children('a').first().focus();\n                  }, 1);\n                });\n              } else if ($element.is(_this.$submenuAnchors)) {\n                _this._show($element.parent('li'));\n                $element.parent('li').one(Foundation.transitionend($element), function () {\n                  $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\n                });\n              }\n              return true;\n            },\n            handled: function (preventDefault) {\n              if (preventDefault) {\n                e.preventDefault();\n              }\n              e.stopImmediatePropagation();\n            }\n          });\n        }); // end keyboardAccess\n      }\n\n      /**\n       * Closes all open elements, and returns to root menu.\n       * @function\n       * @fires Drilldown#closed\n       */\n\n    }, {\n      key: '_hideAll',\n      value: function _hideAll() {\n        var $elem = this.$element.find('.is-drilldown-submenu.is-active').addClass('is-closing');\n        $elem.one(Foundation.transitionend($elem), function (e) {\n          $elem.removeClass('is-active is-closing');\n        });\n        /**\n         * Fires when the menu is fully closed.\n         * @event Drilldown#closed\n         */\n        this.$element.trigger('closed.zf.drilldown');\n      }\n\n      /**\n       * Adds event listener for each `back` button, and closes open menus.\n       * @function\n       * @fires Drilldown#back\n       * @param {jQuery} $elem - the current sub-menu to add `back` event.\n       */\n\n    }, {\n      key: '_back',\n      value: function _back($elem) {\n        var _this = this;\n        $elem.off('click.zf.drilldown');\n        $elem.children('.js-drilldown-back').on('click.zf.drilldown', function (e) {\n          e.stopImmediatePropagation();\n          // console.log('mouseup on back');\n          _this._hide($elem);\n        });\n      }\n\n      /**\n       * Adds event listener to menu items w/o submenus to close open menus on click.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_menuLinkEvents',\n      value: function _menuLinkEvents() {\n        var _this = this;\n        this.$menuItems.not('.is-drilldown-submenu-parent').off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\n          // e.stopImmediatePropagation();\n          setTimeout(function () {\n            _this._hideAll();\n          }, 0);\n        });\n      }\n\n      /**\n       * Opens a submenu.\n       * @function\n       * @fires Drilldown#open\n       * @param {jQuery} $elem - the current element with a submenu to open, i.e. the `li` tag.\n       */\n\n    }, {\n      key: '_show',\n      value: function _show($elem) {\n        $elem.children('[data-submenu]').addClass('is-active');\n        /**\n         * Fires when the submenu has opened.\n         * @event Drilldown#open\n         */\n        this.$element.trigger('open.zf.drilldown', [$elem]);\n      }\n    }, {\n      key: '_hide',\n\n\n      /**\n       * Hides a submenu\n       * @function\n       * @fires Drilldown#hide\n       * @param {jQuery} $elem - the current sub-menu to hide, i.e. the `ul` tag.\n       */\n      value: function _hide($elem) {\n        var _this = this;\n        $elem.addClass('is-closing').one(Foundation.transitionend($elem), function () {\n          $elem.removeClass('is-active is-closing');\n          $elem.blur();\n        });\n        /**\n         * Fires when the submenu has closed.\n         * @event Drilldown#hide\n         */\n        $elem.trigger('hide.zf.drilldown', [$elem]);\n      }\n\n      /**\n       * Iterates through the nested menus to calculate the min-height, and max-width for the menu.\n       * Prevents content jumping.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_getMaxDims',\n      value: function _getMaxDims() {\n        var max = 0,\n            result = {};\n        this.$submenus.add(this.$element).each(function () {\n          var numOfElems = $(this).children('li').length;\n          max = numOfElems > max ? numOfElems : max;\n        });\n\n        result['min-height'] = max * this.$menuItems[0].getBoundingClientRect().height + 'px';\n        result['max-width'] = this.$element[0].getBoundingClientRect().width + 'px';\n\n        return result;\n      }\n\n      /**\n       * Destroys the Drilldown Menu\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this._hideAll();\n        Foundation.Nest.Burn(this.$element, 'drilldown');\n        this.$element.unwrap().find('.js-drilldown-back, .is-submenu-parent-item').remove().end().find('.is-active, .is-closing, .is-drilldown-submenu').removeClass('is-active is-closing is-drilldown-submenu').end().find('[data-submenu]').removeAttr('aria-hidden tabindex role');\n        this.$submenuAnchors.each(function () {\n          $(this).off('.zf.drilldown');\n        });\n        this.$element.find('a').each(function () {\n          var $link = $(this);\n          if ($link.data('savedHref')) {\n            $link.attr('href', $link.data('savedHref')).removeData('savedHref');\n          } else {\n            return;\n          }\n        });\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Drilldown;\n  }();\n\n  Drilldown.defaults = {\n    /**\n     * Markup used for JS generated back button. Prepended to submenu lists and deleted on `destroy` method, 'js-drilldown-back' class required. Remove the backslash (`\\`) if copy and pasting.\n     * @option\n     * @example '<\\li><\\a>Back<\\/a><\\/li>'\n     */\n    backButton: '<li class=\"js-drilldown-back\"><a tabindex=\"0\">Back</a></li>',\n    /**\n     * Markup used to wrap drilldown menu. Use a class name for independent styling; the JS applied class: `is-drilldown` is required. Remove the backslash (`\\`) if copy and pasting.\n     * @option\n     * @example '<\\div class=\"is-drilldown\"><\\/div>'\n     */\n    wrapper: '<div></div>',\n    /**\n     * Adds the parent link to the submenu.\n     * @option\n     * @example false\n     */\n    parentLink: false,\n    /**\n     * Allow the menu to return to root list on body click.\n     * @option\n     * @example false\n     */\n    closeOnClick: false\n    // holdOpen: false\n  };\n\n  // Window exports\n  Foundation.plugin(Drilldown, 'Drilldown');\n}(jQuery);"]},"hash":"4d5baab79afcab4c6bfb9ba81da61e7d275d11a6"}
