{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/zurb:foundation-sites/dist/plugins/foundation.accordionMenu.js","filenameRelative":"/packages/zurb:foundation-sites/dist/plugins/foundation.accordionMenu.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/zurb:foundation-sites/dist/plugins/foundation.accordionMenu.js.map","sourceFileName":"/packages/zurb:foundation-sites/dist/plugins/foundation.accordionMenu.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"foundation.accordionMenu"},"ignored":false,"code":"'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n!function ($) {\n\n  /**\n   * AccordionMenu module.\n   * @module foundation.accordionMenu\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   * @requires foundation.util.nest\n   */\n\n  var AccordionMenu = function () {\n    /**\n     * Creates a new instance of an accordion menu.\n     * @class\n     * @fires AccordionMenu#init\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function AccordionMenu(element, options) {\n      _classCallCheck(this, AccordionMenu);\n\n      this.$element = element;\n      this.options = $.extend({}, AccordionMenu.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'accordion');\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'AccordionMenu');\n      Foundation.Keyboard.register('AccordionMenu', {\n        'ENTER': 'toggle',\n        'SPACE': 'toggle',\n        'ARROW_RIGHT': 'open',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'close',\n        'ESCAPE': 'closeAll',\n        'TAB': 'down',\n        'SHIFT_TAB': 'up'\n      });\n    }\n\n    /**\n     * Initializes the accordion menu by hiding all nested menus.\n     * @private\n     */\n\n    _createClass(AccordionMenu, [{\n      key: '_init',\n      value: function () {\n        function _init() {\n          this.$element.find('[data-submenu]').not('.is-active').slideUp(0); //.find('a').css('padding-left', '1rem');\n          this.$element.attr({\n            'role': 'tablist',\n            'aria-multiselectable': this.options.multiOpen\n          });\n\n          this.$menuLinks = this.$element.find('.is-accordion-submenu-parent');\n          this.$menuLinks.each(function () {\n            var linkId = this.id || Foundation.GetYoDigits(6, 'acc-menu-link'),\n                $elem = $(this),\n                $sub = $elem.children('[data-submenu]'),\n                subId = $sub[0].id || Foundation.GetYoDigits(6, 'acc-menu'),\n                isActive = $sub.hasClass('is-active');\n            $elem.attr({\n              'aria-controls': subId,\n              'aria-expanded': isActive,\n              'role': 'tab',\n              'id': linkId\n            });\n            $sub.attr({\n              'aria-labelledby': linkId,\n              'aria-hidden': !isActive,\n              'role': 'tabpanel',\n              'id': subId\n            });\n          });\n          var initPanes = this.$element.find('.is-active');\n          if (initPanes.length) {\n            var _this = this;\n            initPanes.each(function () {\n              _this.down($(this));\n            });\n          }\n          this._events();\n        }\n\n        return _init;\n      }()\n\n      /**\n       * Adds event handlers for items within the menu.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function () {\n        function _events() {\n          var _this = this;\n\n          this.$element.find('li').each(function () {\n            var $submenu = $(this).children('[data-submenu]');\n\n            if ($submenu.length) {\n              $(this).children('a').off('click.zf.accordionMenu').on('click.zf.accordionMenu', function (e) {\n                e.preventDefault();\n\n                _this.toggle($submenu);\n              });\n            }\n          }).on('keydown.zf.accordionmenu', function (e) {\n            var $element = $(this),\n                $elements = $element.parent('ul').children('li'),\n                $prevElement,\n                $nextElement,\n                $target = $element.children('[data-submenu]');\n\n            $elements.each(function (i) {\n              if ($(this).is($element)) {\n                $prevElement = $elements.eq(Math.max(0, i - 1)).find('a').first();\n                $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1)).find('a').first();\n\n                if ($(this).children('[data-submenu]:visible').length) {\n                  // has open sub menu\n                  $nextElement = $element.find('li:first-child').find('a').first();\n                }\n                if ($(this).is(':first-child')) {\n                  // is first element of sub menu\n                  $prevElement = $element.parents('li').first().find('a').first();\n                } else if ($prevElement.children('[data-submenu]:visible').length) {\n                  // if previous element has open sub menu\n                  $prevElement = $prevElement.find('li:last-child').find('a').first();\n                }\n                if ($(this).is(':last-child')) {\n                  // is last element of sub menu\n                  $nextElement = $element.parents('li').first().next('li').find('a').first();\n                }\n\n                return;\n              }\n            });\n            Foundation.Keyboard.handleKey(e, 'AccordionMenu', {\n              open: function () {\n                function open() {\n                  if ($target.is(':hidden')) {\n                    _this.down($target);\n                    $target.find('li').first().find('a').first().focus();\n                  }\n                }\n\n                return open;\n              }(),\n              close: function () {\n                function close() {\n                  if ($target.length && !$target.is(':hidden')) {\n                    // close active sub of this item\n                    _this.up($target);\n                  } else if ($element.parent('[data-submenu]').length) {\n                    // close currently open sub\n                    _this.up($element.parent('[data-submenu]'));\n                    $element.parents('li').first().find('a').first().focus();\n                  }\n                }\n\n                return close;\n              }(),\n              up: function () {\n                function up() {\n                  $prevElement.attr('tabindex', -1).focus();\n                  return true;\n                }\n\n                return up;\n              }(),\n              down: function () {\n                function down() {\n                  $nextElement.attr('tabindex', -1).focus();\n                  return true;\n                }\n\n                return down;\n              }(),\n              toggle: function () {\n                function toggle() {\n                  if ($element.children('[data-submenu]').length) {\n                    _this.toggle($element.children('[data-submenu]'));\n                  }\n                }\n\n                return toggle;\n              }(),\n              closeAll: function () {\n                function closeAll() {\n                  _this.hideAll();\n                }\n\n                return closeAll;\n              }(),\n              handled: function () {\n                function handled(preventDefault) {\n                  if (preventDefault) {\n                    e.preventDefault();\n                  }\n                  e.stopImmediatePropagation();\n                }\n\n                return handled;\n              }()\n            });\n          }); //.attr('tabindex', 0);\n        }\n\n        return _events;\n      }()\n\n      /**\n       * Closes all panes of the menu.\n       * @function\n       */\n\n    }, {\n      key: 'hideAll',\n      value: function () {\n        function hideAll() {\n          this.$element.find('[data-submenu]').slideUp(this.options.slideSpeed);\n        }\n\n        return hideAll;\n      }()\n\n      /**\n       * Toggles the open/close state of a submenu.\n       * @function\n       * @param {jQuery} $target - the submenu to toggle\n       */\n\n    }, {\n      key: 'toggle',\n      value: function () {\n        function toggle($target) {\n          if (!$target.is(':animated')) {\n            if (!$target.is(':hidden')) {\n              this.up($target);\n            } else {\n              this.down($target);\n            }\n          }\n        }\n\n        return toggle;\n      }()\n\n      /**\n       * Opens the sub-menu defined by `$target`.\n       * @param {jQuery} $target - Sub-menu to open.\n       * @fires AccordionMenu#down\n       */\n\n    }, {\n      key: 'down',\n      value: function () {\n        function down($target) {\n          var _this = this;\n\n          if (!this.options.multiOpen) {\n            this.up(this.$element.find('.is-active').not($target.parentsUntil(this.$element).add($target)));\n          }\n\n          $target.addClass('is-active').attr({ 'aria-hidden': false }).parent('.is-accordion-submenu-parent').attr({ 'aria-expanded': true });\n\n          //Foundation.Move(this.options.slideSpeed, $target, function() {\n          $target.slideDown(_this.options.slideSpeed, function () {\n            /**\n             * Fires when the menu is done opening.\n             * @event AccordionMenu#down\n             */\n            _this.$element.trigger('down.zf.accordionMenu', [$target]);\n          });\n          //});\n        }\n\n        return down;\n      }()\n\n      /**\n       * Closes the sub-menu defined by `$target`. All sub-menus inside the target will be closed as well.\n       * @param {jQuery} $target - Sub-menu to close.\n       * @fires AccordionMenu#up\n       */\n\n    }, {\n      key: 'up',\n      value: function () {\n        function up($target) {\n          var _this = this;\n          //Foundation.Move(this.options.slideSpeed, $target, function(){\n          $target.slideUp(_this.options.slideSpeed, function () {\n            /**\n             * Fires when the menu is done collapsing up.\n             * @event AccordionMenu#up\n             */\n            _this.$element.trigger('up.zf.accordionMenu', [$target]);\n          });\n          //});\n\n          var $menus = $target.find('[data-submenu]').slideUp(0).addBack().attr('aria-hidden', true);\n\n          $menus.parent('.is-accordion-submenu-parent').attr('aria-expanded', false);\n        }\n\n        return up;\n      }()\n\n      /**\n       * Destroys an instance of accordion menu.\n       * @fires AccordionMenu#destroyed\n       */\n\n    }, {\n      key: 'destroy',\n      value: function () {\n        function destroy() {\n          this.$element.find('[data-submenu]').slideDown(0).css('display', '');\n          this.$element.find('a').off('click.zf.accordionMenu');\n\n          Foundation.Nest.Burn(this.$element, 'accordion');\n          Foundation.unregisterPlugin(this);\n        }\n\n        return destroy;\n      }()\n    }]);\n\n    return AccordionMenu;\n  }();\n\n  AccordionMenu.defaults = {\n    /**\n     * Amount of time to animate the opening of a submenu in ms.\n     * @option\n     * @example 250\n     */\n    slideSpeed: 250,\n    /**\n     * Allow the menu to have multiple open panes.\n     * @option\n     * @example true\n     */\n    multiOpen: true\n  };\n\n  // Window exports\n  Foundation.plugin(AccordionMenu, 'AccordionMenu');\n}(jQuery);","ast":null,"map":{"version":3,"sources":["/packages/zurb:foundation-sites/dist/plugins/foundation.accordionMenu.js"],"names":[],"mappings":"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","file":"/packages/zurb:foundation-sites/dist/plugins/foundation.accordionMenu.js.map","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * AccordionMenu module.\n   * @module foundation.accordionMenu\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   * @requires foundation.util.nest\n   */\n\n  var AccordionMenu = function () {\n    /**\n     * Creates a new instance of an accordion menu.\n     * @class\n     * @fires AccordionMenu#init\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n\n    function AccordionMenu(element, options) {\n      _classCallCheck(this, AccordionMenu);\n\n      this.$element = element;\n      this.options = $.extend({}, AccordionMenu.defaults, this.$element.data(), options);\n\n      Foundation.Nest.Feather(this.$element, 'accordion');\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'AccordionMenu');\n      Foundation.Keyboard.register('AccordionMenu', {\n        'ENTER': 'toggle',\n        'SPACE': 'toggle',\n        'ARROW_RIGHT': 'open',\n        'ARROW_UP': 'up',\n        'ARROW_DOWN': 'down',\n        'ARROW_LEFT': 'close',\n        'ESCAPE': 'closeAll',\n        'TAB': 'down',\n        'SHIFT_TAB': 'up'\n      });\n    }\n\n    /**\n     * Initializes the accordion menu by hiding all nested menus.\n     * @private\n     */\n\n\n    _createClass(AccordionMenu, [{\n      key: '_init',\n      value: function _init() {\n        this.$element.find('[data-submenu]').not('.is-active').slideUp(0); //.find('a').css('padding-left', '1rem');\n        this.$element.attr({\n          'role': 'tablist',\n          'aria-multiselectable': this.options.multiOpen\n        });\n\n        this.$menuLinks = this.$element.find('.is-accordion-submenu-parent');\n        this.$menuLinks.each(function () {\n          var linkId = this.id || Foundation.GetYoDigits(6, 'acc-menu-link'),\n              $elem = $(this),\n              $sub = $elem.children('[data-submenu]'),\n              subId = $sub[0].id || Foundation.GetYoDigits(6, 'acc-menu'),\n              isActive = $sub.hasClass('is-active');\n          $elem.attr({\n            'aria-controls': subId,\n            'aria-expanded': isActive,\n            'role': 'tab',\n            'id': linkId\n          });\n          $sub.attr({\n            'aria-labelledby': linkId,\n            'aria-hidden': !isActive,\n            'role': 'tabpanel',\n            'id': subId\n          });\n        });\n        var initPanes = this.$element.find('.is-active');\n        if (initPanes.length) {\n          var _this = this;\n          initPanes.each(function () {\n            _this.down($(this));\n          });\n        }\n        this._events();\n      }\n\n      /**\n       * Adds event handlers for items within the menu.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this;\n\n        this.$element.find('li').each(function () {\n          var $submenu = $(this).children('[data-submenu]');\n\n          if ($submenu.length) {\n            $(this).children('a').off('click.zf.accordionMenu').on('click.zf.accordionMenu', function (e) {\n              e.preventDefault();\n\n              _this.toggle($submenu);\n            });\n          }\n        }).on('keydown.zf.accordionmenu', function (e) {\n          var $element = $(this),\n              $elements = $element.parent('ul').children('li'),\n              $prevElement,\n              $nextElement,\n              $target = $element.children('[data-submenu]');\n\n          $elements.each(function (i) {\n            if ($(this).is($element)) {\n              $prevElement = $elements.eq(Math.max(0, i - 1)).find('a').first();\n              $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1)).find('a').first();\n\n              if ($(this).children('[data-submenu]:visible').length) {\n                // has open sub menu\n                $nextElement = $element.find('li:first-child').find('a').first();\n              }\n              if ($(this).is(':first-child')) {\n                // is first element of sub menu\n                $prevElement = $element.parents('li').first().find('a').first();\n              } else if ($prevElement.children('[data-submenu]:visible').length) {\n                // if previous element has open sub menu\n                $prevElement = $prevElement.find('li:last-child').find('a').first();\n              }\n              if ($(this).is(':last-child')) {\n                // is last element of sub menu\n                $nextElement = $element.parents('li').first().next('li').find('a').first();\n              }\n\n              return;\n            }\n          });\n          Foundation.Keyboard.handleKey(e, 'AccordionMenu', {\n            open: function () {\n              if ($target.is(':hidden')) {\n                _this.down($target);\n                $target.find('li').first().find('a').first().focus();\n              }\n            },\n            close: function () {\n              if ($target.length && !$target.is(':hidden')) {\n                // close active sub of this item\n                _this.up($target);\n              } else if ($element.parent('[data-submenu]').length) {\n                // close currently open sub\n                _this.up($element.parent('[data-submenu]'));\n                $element.parents('li').first().find('a').first().focus();\n              }\n            },\n            up: function () {\n              $prevElement.attr('tabindex', -1).focus();\n              return true;\n            },\n            down: function () {\n              $nextElement.attr('tabindex', -1).focus();\n              return true;\n            },\n            toggle: function () {\n              if ($element.children('[data-submenu]').length) {\n                _this.toggle($element.children('[data-submenu]'));\n              }\n            },\n            closeAll: function () {\n              _this.hideAll();\n            },\n            handled: function (preventDefault) {\n              if (preventDefault) {\n                e.preventDefault();\n              }\n              e.stopImmediatePropagation();\n            }\n          });\n        }); //.attr('tabindex', 0);\n      }\n\n      /**\n       * Closes all panes of the menu.\n       * @function\n       */\n\n    }, {\n      key: 'hideAll',\n      value: function hideAll() {\n        this.$element.find('[data-submenu]').slideUp(this.options.slideSpeed);\n      }\n\n      /**\n       * Toggles the open/close state of a submenu.\n       * @function\n       * @param {jQuery} $target - the submenu to toggle\n       */\n\n    }, {\n      key: 'toggle',\n      value: function toggle($target) {\n        if (!$target.is(':animated')) {\n          if (!$target.is(':hidden')) {\n            this.up($target);\n          } else {\n            this.down($target);\n          }\n        }\n      }\n\n      /**\n       * Opens the sub-menu defined by `$target`.\n       * @param {jQuery} $target - Sub-menu to open.\n       * @fires AccordionMenu#down\n       */\n\n    }, {\n      key: 'down',\n      value: function down($target) {\n        var _this = this;\n\n        if (!this.options.multiOpen) {\n          this.up(this.$element.find('.is-active').not($target.parentsUntil(this.$element).add($target)));\n        }\n\n        $target.addClass('is-active').attr({ 'aria-hidden': false }).parent('.is-accordion-submenu-parent').attr({ 'aria-expanded': true });\n\n        //Foundation.Move(this.options.slideSpeed, $target, function() {\n        $target.slideDown(_this.options.slideSpeed, function () {\n          /**\n           * Fires when the menu is done opening.\n           * @event AccordionMenu#down\n           */\n          _this.$element.trigger('down.zf.accordionMenu', [$target]);\n        });\n        //});\n      }\n\n      /**\n       * Closes the sub-menu defined by `$target`. All sub-menus inside the target will be closed as well.\n       * @param {jQuery} $target - Sub-menu to close.\n       * @fires AccordionMenu#up\n       */\n\n    }, {\n      key: 'up',\n      value: function up($target) {\n        var _this = this;\n        //Foundation.Move(this.options.slideSpeed, $target, function(){\n        $target.slideUp(_this.options.slideSpeed, function () {\n          /**\n           * Fires when the menu is done collapsing up.\n           * @event AccordionMenu#up\n           */\n          _this.$element.trigger('up.zf.accordionMenu', [$target]);\n        });\n        //});\n\n        var $menus = $target.find('[data-submenu]').slideUp(0).addBack().attr('aria-hidden', true);\n\n        $menus.parent('.is-accordion-submenu-parent').attr('aria-expanded', false);\n      }\n\n      /**\n       * Destroys an instance of accordion menu.\n       * @fires AccordionMenu#destroyed\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.find('[data-submenu]').slideDown(0).css('display', '');\n        this.$element.find('a').off('click.zf.accordionMenu');\n\n        Foundation.Nest.Burn(this.$element, 'accordion');\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return AccordionMenu;\n  }();\n\n  AccordionMenu.defaults = {\n    /**\n     * Amount of time to animate the opening of a submenu in ms.\n     * @option\n     * @example 250\n     */\n    slideSpeed: 250,\n    /**\n     * Allow the menu to have multiple open panes.\n     * @option\n     * @example true\n     */\n    multiOpen: true\n  };\n\n  // Window exports\n  Foundation.plugin(AccordionMenu, 'AccordionMenu');\n}(jQuery);"]},"hash":"263afe87d5e8ff33e8d04a31a799945233efe64f"}
