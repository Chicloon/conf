{"metadata":{"usedHelpers":["typeof","interopRequireDefault"],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/zurb:foundation-sites/vendor/lodash/dist/lodash.underscore.js","filenameRelative":"/packages/zurb:foundation-sites/vendor/lodash/dist/lodash.underscore.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/zurb:foundation-sites/vendor/lodash/dist/lodash.underscore.js.map","sourceFileName":"/packages/zurb:foundation-sites/vendor/lodash/dist/lodash.underscore.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"lodash.underscore"},"ignored":false,"code":"var _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * @license\n * Lo-Dash 2.4.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash underscore exports=\"amd,commonjs,global,node\" -o ./dist/lodash.underscore.js`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function () {\n\n  /** Used as a safe reference for `undefined` in pre ES5 environments */\n  var undefined;\n\n  /** Used to generate unique IDs */\n  var idCounter = 0;\n\n  /** Used internally to indicate various things */\n  var indicatorObject = {};\n\n  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */\n  var keyPrefix = +new Date() + '';\n\n  /** Used to match \"interpolate\" template delimiters */\n  var reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to ensure capturing order of template delimiters */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals */\n  var reUnescapedString = /['\\n\\r\\t\\u2028\\u2029\\\\]/g;\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Used as a reference to the global object */\n  var root = objectTypes[typeof window === 'undefined' ? 'undefined' : (0, _typeof3['default'])(window)] && window || this;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports === 'undefined' ? 'undefined' : (0, _typeof3['default'])(exports)] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module === 'undefined' ? 'undefined' : (0, _typeof3['default'])(module)] && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports` */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = objectTypes[typeof global === 'undefined' ? 'undefined' : (0, _typeof3['default'])(global)] && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches\n   * or `fromIndex` constraints.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} [fromIndex=0] The index to search from.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    var index = (fromIndex || 0) - 1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Used by `sortBy` to compare transformed `collection` elements, stable sorting\n   * them in ascending order.\n   *\n   * @private\n   * @param {Object} a The object to compare to `b`.\n   * @param {Object} b The object to compare to `a`.\n   * @returns {number} Returns the sort order indicator of `1` or `-1`.\n   */\n  function compareAscending(a, b) {\n    var ac = a.criteria,\n        bc = b.criteria,\n        index = -1,\n        length = ac.length;\n\n    while (++index < length) {\n      var value = ac[index],\n          other = bc[index];\n\n      if (value !== other) {\n        if (value > other || typeof value == 'undefined') {\n          return 1;\n        }\n        if (value < other || typeof other == 'undefined') {\n          return -1;\n        }\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to return the same value for\n    // `a` and `b`. See https://github.com/jashkenas/underscore/pull/1247\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See http://code.google.com/p/v8/issues/detail?id=90\n    return a.index - b.index;\n  }\n\n  /**\n   * Used by `template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(match) {\n    return '\\\\' + stringEscapes[match];\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used instead of `Array#slice` to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|string} collection The collection to slice.\n   * @param {number} start The start index.\n   * @param {number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Used for `Array` method references.\n   *\n   * Normally `Array.prototype` would suffice, however, using an array literal\n   * avoids issues in Narwhal.\n   */\n  var arrayRef = [];\n\n  /** Used for native method references */\n  var objectProto = Object.prototype;\n\n  /** Used to restore the original `_` reference in `noConflict` */\n  var oldDash = root._;\n\n  /** Used to resolve the internal [[Class]] of values */\n  var toString = objectProto.toString;\n\n  /** Used to detect if a method is native */\n  var reNative = RegExp('^' + String(toString).replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&').replace(/toString| for [^\\]]+/g, '.*?') + '$');\n\n  /** Native method shortcuts */\n  var ceil = Math.ceil,\n      floor = Math.floor,\n      hasOwnProperty = objectProto.hasOwnProperty,\n      push = arrayRef.push,\n      propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n  /* Native method shortcuts for methods with the same name as other `lodash` methods */\n  var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n      nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n      nativeIsFinite = root.isFinite,\n      nativeIsNaN = root.isNaN,\n      nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n      nativeMax = Math.max,\n      nativeMin = Math.min,\n      nativeRandom = Math.random;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object which wraps the given value to enable intuitive\n   * method chaining.\n   *\n   * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n   * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n   * and `unshift`\n   *\n   * Chaining is supported in custom builds as long as the `value` method is\n   * implicitly or explicitly included in the build.\n   *\n   * The chainable wrapper functions are:\n   * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n   * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,\n   * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,\n   * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n   * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n   * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n   * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,\n   * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,\n   * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,\n   * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,\n   * and `zip`\n   *\n   * The non-chainable wrapper functions are:\n   * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,\n   * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,\n   * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n   * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,\n   * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,\n   * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,\n   * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,\n   * `template`, `unescape`, `uniqueId`, and `value`\n   *\n   * The wrapper functions `first` and `last` return wrapped values when `n` is\n   * provided, otherwise they return unwrapped values.\n   *\n   * Explicit chaining can be enabled by using the `_.chain` method.\n   *\n   * @name _\n   * @constructor\n   * @category Chaining\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @returns {Object} Returns a `lodash` instance.\n   * @example\n   *\n   * var wrapped = _([1, 2, 3]);\n   *\n   * // returns an unwrapped value\n   * wrapped.reduce(function(sum, num) {\n   *   return sum + num;\n   * });\n   * // => 6\n   *\n   * // returns a wrapped value\n   * var squares = wrapped.map(function(num) {\n   *   return num * num;\n   * });\n   *\n   * _.isArray(squares);\n   * // => false\n   *\n   * _.isArray(squares.value());\n   * // => true\n   */\n  function lodash(value) {\n    return value instanceof lodash ? value : new lodashWrapper(value);\n  }\n\n  /**\n   * A fast path for creating `lodash` wrapper objects.\n   *\n   * @private\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @param {boolean} chainAll A flag to enable chaining for all methods\n   * @returns {Object} Returns a `lodash` instance.\n   */\n  function lodashWrapper(value, chainAll) {\n    this.__chain__ = !!chainAll;\n    this.__wrapped__ = value;\n  }\n  // ensure `new lodashWrapper` is an instance of `lodash`\n  lodashWrapper.prototype = lodash.prototype;\n\n  /**\n   * An object used to flag environments features.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  var support = {};\n\n  (function () {\n    var object = { '0': 1, 'length': 1 };\n\n    /**\n     * Detect if `Array#shift` and `Array#splice` augment array-like objects correctly.\n     *\n     * Firefox < 10, IE compatibility mode, and IE < 9 have buggy Array `shift()`\n     * and `splice()` functions that fail to remove the last element, `value[0]`,\n     * of array-like objects even though the `length` property is set to `0`.\n     * The `shift()` method is buggy in IE 8 compatibility mode, while `splice()`\n     * is buggy regardless of mode in IE < 9 and buggy in compatibility mode in IE 9.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.spliceObjects = (arrayRef.splice.call(object, 0, 1), !object[0]);\n  })(1);\n\n  /**\n   * By default, the template delimiters used by Lo-Dash are similar to those in\n   * embedded Ruby (ERB). Change the following template settings to use alternative\n   * delimiters.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  lodash.templateSettings = {\n\n    /**\n     * Used to detect `data` property values to be HTML-escaped.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'escape': /<%-([\\s\\S]+?)%>/g,\n\n    /**\n     * Used to detect code to be evaluated.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'evaluate': /<%([\\s\\S]+?)%>/g,\n\n    /**\n     * Used to detect `data` property values to inject.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'interpolate': reInterpolate,\n\n    /**\n     * Used to reference the data object in the template text.\n     *\n     * @memberOf _.templateSettings\n     * @type string\n     */\n    'variable': ''\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.bind` that creates the bound function and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new bound function.\n   */\n  function baseBind(bindData) {\n    var func = bindData[0],\n        partialArgs = bindData[2],\n        thisArg = bindData[4];\n\n    function bound() {\n      // `Function#bind` spec\n      // http://es5.github.io/#x15.3.4.5\n      if (partialArgs) {\n        // avoid `arguments` object deoptimizations by using `slice` instead\n        // of `Array.prototype.slice.call` and not assigning `arguments` to a\n        // variable as a ternary expression\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      // mimic the constructor's `return` behavior\n      // http://es5.github.io/#x13.2.2\n      if (this instanceof bound) {\n        // ensure `new bound` is an instance of `func`\n        var thisBinding = baseCreate(func.prototype),\n            result = func.apply(thisBinding, args || arguments);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisArg, args || arguments);\n    }\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.create` without support for assigning\n   * properties to the created object.\n   *\n   * @private\n   * @param {Object} prototype The object to inherit from.\n   * @returns {Object} Returns the new object.\n   */\n  function baseCreate(prototype, properties) {\n    return isObject(prototype) ? nativeCreate(prototype) : {};\n  }\n  // fallback for browsers without `Object.create`\n  if (!nativeCreate) {\n    baseCreate = function () {\n      function Object() {}\n      return function (prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object();\n          Object.prototype = null;\n        }\n        return result || root.Object();\n      };\n    }();\n  }\n\n  /**\n   * The base implementation of `_.createCallback` without support for creating\n   * \"_.pluck\" or \"_.where\" style callbacks.\n   *\n   * @private\n   * @param {*} [func=identity] The value to convert to a callback.\n   * @param {*} [thisArg] The `this` binding of the created callback.\n   * @param {number} [argCount] The number of arguments the callback accepts.\n   * @returns {Function} Returns a callback function.\n   */\n  function baseCreateCallback(func, thisArg, argCount) {\n    if (typeof func != 'function') {\n      return identity;\n    }\n    // exit early for no `thisArg` or already bound by `Function#bind`\n    if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n      return func;\n    }\n    switch (argCount) {\n      case 1:\n        return function (value) {\n          return func.call(thisArg, value);\n        };\n      case 2:\n        return function (a, b) {\n          return func.call(thisArg, a, b);\n        };\n      case 3:\n        return function (value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n      case 4:\n        return function (accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n    }\n    return bind(func, thisArg);\n  }\n\n  /**\n   * The base implementation of `createWrapper` that creates the wrapper and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new function.\n   */\n  function baseCreateWrapper(bindData) {\n    var func = bindData[0],\n        bitmask = bindData[1],\n        partialArgs = bindData[2],\n        partialRightArgs = bindData[3],\n        thisArg = bindData[4],\n        arity = bindData[5];\n\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        key = func;\n\n    function bound() {\n      var thisBinding = isBind ? thisArg : this;\n      if (partialArgs) {\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      if (partialRightArgs || isCurry) {\n        args || (args = slice(arguments));\n        if (partialRightArgs) {\n          push.apply(args, partialRightArgs);\n        }\n        if (isCurry && args.length < arity) {\n          bitmask |= 16 & ~32;\n          return baseCreateWrapper([func, isCurryBound ? bitmask : bitmask & ~3, args, null, thisArg, arity]);\n        }\n      }\n      args || (args = arguments);\n      if (isBindKey) {\n        func = thisBinding[key];\n      }\n      if (this instanceof bound) {\n        thisBinding = baseCreate(func.prototype);\n        var result = func.apply(thisBinding, args);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisBinding, args);\n    }\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.difference` that accepts a single array\n   * of values to exclude.\n   *\n   * @private\n   * @param {Array} array The array to process.\n   * @param {Array} [values] The array of values to exclude.\n   * @returns {Array} Returns a new array of filtered values.\n   */\n  function baseDifference(array, values) {\n    var index = -1,\n        indexOf = getIndexOf(),\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (indexOf(values, value) < 0) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.flatten` without support for callback\n   * shorthands or `thisArg` binding.\n   *\n   * @private\n   * @param {Array} array The array to flatten.\n   * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n   * @param {boolean} [isStrict=false] A flag to restrict flattening to arrays and `arguments` objects.\n   * @param {number} [fromIndex=0] The index to start from.\n   * @returns {Array} Returns a new flattened array.\n   */\n  function baseFlatten(array, isShallow, isStrict, fromIndex) {\n    var index = (fromIndex || 0) - 1,\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n\n      if (value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3['default'])(value)) == 'object' && typeof value.length == 'number' && (isArray(value) || isArguments(value))) {\n        // recursively flatten arrays (susceptible to call stack limits)\n        if (!isShallow) {\n          value = baseFlatten(value, isShallow, isStrict);\n        }\n        var valIndex = -1,\n            valLength = value.length,\n            resIndex = result.length;\n\n        result.length += valLength;\n        while (++valIndex < valLength) {\n          result[resIndex++] = value[valIndex];\n        }\n      } else if (!isStrict) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.isEqual`, without support for `thisArg` binding,\n   * that allows partial \"_.where\" style comparisons.\n   *\n   * @private\n   * @param {*} a The value to compare.\n   * @param {*} b The other value to compare.\n   * @param {Function} [callback] The function to customize comparing values.\n   * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.\n   * @param {Array} [stackA=[]] Tracks traversed `a` objects.\n   * @param {Array} [stackB=[]] Tracks traversed `b` objects.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   */\n  function baseIsEqual(a, b, stackA, stackB) {\n    if (a === b) {\n      return a !== 0 || 1 / a == 1 / b;\n    }\n    var type = typeof a === 'undefined' ? 'undefined' : (0, _typeof3['default'])(a),\n        otherType = typeof b === 'undefined' ? 'undefined' : (0, _typeof3['default'])(b);\n\n    if (a === a && !(a && objectTypes[type]) && !(b && objectTypes[otherType])) {\n      return false;\n    }\n    if (a == null || b == null) {\n      return a === b;\n    }\n    var className = toString.call(a),\n        otherClass = toString.call(b);\n\n    if (className != otherClass) {\n      return false;\n    }\n    switch (className) {\n      case boolClass:\n      case dateClass:\n        return +a == +b;\n\n      case numberClass:\n        return a != +a ? b != +b : a == 0 ? 1 / a == 1 / b : a == +b;\n\n      case regexpClass:\n      case stringClass:\n        return a == String(b);\n    }\n    var isArr = className == arrayClass;\n    if (!isArr) {\n      var aWrapped = a instanceof lodash,\n          bWrapped = b instanceof lodash;\n\n      if (aWrapped || bWrapped) {\n        return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, stackA, stackB);\n      }\n      if (className != objectClass) {\n        return false;\n      }\n      var ctorA = a.constructor,\n          ctorB = b.constructor;\n\n      if (ctorA != ctorB && !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) && 'constructor' in a && 'constructor' in b) {\n        return false;\n      }\n    }\n    stackA || (stackA = []);\n    stackB || (stackB = []);\n\n    var length = stackA.length;\n    while (length--) {\n      if (stackA[length] == a) {\n        return stackB[length] == b;\n      }\n    }\n    var result = true,\n        size = 0;\n\n    stackA.push(a);\n    stackB.push(b);\n\n    if (isArr) {\n      size = b.length;\n      result = size == a.length;\n\n      if (result) {\n        while (size--) {\n          if (!(result = baseIsEqual(a[size], b[size], stackA, stackB))) {\n            break;\n          }\n        }\n      }\n    } else {\n      forIn(b, function (value, key, b) {\n        if (hasOwnProperty.call(b, key)) {\n          size++;\n          return !(result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, stackA, stackB)) && indicatorObject;\n        }\n      });\n\n      if (result) {\n        forIn(a, function (value, key, a) {\n          if (hasOwnProperty.call(a, key)) {\n            return !(result = --size > -1) && indicatorObject;\n          }\n        });\n      }\n    }\n    stackA.pop();\n    stackB.pop();\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.random` without argument juggling or support\n   * for returning floating-point numbers.\n   *\n   * @private\n   * @param {number} min The minimum possible value.\n   * @param {number} max The maximum possible value.\n   * @returns {number} Returns a random number.\n   */\n  function baseRandom(min, max) {\n    return min + floor(nativeRandom() * (max - min + 1));\n  }\n\n  /**\n   * The base implementation of `_.uniq` without support for callback shorthands\n   * or `thisArg` binding.\n   *\n   * @private\n   * @param {Array} array The array to process.\n   * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n   * @param {Function} [callback] The function called per iteration.\n   * @returns {Array} Returns a duplicate-value-free array.\n   */\n  function baseUniq(array, isSorted, callback) {\n    var index = -1,\n        indexOf = getIndexOf(),\n        length = array ? array.length : 0,\n        result = [],\n        seen = callback ? [] : result;\n\n    while (++index < length) {\n      var value = array[index],\n          computed = callback ? callback(value, index, array) : value;\n\n      if (isSorted ? !index || seen[seen.length - 1] !== computed : indexOf(seen, computed) < 0) {\n        if (callback) {\n          seen.push(computed);\n        }\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates a function that aggregates a collection, creating an object composed\n   * of keys generated from the results of running each element of the collection\n   * through a callback. The given `setter` function sets the keys and values\n   * of the composed object.\n   *\n   * @private\n   * @param {Function} setter The setter function.\n   * @returns {Function} Returns the new aggregator function.\n   */\n  function createAggregator(setter) {\n    return function (collection, callback, thisArg) {\n      var result = {};\n      callback = createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          setter(result, value, callback(value, index, collection), collection);\n        }\n      } else {\n        forOwn(collection, function (value, key, collection) {\n          setter(result, value, callback(value, key, collection), collection);\n        });\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Creates a function that, when called, either curries or invokes `func`\n   * with an optional `this` binding and partially applied arguments.\n   *\n   * @private\n   * @param {Function|string} func The function or method name to reference.\n   * @param {number} bitmask The bitmask of method flags to compose.\n   *  The bitmask may be composed of the following flags:\n   *  1 - `_.bind`\n   *  2 - `_.bindKey`\n   *  4 - `_.curry`\n   *  8 - `_.curry` (bound)\n   *  16 - `_.partial`\n   *  32 - `_.partialRight`\n   * @param {Array} [partialArgs] An array of arguments to prepend to those\n   *  provided to the new function.\n   * @param {Array} [partialRightArgs] An array of arguments to append to those\n   *  provided to the new function.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {number} [arity] The arity of `func`.\n   * @returns {Function} Returns the new function.\n   */\n  function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        isPartial = bitmask & 16,\n        isPartialRight = bitmask & 32;\n\n    if (!isBindKey && !isFunction(func)) {\n      throw new TypeError();\n    }\n    if (isPartial && !partialArgs.length) {\n      bitmask &= ~16;\n      isPartial = partialArgs = false;\n    }\n    if (isPartialRight && !partialRightArgs.length) {\n      bitmask &= ~32;\n      isPartialRight = partialRightArgs = false;\n    }\n    // fast path for `_.bind`\n    var creater = bitmask == 1 || bitmask === 17 ? baseBind : baseCreateWrapper;\n    return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n  }\n\n  /**\n   * Used by `escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(match) {\n    return htmlEscapes[match];\n  }\n\n  /**\n   * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n   * customized, this method returns the custom method, otherwise it returns\n   * the `baseIndexOf` function.\n   *\n   * @private\n   * @returns {Function} Returns the \"indexOf\" function.\n   */\n  function getIndexOf() {\n    var result = (result = lodash.indexOf) === indexOf ? baseIndexOf : result;\n    return result;\n  }\n\n  /**\n   * Checks if `value` is a native function.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n   */\n  function isNative(value) {\n    return typeof value == 'function' && reNative.test(value);\n  }\n\n  /**\n   * Used by `unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} match The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(match) {\n    return htmlUnescapes[match];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Checks if `value` is an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.\n   * @example\n   *\n   * (function() { return _.isArguments(arguments); })(1, 2, 3);\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    return value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3['default'])(value)) == 'object' && typeof value.length == 'number' && toString.call(value) == argsClass || false;\n  }\n  // fallback for browsers that can't detect `arguments` objects by [[Class]]\n  if (!isArguments(arguments)) {\n    isArguments = function isArguments(value) {\n      return value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3['default'])(value)) == 'object' && typeof value.length == 'number' && hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee') || false;\n    };\n  }\n\n  /**\n   * Checks if `value` is an array.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n   * @example\n   *\n   * (function() { return _.isArray(arguments); })();\n   * // => false\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   */\n  var isArray = nativeIsArray || function (value) {\n    return value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3['default'])(value)) == 'object' && typeof value.length == 'number' && toString.call(value) == arrayClass || false;\n  };\n\n  /**\n   * A fallback implementation of `Object.keys` which produces an array of the\n   * given object's own enumerable property names.\n   *\n   * @private\n   * @type Function\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   */\n  var shimKeys = function shimKeys(object) {\n    var index,\n        iterable = object,\n        result = [];\n    if (!iterable) return result;\n    if (!objectTypes[typeof object === 'undefined' ? 'undefined' : (0, _typeof3['default'])(object)]) return result;\n    for (index in meteorBabelHelpers.sanitizeForInObject(iterable)) {\n      if (hasOwnProperty.call(iterable, index)) {\n        result.push(index);\n      }\n    }\n    return result;\n  };\n\n  /**\n   * Creates an array composed of the own enumerable property names of an object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   * @example\n   *\n   * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n   */\n  var keys = !nativeKeys ? shimKeys : function (object) {\n    if (!isObject(object)) {\n      return [];\n    }\n    return nativeKeys(object);\n  };\n\n  /**\n   * Used to convert characters to HTML entities:\n   *\n   * Though the `>` character is escaped for symmetry, characters like `>` and `/`\n   * don't require escaping in HTML and have no special meaning unless they're part\n   * of a tag or an unquoted attribute value.\n   * http://mathiasbynens.be/notes/ambiguous-ampersands (under \"semi-related fun fact\")\n   */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;'\n  };\n\n  /** Used to convert HTML entities to characters */\n  var htmlUnescapes = invert(htmlEscapes);\n\n  /** Used to match HTML entities and HTML characters */\n  var reEscapedHtml = RegExp('(' + keys(htmlUnescapes).join('|') + ')', 'g'),\n      reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object. Subsequent sources will overwrite property assignments of previous\n   * sources. If a callback is provided it will be executed to produce the\n   * assigned values. The callback is bound to `thisArg` and invoked with two\n   * arguments; (objectValue, sourceValue).\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @alias extend\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param {Function} [callback] The function to customize assigning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n   * // => { 'name': 'fred', 'employer': 'slate' }\n   *\n   * var defaults = _.partialRight(_.assign, function(a, b) {\n   *   return typeof a == 'undefined' ? b : a;\n   * });\n   *\n   * var object = { 'name': 'barney' };\n   * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n   * // => { 'name': 'barney', 'employer': 'slate' }\n   */\n  function assign(object) {\n    if (!object) {\n      return object;\n    }\n    for (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {\n      var iterable = arguments[argsIndex];\n      if (iterable) {\n        for (var key in meteorBabelHelpers.sanitizeForInObject(iterable)) {\n          object[key] = iterable[key];\n        }\n      }\n    }\n    return object;\n  }\n\n  /**\n   * Creates a clone of `value`. If `isDeep` is `true` nested objects will also\n   * be cloned, otherwise they will be assigned by reference. If a callback\n   * is provided it will be executed to produce the cloned values. If the\n   * callback returns `undefined` cloning will be handled by the method instead.\n   * The callback is bound to `thisArg` and invoked with one argument; (value).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to clone.\n   * @param {boolean} [isDeep=false] Specify a deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the cloned value.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * var shallow = _.clone(characters);\n   * shallow[0] === characters[0];\n   * // => true\n   *\n   * var deep = _.clone(characters, true);\n   * deep[0] === characters[0];\n   * // => false\n   *\n   * _.mixin({\n   *   'clone': _.partialRight(_.clone, function(value) {\n   *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n   *   })\n   * });\n   *\n   * var clone = _.clone(document.body);\n   * clone.childNodes.length;\n   * // => 0\n   */\n  function clone(value) {\n    return isObject(value) ? isArray(value) ? slice(value) : assign({}, value) : value;\n  }\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object for all destination properties that resolve to `undefined`. Once a\n   * property is set, additional defaults of the same property will be ignored.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param- {Object} [guard] Allows working with `_.reduce` without using its\n   *  `key` and `object` arguments as sources.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * var object = { 'name': 'barney' };\n   * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });\n   * // => { 'name': 'barney', 'employer': 'slate' }\n   */\n  function defaults(object) {\n    if (!object) {\n      return object;\n    }\n    for (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {\n      var iterable = arguments[argsIndex];\n      if (iterable) {\n        for (var key in meteorBabelHelpers.sanitizeForInObject(iterable)) {\n          if (typeof object[key] == 'undefined') {\n            object[key] = iterable[key];\n          }\n        }\n      }\n    }\n    return object;\n  }\n\n  /**\n   * Iterates over own and inherited enumerable properties of an object,\n   * executing the callback for each property. The callback is bound to `thisArg`\n   * and invoked with three arguments; (value, key, object). Callbacks may exit\n   * iteration early by explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * function Shape() {\n   *   this.x = 0;\n   *   this.y = 0;\n   * }\n   *\n   * Shape.prototype.move = function(x, y) {\n   *   this.x += x;\n   *   this.y += y;\n   * };\n   *\n   * _.forIn(new Shape, function(value, key) {\n   *   console.log(key);\n   * });\n   * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)\n   */\n  var forIn = function forIn(collection, callback) {\n    var index,\n        iterable = collection,\n        result = iterable;\n    if (!iterable) return result;\n    if (!objectTypes[typeof iterable === 'undefined' ? 'undefined' : (0, _typeof3['default'])(iterable)]) return result;\n    for (index in meteorBabelHelpers.sanitizeForInObject(iterable)) {\n      if (callback(iterable[index], index, collection) === indicatorObject) return result;\n    }\n    return result;\n  };\n\n  /**\n   * Iterates over own enumerable properties of an object, executing the callback\n   * for each property. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, key, object). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n   *   console.log(key);\n   * });\n   * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n   */\n  var forOwn = function forOwn(collection, callback) {\n    var index,\n        iterable = collection,\n        result = iterable;\n    if (!iterable) return result;\n    if (!objectTypes[typeof iterable === 'undefined' ? 'undefined' : (0, _typeof3['default'])(iterable)]) return result;\n    for (index in meteorBabelHelpers.sanitizeForInObject(iterable)) {\n      if (hasOwnProperty.call(iterable, index)) {\n        if (callback(iterable[index], index, collection) === indicatorObject) return result;\n      }\n    }\n    return result;\n  };\n\n  /**\n   * Creates a sorted array of property names of all enumerable properties,\n   * own and inherited, of `object` that have function values.\n   *\n   * @static\n   * @memberOf _\n   * @alias methods\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names that have function values.\n   * @example\n   *\n   * _.functions(_);\n   * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]\n   */\n  function functions(object) {\n    var result = [];\n    forIn(object, function (value, key) {\n      if (isFunction(value)) {\n        result.push(key);\n      }\n    });\n    return result.sort();\n  }\n\n  /**\n   * Checks if the specified property name exists as a direct property of `object`,\n   * instead of an inherited property.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @param {string} key The name of the property to check.\n   * @returns {boolean} Returns `true` if key is a direct property, else `false`.\n   * @example\n   *\n   * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');\n   * // => true\n   */\n  function has(object, key) {\n    return object ? hasOwnProperty.call(object, key) : false;\n  }\n\n  /**\n   * Creates an object composed of the inverted keys and values of the given object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to invert.\n   * @returns {Object} Returns the created inverted object.\n   * @example\n   *\n   * _.invert({ 'first': 'fred', 'second': 'barney' });\n   * // => { 'fred': 'first', 'barney': 'second' }\n   */\n  function invert(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = {};\n\n    while (++index < length) {\n      var key = props[index];\n      result[object[key]] = key;\n    }\n    return result;\n  }\n\n  /**\n   * Checks if `value` is a boolean value.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a boolean value, else `false`.\n   * @example\n   *\n   * _.isBoolean(null);\n   * // => false\n   */\n  function isBoolean(value) {\n    return value === true || value === false || value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3['default'])(value)) == 'object' && toString.call(value) == boolClass || false;\n  }\n\n  /**\n   * Checks if `value` is a date.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a date, else `false`.\n   * @example\n   *\n   * _.isDate(new Date);\n   * // => true\n   */\n  function isDate(value) {\n    return value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3['default'])(value)) == 'object' && toString.call(value) == dateClass || false;\n  }\n\n  /**\n   * Checks if `value` is a DOM element.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a DOM element, else `false`.\n   * @example\n   *\n   * _.isElement(document.body);\n   * // => true\n   */\n  function isElement(value) {\n    return value && value.nodeType === 1 || false;\n  }\n\n  /**\n   * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n   * length of `0` and objects with no own enumerable properties are considered\n   * \"empty\".\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Array|Object|string} value The value to inspect.\n   * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n   * @example\n   *\n   * _.isEmpty([1, 2, 3]);\n   * // => false\n   *\n   * _.isEmpty({});\n   * // => true\n   *\n   * _.isEmpty('');\n   * // => true\n   */\n  function isEmpty(value) {\n    if (!value) {\n      return true;\n    }\n    if (isArray(value) || isString(value)) {\n      return !value.length;\n    }\n    for (var key in meteorBabelHelpers.sanitizeForInObject(value)) {\n      if (hasOwnProperty.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Performs a deep comparison between two values to determine if they are\n   * equivalent to each other. If a callback is provided it will be executed\n   * to compare values. If the callback returns `undefined` comparisons will\n   * be handled by the method instead. The callback is bound to `thisArg` and\n   * invoked with two arguments; (a, b).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} a The value to compare.\n   * @param {*} b The other value to compare.\n   * @param {Function} [callback] The function to customize comparing values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * var copy = { 'name': 'fred' };\n   *\n   * object == copy;\n   * // => false\n   *\n   * _.isEqual(object, copy);\n   * // => true\n   *\n   * var words = ['hello', 'goodbye'];\n   * var otherWords = ['hi', 'goodbye'];\n   *\n   * _.isEqual(words, otherWords, function(a, b) {\n   *   var reGreet = /^(?:hello|hi)$/i,\n   *       aGreet = _.isString(a) && reGreet.test(a),\n   *       bGreet = _.isString(b) && reGreet.test(b);\n   *\n   *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;\n   * });\n   * // => true\n   */\n  function isEqual(a, b) {\n    return baseIsEqual(a, b);\n  }\n\n  /**\n   * Checks if `value` is, or can be coerced to, a finite number.\n   *\n   * Note: This is not the same as native `isFinite` which will return true for\n   * booleans and empty strings. See http://es5.github.io/#x15.1.2.5.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is finite, else `false`.\n   * @example\n   *\n   * _.isFinite(-101);\n   * // => true\n   *\n   * _.isFinite('10');\n   * // => true\n   *\n   * _.isFinite(true);\n   * // => false\n   *\n   * _.isFinite('');\n   * // => false\n   *\n   * _.isFinite(Infinity);\n   * // => false\n   */\n  function isFinite(value) {\n    return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));\n  }\n\n  /**\n   * Checks if `value` is a function.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   */\n  function isFunction(value) {\n    return typeof value == 'function';\n  }\n  // fallback for older versions of Chrome and Safari\n  if (isFunction(/x/)) {\n    isFunction = function isFunction(value) {\n      return typeof value == 'function' && toString.call(value) == funcClass;\n    };\n  }\n\n  /**\n   * Checks if `value` is the language type of Object.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // check if the value is the ECMAScript language type of Object\n    // http://es5.github.io/#x8\n    // and avoid a V8 bug\n    // http://code.google.com/p/v8/issues/detail?id=2291\n    return !!(value && objectTypes[typeof value === 'undefined' ? 'undefined' : (0, _typeof3['default'])(value)]);\n  }\n\n  /**\n   * Checks if `value` is `NaN`.\n   *\n   * Note: This is not the same as native `isNaN` which will return `true` for\n   * `undefined` and other non-numeric values. See http://es5.github.io/#x15.1.2.4.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is `NaN`, else `false`.\n   * @example\n   *\n   * _.isNaN(NaN);\n   * // => true\n   *\n   * _.isNaN(new Number(NaN));\n   * // => true\n   *\n   * isNaN(undefined);\n   * // => true\n   *\n   * _.isNaN(undefined);\n   * // => false\n   */\n  function isNaN(value) {\n    // `NaN` as a primitive is the only value that is not equal to itself\n    // (perform the [[Class]] check first to avoid errors with some host objects in IE)\n    return isNumber(value) && value != +value;\n  }\n\n  /**\n   * Checks if `value` is `null`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is `null`, else `false`.\n   * @example\n   *\n   * _.isNull(null);\n   * // => true\n   *\n   * _.isNull(undefined);\n   * // => false\n   */\n  function isNull(value) {\n    return value === null;\n  }\n\n  /**\n   * Checks if `value` is a number.\n   *\n   * Note: `NaN` is considered a number. See http://es5.github.io/#x8.5.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a number, else `false`.\n   * @example\n   *\n   * _.isNumber(8.4 * 5);\n   * // => true\n   */\n  function isNumber(value) {\n    return typeof value == 'number' || value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3['default'])(value)) == 'object' && toString.call(value) == numberClass || false;\n  }\n\n  /**\n   * Checks if `value` is a regular expression.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a regular expression, else `false`.\n   * @example\n   *\n   * _.isRegExp(/fred/);\n   * // => true\n   */\n  function isRegExp(value) {\n    return value && objectTypes[typeof value === 'undefined' ? 'undefined' : (0, _typeof3['default'])(value)] && toString.call(value) == regexpClass || false;\n  }\n\n  /**\n   * Checks if `value` is a string.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a string, else `false`.\n   * @example\n   *\n   * _.isString('fred');\n   * // => true\n   */\n  function isString(value) {\n    return typeof value == 'string' || value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3['default'])(value)) == 'object' && toString.call(value) == stringClass || false;\n  }\n\n  /**\n   * Checks if `value` is `undefined`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is `undefined`, else `false`.\n   * @example\n   *\n   * _.isUndefined(void 0);\n   * // => true\n   */\n  function isUndefined(value) {\n    return typeof value == 'undefined';\n  }\n\n  /**\n   * Creates a shallow clone of `object` excluding the specified properties.\n   * Property names may be specified as individual arguments or as arrays of\n   * property names. If a callback is provided it will be executed for each\n   * property of `object` omitting the properties the callback returns truey\n   * for. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, key, object).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The source object.\n   * @param {Function|...string|string[]} [callback] The properties to omit or the\n   *  function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns an object without the omitted properties.\n   * @example\n   *\n   * _.omit({ 'name': 'fred', 'age': 40 }, 'age');\n   * // => { 'name': 'fred' }\n   *\n   * _.omit({ 'name': 'fred', 'age': 40 }, function(value) {\n   *   return typeof value == 'number';\n   * });\n   * // => { 'name': 'fred' }\n   */\n  function omit(object) {\n    var props = [];\n    forIn(object, function (value, key) {\n      props.push(key);\n    });\n    props = baseDifference(props, baseFlatten(arguments, true, false, 1));\n\n    var index = -1,\n        length = props.length,\n        result = {};\n\n    while (++index < length) {\n      var key = props[index];\n      result[key] = object[key];\n    }\n    return result;\n  }\n\n  /**\n   * Creates a two dimensional array of an object's key-value pairs,\n   * i.e. `[[key1, value1], [key2, value2]]`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns new array of key-value pairs.\n   * @example\n   *\n   * _.pairs({ 'barney': 36, 'fred': 40 });\n   * // => [['barney', 36], ['fred', 40]] (property order is not guaranteed across environments)\n   */\n  function pairs(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = Array(length);\n\n    while (++index < length) {\n      var key = props[index];\n      result[index] = [key, object[key]];\n    }\n    return result;\n  }\n\n  /**\n   * Creates a shallow clone of `object` composed of the specified properties.\n   * Property names may be specified as individual arguments or as arrays of\n   * property names. If a callback is provided it will be executed for each\n   * property of `object` picking the properties the callback returns truey\n   * for. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, key, object).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The source object.\n   * @param {Function|...string|string[]} [callback] The function called per\n   *  iteration or property names to pick, specified as individual property\n   *  names or arrays of property names.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns an object composed of the picked properties.\n   * @example\n   *\n   * _.pick({ 'name': 'fred', '_userid': 'fred1' }, 'name');\n   * // => { 'name': 'fred' }\n   *\n   * _.pick({ 'name': 'fred', '_userid': 'fred1' }, function(value, key) {\n   *   return key.charAt(0) != '_';\n   * });\n   * // => { 'name': 'fred' }\n   */\n  function pick(object) {\n    var index = -1,\n        props = baseFlatten(arguments, true, false, 1),\n        length = props.length,\n        result = {};\n\n    while (++index < length) {\n      var key = props[index];\n      if (key in object) {\n        result[key] = object[key];\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates an array composed of the own enumerable property values of `object`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property values.\n   * @example\n   *\n   * _.values({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => [1, 2, 3] (property order is not guaranteed across environments)\n   */\n  function values(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = object[props[index]];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Checks if a given value is present in a collection using strict equality\n   * for comparisons, i.e. `===`. If `fromIndex` is negative, it is used as the\n   * offset from the end of the collection.\n   *\n   * @static\n   * @memberOf _\n   * @alias include\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {*} target The value to check for.\n   * @param {number} [fromIndex=0] The index to search from.\n   * @returns {boolean} Returns `true` if the `target` element is found, else `false`.\n   * @example\n   *\n   * _.contains([1, 2, 3], 1);\n   * // => true\n   *\n   * _.contains([1, 2, 3], 1, 2);\n   * // => false\n   *\n   * _.contains({ 'name': 'fred', 'age': 40 }, 'fred');\n   * // => true\n   *\n   * _.contains('pebbles', 'eb');\n   * // => true\n   */\n  function contains(collection, target) {\n    var indexOf = getIndexOf(),\n        length = collection ? collection.length : 0,\n        result = false;\n    if (length && typeof length == 'number') {\n      result = indexOf(collection, target) > -1;\n    } else {\n      forOwn(collection, function (value) {\n        return (result = value === target) && indicatorObject;\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Creates an object composed of keys generated from the results of running\n   * each element of `collection` through the callback. The corresponding value\n   * of each key is the number of times the key was returned by the callback.\n   * The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the composed aggregate object.\n   * @example\n   *\n   * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });\n   * // => { '4': 1, '6': 2 }\n   *\n   * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n   * // => { '4': 1, '6': 2 }\n   *\n   * _.countBy(['one', 'two', 'three'], 'length');\n   * // => { '3': 2, '5': 1 }\n   */\n  var countBy = createAggregator(function (result, value, key) {\n    hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1;\n  });\n\n  /**\n   * Checks if the given callback returns truey value for **all** elements of\n   * a collection. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias all\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {boolean} Returns `true` if all elements passed the callback check,\n   *  else `false`.\n   * @example\n   *\n   * _.every([true, 1, null, 'yes']);\n   * // => false\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.every(characters, 'age');\n   * // => true\n   *\n   * // using \"_.where\" callback shorthand\n   * _.every(characters, { 'age': 36 });\n   * // => false\n   */\n  function every(collection, callback, thisArg) {\n    var result = true;\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        if (!(result = !!callback(collection[index], index, collection))) {\n          break;\n        }\n      }\n    } else {\n      forOwn(collection, function (value, index, collection) {\n        return !(result = !!callback(value, index, collection)) && indicatorObject;\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Iterates over elements of a collection, returning an array of all elements\n   * the callback returns truey for. The callback is bound to `thisArg` and\n   * invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias select\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of elements that passed the callback check.\n   * @example\n   *\n   * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n   * // => [2, 4, 6]\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'blocked': false },\n   *   { 'name': 'fred',   'age': 40, 'blocked': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.filter(characters, 'blocked');\n   * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.filter(characters, { 'age': 36 });\n   * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n   */\n  function filter(collection, callback, thisArg) {\n    var result = [];\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (callback(value, index, collection)) {\n          result.push(value);\n        }\n      }\n    } else {\n      forOwn(collection, function (value, index, collection) {\n        if (callback(value, index, collection)) {\n          result.push(value);\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Iterates over elements of a collection, returning the first element that\n   * the callback returns truey for. The callback is bound to `thisArg` and\n   * invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias detect, findWhere\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the found element, else `undefined`.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'age': 36, 'blocked': false },\n   *   { 'name': 'fred',    'age': 40, 'blocked': true },\n   *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n   * ];\n   *\n   * _.find(characters, function(chr) {\n   *   return chr.age < 40;\n   * });\n   * // => { 'name': 'barney', 'age': 36, 'blocked': false }\n   *\n   * // using \"_.where\" callback shorthand\n   * _.find(characters, { 'age': 1 });\n   * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.find(characters, 'blocked');\n   * // => { 'name': 'fred', 'age': 40, 'blocked': true }\n   */\n  function find(collection, callback, thisArg) {\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (callback(value, index, collection)) {\n          return value;\n        }\n      }\n    } else {\n      var result;\n      forOwn(collection, function (value, index, collection) {\n        if (callback(value, index, collection)) {\n          result = value;\n          return indicatorObject;\n        }\n      });\n      return result;\n    }\n  }\n\n  /**\n   * Examines each element in a `collection`, returning the first that\n   * has the given properties. When checking `properties`, this method\n   * performs a deep comparison between values to determine if they are\n   * equivalent to each other.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Object} properties The object of property values to filter by.\n   * @returns {*} Returns the found element, else `undefined`.\n   * @example\n   *\n   * var food = [\n   *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n   *   { 'name': 'banana', 'organic': true,  'type': 'fruit' },\n   *   { 'name': 'beet',   'organic': false, 'type': 'vegetable' }\n   * ];\n   *\n   * _.findWhere(food, { 'type': 'vegetable' });\n   * // => { 'name': 'beet', 'organic': false, 'type': 'vegetable' }\n   */\n  function findWhere(object, properties) {\n    return where(object, properties, true);\n  }\n\n  /**\n   * Iterates over elements of a collection, executing the callback for each\n   * element. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * Note: As with other \"Collections\" methods, objects with a `length` property\n   * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n   * may be used for object iteration.\n   *\n   * @static\n   * @memberOf _\n   * @alias each\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   * @example\n   *\n   * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');\n   * // => logs each number and returns '1,2,3'\n   *\n   * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });\n   * // => logs each number and returns the object (property order is not guaranteed across environments)\n   */\n  function forEach(collection, callback, thisArg) {\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n    if (typeof length == 'number') {\n      while (++index < length) {\n        if (callback(collection[index], index, collection) === indicatorObject) {\n          break;\n        }\n      }\n    } else {\n      forOwn(collection, callback);\n    }\n  }\n\n  /**\n   * This method is like `_.forEach` except that it iterates over elements\n   * of a `collection` from right to left.\n   *\n   * @static\n   * @memberOf _\n   * @alias eachRight\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   * @example\n   *\n   * _([1, 2, 3]).forEachRight(function(num) { console.log(num); }).join(',');\n   * // => logs each number from right to left and returns '3,2,1'\n   */\n  function forEachRight(collection, callback) {\n    var length = collection ? collection.length : 0;\n    if (typeof length == 'number') {\n      while (length--) {\n        if (callback(collection[length], length, collection) === false) {\n          break;\n        }\n      }\n    } else {\n      var props = keys(collection);\n      length = props.length;\n      forOwn(collection, function (value, key, collection) {\n        key = props ? props[--length] : --length;\n        return callback(collection[key], key, collection) === false && indicatorObject;\n      });\n    }\n  }\n\n  /**\n   * Creates an object composed of keys generated from the results of running\n   * each element of a collection through the callback. The corresponding value\n   * of each key is an array of the elements responsible for generating the key.\n   * The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the composed aggregate object.\n   * @example\n   *\n   * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });\n   * // => { '4': [4.2], '6': [6.1, 6.4] }\n   *\n   * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n   * // => { '4': [4.2], '6': [6.1, 6.4] }\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.groupBy(['one', 'two', 'three'], 'length');\n   * // => { '3': ['one', 'two'], '5': ['three'] }\n   */\n  var groupBy = createAggregator(function (result, value, key) {\n    (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);\n  });\n\n  /**\n   * Creates an object composed of keys generated from the results of running\n   * each element of the collection through the given callback. The corresponding\n   * value of each key is the last element responsible for generating the key.\n   * The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the composed aggregate object.\n   * @example\n   *\n   * var keys = [\n   *   { 'dir': 'left', 'code': 97 },\n   *   { 'dir': 'right', 'code': 100 }\n   * ];\n   *\n   * _.indexBy(keys, 'dir');\n   * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n   *\n   * _.indexBy(keys, function(key) { return String.fromCharCode(key.code); });\n   * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n   *\n   * _.indexBy(characters, function(key) { this.fromCharCode(key.code); }, String);\n   * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n   */\n  var indexBy = createAggregator(function (result, value, key) {\n    result[key] = value;\n  });\n\n  /**\n   * Invokes the method named by `methodName` on each element in the `collection`\n   * returning an array of the results of each invoked method. Additional arguments\n   * will be provided to each invoked method. If `methodName` is a function it\n   * will be invoked for, and `this` bound to, each element in the `collection`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|string} methodName The name of the method to invoke or\n   *  the function invoked per iteration.\n   * @param {...*} [arg] Arguments to invoke the method with.\n   * @returns {Array} Returns a new array of the results of each invoked method.\n   * @example\n   *\n   * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n   * // => [[1, 5, 7], [1, 2, 3]]\n   *\n   * _.invoke([123, 456], String.prototype.split, '');\n   * // => [['1', '2', '3'], ['4', '5', '6']]\n   */\n  function invoke(collection, methodName) {\n    var args = slice(arguments, 2),\n        index = -1,\n        isFunc = typeof methodName == 'function',\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    forEach(collection, function (value) {\n      result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);\n    });\n    return result;\n  }\n\n  /**\n   * Creates an array of values by running each element in the collection\n   * through the callback. The callback is bound to `thisArg` and invoked with\n   * three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias collect\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of the results of each `callback` execution.\n   * @example\n   *\n   * _.map([1, 2, 3], function(num) { return num * 3; });\n   * // => [3, 6, 9]\n   *\n   * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });\n   * // => [3, 6, 9] (property order is not guaranteed across environments)\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.map(characters, 'name');\n   * // => ['barney', 'fred']\n   */\n  function map(collection, callback, thisArg) {\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    callback = createCallback(callback, thisArg, 3);\n    if (typeof length == 'number') {\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = callback(collection[index], index, collection);\n      }\n    } else {\n      result = [];\n      forOwn(collection, function (value, key, collection) {\n        result[++index] = callback(value, key, collection);\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the maximum value of a collection. If the collection is empty or\n   * falsey `-Infinity` is returned. If a callback is provided it will be executed\n   * for each value in the collection to generate the criterion by which the value\n   * is ranked. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the maximum value.\n   * @example\n   *\n   * _.max([4, 2, 8, 6]);\n   * // => 8\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * _.max(characters, function(chr) { return chr.age; });\n   * // => { 'name': 'fred', 'age': 40 };\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.max(characters, 'age');\n   * // => { 'name': 'fred', 'age': 40 };\n   */\n  function max(collection, callback, thisArg) {\n    var computed = -Infinity,\n        result = computed;\n\n    // allows working with functions like `_.map` without using\n    // their `index` argument as a callback\n    if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n      callback = null;\n    }\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (callback == null && typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      callback = createCallback(callback, thisArg, 3);\n\n      forEach(collection, function (value, index, collection) {\n        var current = callback(value, index, collection);\n        if (current > computed) {\n          computed = current;\n          result = value;\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the minimum value of a collection. If the collection is empty or\n   * falsey `Infinity` is returned. If a callback is provided it will be executed\n   * for each value in the collection to generate the criterion by which the value\n   * is ranked. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the minimum value.\n   * @example\n   *\n   * _.min([4, 2, 8, 6]);\n   * // => 2\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * _.min(characters, function(chr) { return chr.age; });\n   * // => { 'name': 'barney', 'age': 36 };\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.min(characters, 'age');\n   * // => { 'name': 'barney', 'age': 36 };\n   */\n  function min(collection, callback, thisArg) {\n    var computed = Infinity,\n        result = computed;\n\n    // allows working with functions like `_.map` without using\n    // their `index` argument as a callback\n    if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n      callback = null;\n    }\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (callback == null && typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      callback = createCallback(callback, thisArg, 3);\n\n      forEach(collection, function (value, index, collection) {\n        var current = callback(value, index, collection);\n        if (current < computed) {\n          computed = current;\n          result = value;\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the value of a specified property from all elements in the collection.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {string} property The name of the property to pluck.\n   * @returns {Array} Returns a new array of property values.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * _.pluck(characters, 'name');\n   * // => ['barney', 'fred']\n   */\n  var pluck = map;\n\n  /**\n   * Reduces a collection to a value which is the accumulated result of running\n   * each element in the collection through the callback, where each successive\n   * callback execution consumes the return value of the previous execution. If\n   * `accumulator` is not provided the first element of the collection will be\n   * used as the initial `accumulator` value. The callback is bound to `thisArg`\n   * and invoked with four arguments; (accumulator, value, index|key, collection).\n   *\n   * @static\n   * @memberOf _\n   * @alias foldl, inject\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [accumulator] Initial value of the accumulator.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the accumulated value.\n   * @example\n   *\n   * var sum = _.reduce([1, 2, 3], function(sum, num) {\n   *   return sum + num;\n   * });\n   * // => 6\n   *\n   * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n   *   result[key] = num * 3;\n   *   return result;\n   * }, {});\n   * // => { 'a': 3, 'b': 6, 'c': 9 }\n   */\n  function reduce(collection, callback, accumulator, thisArg) {\n    if (!collection) return accumulator;\n    var noaccum = arguments.length < 3;\n    callback = createCallback(callback, thisArg, 4);\n\n    var index = -1,\n        length = collection.length;\n\n    if (typeof length == 'number') {\n      if (noaccum) {\n        accumulator = collection[++index];\n      }\n      while (++index < length) {\n        accumulator = callback(accumulator, collection[index], index, collection);\n      }\n    } else {\n      forOwn(collection, function (value, index, collection) {\n        accumulator = noaccum ? (noaccum = false, value) : callback(accumulator, value, index, collection);\n      });\n    }\n    return accumulator;\n  }\n\n  /**\n   * This method is like `_.reduce` except that it iterates over elements\n   * of a `collection` from right to left.\n   *\n   * @static\n   * @memberOf _\n   * @alias foldr\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [accumulator] Initial value of the accumulator.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the accumulated value.\n   * @example\n   *\n   * var list = [[0, 1], [2, 3], [4, 5]];\n   * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);\n   * // => [4, 5, 2, 3, 0, 1]\n   */\n  function reduceRight(collection, callback, accumulator, thisArg) {\n    var noaccum = arguments.length < 3;\n    callback = createCallback(callback, thisArg, 4);\n    forEachRight(collection, function (value, index, collection) {\n      accumulator = noaccum ? (noaccum = false, value) : callback(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The opposite of `_.filter` this method returns the elements of a\n   * collection that the callback does **not** return truey for.\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of elements that failed the callback check.\n   * @example\n   *\n   * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n   * // => [1, 3, 5]\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'blocked': false },\n   *   { 'name': 'fred',   'age': 40, 'blocked': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.reject(characters, 'blocked');\n   * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.reject(characters, { 'age': 36 });\n   * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n   */\n  function reject(collection, callback, thisArg) {\n    callback = createCallback(callback, thisArg, 3);\n    return filter(collection, function (value, index, collection) {\n      return !callback(value, index, collection);\n    });\n  }\n\n  /**\n   * Retrieves a random element or `n` random elements from a collection.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to sample.\n   * @param {number} [n] The number of elements to sample.\n   * @param- {Object} [guard] Allows working with functions like `_.map`\n   *  without using their `index` arguments as `n`.\n   * @returns {Array} Returns the random sample(s) of `collection`.\n   * @example\n   *\n   * _.sample([1, 2, 3, 4]);\n   * // => 2\n   *\n   * _.sample([1, 2, 3, 4], 2);\n   * // => [3, 1]\n   */\n  function sample(collection, n, guard) {\n    if (collection && typeof collection.length != 'number') {\n      collection = values(collection);\n    }\n    if (n == null || guard) {\n      return collection ? collection[baseRandom(0, collection.length - 1)] : undefined;\n    }\n    var result = shuffle(collection);\n    result.length = nativeMin(nativeMax(0, n), result.length);\n    return result;\n  }\n\n  /**\n   * Creates an array of shuffled values, using a version of the Fisher-Yates\n   * shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to shuffle.\n   * @returns {Array} Returns a new shuffled collection.\n   * @example\n   *\n   * _.shuffle([1, 2, 3, 4, 5, 6]);\n   * // => [4, 1, 6, 3, 5, 2]\n   */\n  function shuffle(collection) {\n    var index = -1,\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    forEach(collection, function (value) {\n      var rand = baseRandom(0, ++index);\n      result[index] = result[rand];\n      result[rand] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Gets the size of the `collection` by returning `collection.length` for arrays\n   * and array-like objects or the number of own enumerable properties for objects.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to inspect.\n   * @returns {number} Returns `collection.length` or number of own enumerable properties.\n   * @example\n   *\n   * _.size([1, 2]);\n   * // => 2\n   *\n   * _.size({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => 3\n   *\n   * _.size('pebbles');\n   * // => 7\n   */\n  function size(collection) {\n    var length = collection ? collection.length : 0;\n    return typeof length == 'number' ? length : keys(collection).length;\n  }\n\n  /**\n   * Checks if the callback returns a truey value for **any** element of a\n   * collection. The function returns as soon as it finds a passing value and\n   * does not iterate over the entire collection. The callback is bound to\n   * `thisArg` and invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias any\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {boolean} Returns `true` if any element passed the callback check,\n   *  else `false`.\n   * @example\n   *\n   * _.some([null, 0, 'yes', false], Boolean);\n   * // => true\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'blocked': false },\n   *   { 'name': 'fred',   'age': 40, 'blocked': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.some(characters, 'blocked');\n   * // => true\n   *\n   * // using \"_.where\" callback shorthand\n   * _.some(characters, { 'age': 1 });\n   * // => false\n   */\n  function some(collection, callback, thisArg) {\n    var result;\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        if (result = callback(collection[index], index, collection)) {\n          break;\n        }\n      }\n    } else {\n      forOwn(collection, function (value, index, collection) {\n        return (result = callback(value, index, collection)) && indicatorObject;\n      });\n    }\n    return !!result;\n  }\n\n  /**\n   * Creates an array of elements, sorted in ascending order by the results of\n   * running each element in a collection through the callback. This method\n   * performs a stable sort, that is, it will preserve the original sort order\n   * of equal elements. The callback is bound to `thisArg` and invoked with\n   * three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an array of property names is provided for `callback` the collection\n   * will be sorted by each property value.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Array|Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of sorted elements.\n   * @example\n   *\n   * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });\n   * // => [3, 1, 2]\n   *\n   * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);\n   * // => [3, 1, 2]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'age': 36 },\n   *   { 'name': 'fred',    'age': 40 },\n   *   { 'name': 'barney',  'age': 26 },\n   *   { 'name': 'fred',    'age': 30 }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.map(_.sortBy(characters, 'age'), _.values);\n   * // => [['barney', 26], ['fred', 30], ['barney', 36], ['fred', 40]]\n   *\n   * // sorting by multiple properties\n   * _.map(_.sortBy(characters, ['name', 'age']), _.values);\n   * // = > [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]\n   */\n  function sortBy(collection, callback, thisArg) {\n    var index = -1,\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    callback = createCallback(callback, thisArg, 3);\n    forEach(collection, function (value, key, collection) {\n      result[++index] = {\n        'criteria': [callback(value, key, collection)],\n        'index': index,\n        'value': value\n      };\n    });\n\n    length = result.length;\n    result.sort(compareAscending);\n    while (length--) {\n      result[length] = result[length].value;\n    }\n    return result;\n  }\n\n  /**\n   * Converts the `collection` to an array.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to convert.\n   * @returns {Array} Returns the new converted array.\n   * @example\n   *\n   * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);\n   * // => [2, 3, 4]\n   */\n  function toArray(collection) {\n    if (isArray(collection)) {\n      return slice(collection);\n    }\n    if (collection && typeof collection.length == 'number') {\n      return map(collection);\n    }\n    return values(collection);\n  }\n\n  /**\n   * Performs a deep comparison of each element in a `collection` to the given\n   * `properties` object, returning an array of all elements that have equivalent\n   * property values.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Object} props The object of property values to filter by.\n   * @returns {Array} Returns a new array of elements that have the given properties.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'pets': ['hoppy'] },\n   *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n   * ];\n   *\n   * _.where(characters, { 'age': 36 });\n   * // => [{ 'name': 'barney', 'age': 36, 'pets': ['hoppy'] }]\n   *\n   * _.where(characters, { 'pets': ['dino'] });\n   * // => [{ 'name': 'fred', 'age': 40, 'pets': ['baby puss', 'dino'] }]\n   */\n  function where(collection, properties, first) {\n    return first && isEmpty(properties) ? undefined : (first ? find : filter)(collection, properties);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates an array with all falsey values removed. The values `false`, `null`,\n   * `0`, `\"\"`, `undefined`, and `NaN` are all falsey.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to compact.\n   * @returns {Array} Returns a new array of filtered values.\n   * @example\n   *\n   * _.compact([0, 1, false, 2, '', 3]);\n   * // => [1, 2, 3]\n   */\n  function compact(array) {\n    var index = -1,\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates an array excluding all values of the provided arrays using strict\n   * equality for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to process.\n   * @param {...Array} [values] The arrays of values to exclude.\n   * @returns {Array} Returns a new array of filtered values.\n   * @example\n   *\n   * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);\n   * // => [1, 3, 4]\n   */\n  function difference(array) {\n    return baseDifference(array, baseFlatten(arguments, true, true, 1));\n  }\n\n  /**\n   * Gets the first element or first `n` elements of an array. If a callback\n   * is provided elements at the beginning of the array are returned as long\n   * as the callback returns truey. The callback is bound to `thisArg` and\n   * invoked with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias head, take\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback] The function called\n   *  per element or the number of elements to return. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the first element(s) of `array`.\n   * @example\n   *\n   * _.first([1, 2, 3]);\n   * // => 1\n   *\n   * _.first([1, 2, 3], 2);\n   * // => [1, 2]\n   *\n   * _.first([1, 2, 3], function(num) {\n   *   return num < 3;\n   * });\n   * // => [1, 2]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': false, 'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.first(characters, 'blocked');\n   * // => [{ 'name': 'barney', 'blocked': true, 'employer': 'slate' }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.pluck(_.first(characters, { 'employer': 'slate' }), 'name');\n   * // => ['barney', 'fred']\n   */\n  function first(array, callback, thisArg) {\n    var n = 0,\n        length = array ? array.length : 0;\n\n    if (typeof callback != 'number' && callback != null) {\n      var index = -1;\n      callback = createCallback(callback, thisArg, 3);\n      while (++index < length && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = callback;\n      if (n == null || thisArg) {\n        return array ? array[0] : undefined;\n      }\n    }\n    return slice(array, 0, nativeMin(nativeMax(0, n), length));\n  }\n\n  /**\n   * Flattens a nested array (the nesting can be to any depth). If `isShallow`\n   * is truey, the array will only be flattened a single level. If a callback\n   * is provided each element of the array is passed through the callback before\n   * flattening. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to flatten.\n   * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new flattened array.\n   * @example\n   *\n   * _.flatten([1, [2], [3, [[4]]]]);\n   * // => [1, 2, 3, 4];\n   *\n   * _.flatten([1, [2], [3, [[4]]]], true);\n   * // => [1, 2, 3, [[4]]];\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 30, 'pets': ['hoppy'] },\n   *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.flatten(characters, 'pets');\n   * // => ['hoppy', 'baby puss', 'dino']\n   */\n  function flatten(array, isShallow) {\n    return baseFlatten(array, isShallow);\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `value` is found using\n   * strict equality for comparisons, i.e. `===`. If the array is already sorted\n   * providing `true` for `fromIndex` will run a faster binary search.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n   *  to perform a binary search on a sorted array.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   * @example\n   *\n   * _.indexOf([1, 2, 3, 1, 2, 3], 2);\n   * // => 1\n   *\n   * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);\n   * // => 4\n   *\n   * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);\n   * // => 2\n   */\n  function indexOf(array, value, fromIndex) {\n    if (typeof fromIndex == 'number') {\n      var length = array ? array.length : 0;\n      fromIndex = fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0;\n    } else if (fromIndex) {\n      var index = sortedIndex(array, value);\n      return array[index] === value ? index : -1;\n    }\n    return baseIndexOf(array, value, fromIndex);\n  }\n\n  /**\n   * Gets all but the last element or last `n` elements of an array. If a\n   * callback is provided elements at the end of the array are excluded from\n   * the result as long as the callback returns truey. The callback is bound\n   * to `thisArg` and invoked with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback=1] The function called\n   *  per element or the number of elements to exclude. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a slice of `array`.\n   * @example\n   *\n   * _.initial([1, 2, 3]);\n   * // => [1, 2]\n   *\n   * _.initial([1, 2, 3], 2);\n   * // => [1]\n   *\n   * _.initial([1, 2, 3], function(num) {\n   *   return num > 1;\n   * });\n   * // => [1]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.initial(characters, 'blocked');\n   * // => [{ 'name': 'barney',  'blocked': false, 'employer': 'slate' }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.pluck(_.initial(characters, { 'employer': 'na' }), 'name');\n   * // => ['barney', 'fred']\n   */\n  function initial(array, callback, thisArg) {\n    var n = 0,\n        length = array ? array.length : 0;\n\n    if (typeof callback != 'number' && callback != null) {\n      var index = length;\n      callback = createCallback(callback, thisArg, 3);\n      while (index-- && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = callback == null || thisArg ? 1 : callback || n;\n    }\n    return slice(array, 0, nativeMin(nativeMax(0, length - n), length));\n  }\n\n  /**\n   * Creates an array of unique values present in all provided arrays using\n   * strict equality for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {...Array} [array] The arrays to inspect.\n   * @returns {Array} Returns an array of shared values.\n   * @example\n   *\n   * _.intersection([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n   * // => [1, 2]\n   */\n  function intersection() {\n    var args = [],\n        argsIndex = -1,\n        argsLength = arguments.length;\n\n    while (++argsIndex < argsLength) {\n      var value = arguments[argsIndex];\n      if (isArray(value) || isArguments(value)) {\n        args.push(value);\n      }\n    }\n    var array = args[0],\n        index = -1,\n        indexOf = getIndexOf(),\n        length = array ? array.length : 0,\n        result = [];\n\n    outer: while (++index < length) {\n      value = array[index];\n      if (indexOf(result, value) < 0) {\n        var argsIndex = argsLength;\n        while (--argsIndex) {\n          if (indexOf(args[argsIndex], value) < 0) {\n            continue outer;\n          }\n        }\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Gets the last element or last `n` elements of an array. If a callback is\n   * provided elements at the end of the array are returned as long as the\n   * callback returns truey. The callback is bound to `thisArg` and invoked\n   * with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback] The function called\n   *  per element or the number of elements to return. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the last element(s) of `array`.\n   * @example\n   *\n   * _.last([1, 2, 3]);\n   * // => 3\n   *\n   * _.last([1, 2, 3], 2);\n   * // => [2, 3]\n   *\n   * _.last([1, 2, 3], function(num) {\n   *   return num > 1;\n   * });\n   * // => [2, 3]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.pluck(_.last(characters, 'blocked'), 'name');\n   * // => ['fred', 'pebbles']\n   *\n   * // using \"_.where\" callback shorthand\n   * _.last(characters, { 'employer': 'na' });\n   * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n   */\n  function last(array, callback, thisArg) {\n    var n = 0,\n        length = array ? array.length : 0;\n\n    if (typeof callback != 'number' && callback != null) {\n      var index = length;\n      callback = createCallback(callback, thisArg, 3);\n      while (index-- && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = callback;\n      if (n == null || thisArg) {\n        return array ? array[length - 1] : undefined;\n      }\n    }\n    return slice(array, nativeMax(0, length - n));\n  }\n\n  /**\n   * Gets the index at which the last occurrence of `value` is found using strict\n   * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n   * as the offset from the end of the collection.\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} [fromIndex=array.length-1] The index to search from.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   * @example\n   *\n   * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);\n   * // => 4\n   *\n   * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);\n   * // => 1\n   */\n  function lastIndexOf(array, value, fromIndex) {\n    var index = array ? array.length : 0;\n    if (typeof fromIndex == 'number') {\n      index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;\n    }\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Creates an array of numbers (positive and/or negative) progressing from\n   * `start` up to but not including `end`. If `start` is less than `stop` a\n   * zero-length range is created unless a negative `step` is specified.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {number} [start=0] The start of the range.\n   * @param {number} end The end of the range.\n   * @param {number} [step=1] The value to increment or decrement by.\n   * @returns {Array} Returns a new range array.\n   * @example\n   *\n   * _.range(4);\n   * // => [0, 1, 2, 3]\n   *\n   * _.range(1, 5);\n   * // => [1, 2, 3, 4]\n   *\n   * _.range(0, 20, 5);\n   * // => [0, 5, 10, 15]\n   *\n   * _.range(0, -4, -1);\n   * // => [0, -1, -2, -3]\n   *\n   * _.range(1, 4, 0);\n   * // => [1, 1, 1]\n   *\n   * _.range(0);\n   * // => []\n   */\n  function range(start, end, step) {\n    start = +start || 0;\n    step = +step || 1;\n\n    if (end == null) {\n      end = start;\n      start = 0;\n    }\n    // use `Array(length)` so engines like Chakra and V8 avoid slower modes\n    // http://youtu.be/XAqIpGU8ZZk#t=17m25s\n    var index = -1,\n        length = nativeMax(0, ceil((end - start) / step)),\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = start;\n      start += step;\n    }\n    return result;\n  }\n\n  /**\n   * The opposite of `_.initial` this method gets all but the first element or\n   * first `n` elements of an array. If a callback function is provided elements\n   * at the beginning of the array are excluded from the result as long as the\n   * callback returns truey. The callback is bound to `thisArg` and invoked\n   * with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias drop, tail\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback=1] The function called\n   *  per element or the number of elements to exclude. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a slice of `array`.\n   * @example\n   *\n   * _.rest([1, 2, 3]);\n   * // => [2, 3]\n   *\n   * _.rest([1, 2, 3], 2);\n   * // => [3]\n   *\n   * _.rest([1, 2, 3], function(num) {\n   *   return num < 3;\n   * });\n   * // => [3]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': false,  'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true, 'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.pluck(_.rest(characters, 'blocked'), 'name');\n   * // => ['fred', 'pebbles']\n   *\n   * // using \"_.where\" callback shorthand\n   * _.rest(characters, { 'employer': 'slate' });\n   * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n   */\n  function rest(array, callback, thisArg) {\n    if (typeof callback != 'number' && callback != null) {\n      var n = 0,\n          index = -1,\n          length = array ? array.length : 0;\n\n      callback = createCallback(callback, thisArg, 3);\n      while (++index < length && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = callback == null || thisArg ? 1 : nativeMax(0, callback);\n    }\n    return slice(array, n);\n  }\n\n  /**\n   * Uses a binary search to determine the smallest index at which a value\n   * should be inserted into a given sorted array in order to maintain the sort\n   * order of the array. If a callback is provided it will be executed for\n   * `value` and each element of `array` to compute their sort ranking. The\n   * callback is bound to `thisArg` and invoked with one argument; (value).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to evaluate.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {number} Returns the index at which `value` should be inserted\n   *  into `array`.\n   * @example\n   *\n   * _.sortedIndex([20, 30, 50], 40);\n   * // => 2\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n   * // => 2\n   *\n   * var dict = {\n   *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }\n   * };\n   *\n   * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n   *   return dict.wordToNumber[word];\n   * });\n   * // => 2\n   *\n   * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n   *   return this.wordToNumber[word];\n   * }, dict);\n   * // => 2\n   */\n  function sortedIndex(array, value, callback, thisArg) {\n    var low = 0,\n        high = array ? array.length : low;\n\n    // explicitly reference `identity` for better inlining in Firefox\n    callback = callback ? createCallback(callback, thisArg, 1) : identity;\n    value = callback(value);\n\n    while (low < high) {\n      var mid = low + high >>> 1;\n      callback(array[mid]) < value ? low = mid + 1 : high = mid;\n    }\n    return low;\n  }\n\n  /**\n   * Creates an array of unique values, in order, of the provided arrays using\n   * strict equality for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {...Array} [array] The arrays to inspect.\n   * @returns {Array} Returns an array of combined values.\n   * @example\n   *\n   * _.union([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n   * // => [1, 2, 3, 5, 4]\n   */\n  function union() {\n    return baseUniq(baseFlatten(arguments, true, true));\n  }\n\n  /**\n   * Creates a duplicate-value-free version of an array using strict equality\n   * for comparisons, i.e. `===`. If the array is sorted, providing\n   * `true` for `isSorted` will use a faster algorithm. If a callback is provided\n   * each element of `array` is passed through the callback before uniqueness\n   * is computed. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias unique\n   * @category Arrays\n   * @param {Array} array The array to process.\n   * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a duplicate-value-free array.\n   * @example\n   *\n   * _.uniq([1, 2, 1, 3, 1]);\n   * // => [1, 2, 3]\n   *\n   * _.uniq([1, 1, 2, 2, 3], true);\n   * // => [1, 2, 3]\n   *\n   * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });\n   * // => ['A', 'b', 'C']\n   *\n   * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);\n   * // => [1, 2.5, 3]\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n   * // => [{ 'x': 1 }, { 'x': 2 }]\n   */\n  function uniq(array, isSorted, callback, thisArg) {\n    // juggle arguments\n    if (typeof isSorted != 'boolean' && isSorted != null) {\n      thisArg = callback;\n      callback = typeof isSorted != 'function' && thisArg && thisArg[isSorted] === array ? null : isSorted;\n      isSorted = false;\n    }\n    if (callback != null) {\n      callback = createCallback(callback, thisArg, 3);\n    }\n    return baseUniq(array, isSorted, callback);\n  }\n\n  /**\n   * Creates an array excluding all provided values using strict equality for\n   * comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to filter.\n   * @param {...*} [value] The values to exclude.\n   * @returns {Array} Returns a new array of filtered values.\n   * @example\n   *\n   * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);\n   * // => [2, 3, 4]\n   */\n  function without(array) {\n    return baseDifference(array, slice(arguments, 1));\n  }\n\n  /**\n   * Creates an array of grouped elements, the first of which contains the first\n   * elements of the given arrays, the second of which contains the second\n   * elements of the given arrays, and so on.\n   *\n   * @static\n   * @memberOf _\n   * @alias unzip\n   * @category Arrays\n   * @param {...Array} [array] Arrays to process.\n   * @returns {Array} Returns a new array of grouped elements.\n   * @example\n   *\n   * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n   * // => [['fred', 30, true], ['barney', 40, false]]\n   */\n  function zip() {\n    var index = -1,\n        length = max(pluck(arguments, 'length')),\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = pluck(arguments, index);\n    }\n    return result;\n  }\n\n  /**\n   * Creates an object composed from arrays of `keys` and `values`. Provide\n   * either a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`\n   * or two arrays, one of `keys` and one of corresponding `values`.\n   *\n   * @static\n   * @memberOf _\n   * @alias object\n   * @category Arrays\n   * @param {Array} keys The array of keys.\n   * @param {Array} [values=[]] The array of values.\n   * @returns {Object} Returns an object composed of the given keys and\n   *  corresponding values.\n   * @example\n   *\n   * _.zipObject(['fred', 'barney'], [30, 40]);\n   * // => { 'fred': 30, 'barney': 40 }\n   */\n  function zipObject(keys, values) {\n    var index = -1,\n        length = keys ? keys.length : 0,\n        result = {};\n\n    if (!values && length && !isArray(keys[0])) {\n      values = [];\n    }\n    while (++index < length) {\n      var key = keys[index];\n      if (values) {\n        result[key] = values[index];\n      } else if (key) {\n        result[key[0]] = key[1];\n      }\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a function that executes `func`, with  the `this` binding and\n   * arguments of the created function, only after being called `n` times.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {number} n The number of times the function must be called before\n   *  `func` is executed.\n   * @param {Function} func The function to restrict.\n   * @returns {Function} Returns the new restricted function.\n   * @example\n   *\n   * var saves = ['profile', 'settings'];\n   *\n   * var done = _.after(saves.length, function() {\n   *   console.log('Done saving!');\n   * });\n   *\n   * _.forEach(saves, function(type) {\n   *   asyncSave({ 'type': type, 'complete': done });\n   * });\n   * // => logs 'Done saving!', after all saves have completed\n   */\n  function after(n, func) {\n    if (!isFunction(func)) {\n      throw new TypeError();\n    }\n    return function () {\n      if (--n < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  }\n\n  /**\n   * Creates a function that, when called, invokes `func` with the `this`\n   * binding of `thisArg` and prepends any additional `bind` arguments to those\n   * provided to the bound function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to bind.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {...*} [arg] Arguments to be partially applied.\n   * @returns {Function} Returns the new bound function.\n   * @example\n   *\n   * var func = function(greeting) {\n   *   return greeting + ' ' + this.name;\n   * };\n   *\n   * func = _.bind(func, { 'name': 'fred' }, 'hi');\n   * func();\n   * // => 'hi fred'\n   */\n  function bind(func, thisArg) {\n    return arguments.length > 2 ? createWrapper(func, 17, slice(arguments, 2), null, thisArg) : createWrapper(func, 1, null, null, thisArg);\n  }\n\n  /**\n   * Binds methods of an object to the object itself, overwriting the existing\n   * method. Method names may be specified as individual arguments or as arrays\n   * of method names. If no method names are provided all the function properties\n   * of `object` will be bound.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Object} object The object to bind and assign the bound methods to.\n   * @param {...string} [methodName] The object method names to\n   *  bind, specified as individual method names or arrays of method names.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * var view = {\n   *   'label': 'docs',\n   *   'onClick': function() { console.log('clicked ' + this.label); }\n   * };\n   *\n   * _.bindAll(view);\n   * jQuery('#docs').on('click', view.onClick);\n   * // => logs 'clicked docs', when the button is clicked\n   */\n  function bindAll(object) {\n    var funcs = arguments.length > 1 ? baseFlatten(arguments, true, false, 1) : functions(object),\n        index = -1,\n        length = funcs.length;\n\n    while (++index < length) {\n      var key = funcs[index];\n      object[key] = createWrapper(object[key], 1, null, null, object);\n    }\n    return object;\n  }\n\n  /**\n   * Creates a function that is the composition of the provided functions,\n   * where each function consumes the return value of the function that follows.\n   * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.\n   * Each function is executed with the `this` binding of the composed function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {...Function} [func] Functions to compose.\n   * @returns {Function} Returns the new composed function.\n   * @example\n   *\n   * var realNameMap = {\n   *   'pebbles': 'penelope'\n   * };\n   *\n   * var format = function(name) {\n   *   name = realNameMap[name.toLowerCase()] || name;\n   *   return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();\n   * };\n   *\n   * var greet = function(formatted) {\n   *   return 'Hiya ' + formatted + '!';\n   * };\n   *\n   * var welcome = _.compose(greet, format);\n   * welcome('pebbles');\n   * // => 'Hiya Penelope!'\n   */\n  function compose() {\n    var funcs = arguments,\n        length = funcs.length;\n\n    while (length--) {\n      if (!isFunction(funcs[length])) {\n        throw new TypeError();\n      }\n    }\n    return function () {\n      var args = arguments,\n          length = funcs.length;\n\n      while (length--) {\n        args = [funcs[length].apply(this, args)];\n      }\n      return args[0];\n    };\n  }\n\n  /**\n   * Creates a function that will delay the execution of `func` until after\n   * `wait` milliseconds have elapsed since the last time it was invoked.\n   * Provide an options object to indicate that `func` should be invoked on\n   * the leading and/or trailing edge of the `wait` timeout. Subsequent calls\n   * to the debounced function will return the result of the last `func` call.\n   *\n   * Note: If `leading` and `trailing` options are `true` `func` will be called\n   * on the trailing edge of the timeout only if the the debounced function is\n   * invoked more than once during the `wait` timeout.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to debounce.\n   * @param {number} wait The number of milliseconds to delay.\n   * @param {Object} [options] The options object.\n   * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.\n   * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.\n   * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n   * @returns {Function} Returns the new debounced function.\n   * @example\n   *\n   * // avoid costly calculations while the window size is in flux\n   * var lazyLayout = _.debounce(calculateLayout, 150);\n   * jQuery(window).on('resize', lazyLayout);\n   *\n   * // execute `sendMail` when the click event is fired, debouncing subsequent calls\n   * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n   *   'leading': true,\n   *   'trailing': false\n   * });\n   *\n   * // ensure `batchLog` is executed once after 1 second of debounced calls\n   * var source = new EventSource('/stream');\n   * source.addEventListener('message', _.debounce(batchLog, 250, {\n   *   'maxWait': 1000\n   * }, false);\n   */\n  function debounce(func, wait, options) {\n    var args,\n        maxTimeoutId,\n        result,\n        stamp,\n        thisArg,\n        timeoutId,\n        trailingCall,\n        lastCalled = 0,\n        maxWait = false,\n        trailing = true;\n\n    if (!isFunction(func)) {\n      throw new TypeError();\n    }\n    wait = nativeMax(0, wait) || 0;\n    if (options === true) {\n      var leading = true;\n      trailing = false;\n    } else if (isObject(options)) {\n      leading = options.leading;\n      maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);\n      trailing = 'trailing' in options ? options.trailing : trailing;\n    }\n    var delayed = function delayed() {\n      var remaining = wait - (now() - stamp);\n      if (remaining <= 0) {\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        var isCalled = trailingCall;\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (isCalled) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      } else {\n        timeoutId = setTimeout(delayed, remaining);\n      }\n    };\n\n    var maxDelayed = function maxDelayed() {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      maxTimeoutId = timeoutId = trailingCall = undefined;\n      if (trailing || maxWait !== wait) {\n        lastCalled = now();\n        result = func.apply(thisArg, args);\n        if (!timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n      }\n    };\n\n    return function () {\n      args = arguments;\n      stamp = now();\n      thisArg = this;\n      trailingCall = trailing && (timeoutId || !leading);\n\n      if (maxWait === false) {\n        var leadingCall = leading && !timeoutId;\n      } else {\n        if (!maxTimeoutId && !leading) {\n          lastCalled = stamp;\n        }\n        var remaining = maxWait - (stamp - lastCalled),\n            isCalled = remaining <= 0;\n\n        if (isCalled) {\n          if (maxTimeoutId) {\n            maxTimeoutId = clearTimeout(maxTimeoutId);\n          }\n          lastCalled = stamp;\n          result = func.apply(thisArg, args);\n        } else if (!maxTimeoutId) {\n          maxTimeoutId = setTimeout(maxDelayed, remaining);\n        }\n      }\n      if (isCalled && timeoutId) {\n        timeoutId = clearTimeout(timeoutId);\n      } else if (!timeoutId && wait !== maxWait) {\n        timeoutId = setTimeout(delayed, wait);\n      }\n      if (leadingCall) {\n        isCalled = true;\n        result = func.apply(thisArg, args);\n      }\n      if (isCalled && !timeoutId && !maxTimeoutId) {\n        args = thisArg = null;\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Defers executing the `func` function until the current call stack has cleared.\n   * Additional arguments will be provided to `func` when it is invoked.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to defer.\n   * @param {...*} [arg] Arguments to invoke the function with.\n   * @returns {number} Returns the timer id.\n   * @example\n   *\n   * _.defer(function(text) { console.log(text); }, 'deferred');\n   * // logs 'deferred' after one or more milliseconds\n   */\n  function defer(func) {\n    if (!isFunction(func)) {\n      throw new TypeError();\n    }\n    var args = slice(arguments, 1);\n    return setTimeout(function () {\n      func.apply(undefined, args);\n    }, 1);\n  }\n\n  /**\n   * Executes the `func` function after `wait` milliseconds. Additional arguments\n   * will be provided to `func` when it is invoked.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to delay.\n   * @param {number} wait The number of milliseconds to delay execution.\n   * @param {...*} [arg] Arguments to invoke the function with.\n   * @returns {number} Returns the timer id.\n   * @example\n   *\n   * _.delay(function(text) { console.log(text); }, 1000, 'later');\n   * // => logs 'later' after one second\n   */\n  function delay(func, wait) {\n    if (!isFunction(func)) {\n      throw new TypeError();\n    }\n    var args = slice(arguments, 2);\n    return setTimeout(function () {\n      func.apply(undefined, args);\n    }, wait);\n  }\n\n  /**\n   * Creates a function that memoizes the result of `func`. If `resolver` is\n   * provided it will be used to determine the cache key for storing the result\n   * based on the arguments provided to the memoized function. By default, the\n   * first argument provided to the memoized function is used as the cache key.\n   * The `func` is executed with the `this` binding of the memoized function.\n   * The result cache is exposed as the `cache` property on the memoized function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to have its output memoized.\n   * @param {Function} [resolver] A function used to resolve the cache key.\n   * @returns {Function} Returns the new memoizing function.\n   * @example\n   *\n   * var fibonacci = _.memoize(function(n) {\n   *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);\n   * });\n   *\n   * fibonacci(9)\n   * // => 34\n   *\n   * var data = {\n   *   'fred': { 'name': 'fred', 'age': 40 },\n   *   'pebbles': { 'name': 'pebbles', 'age': 1 }\n   * };\n   *\n   * // modifying the result cache\n   * var get = _.memoize(function(name) { return data[name]; }, _.identity);\n   * get('pebbles');\n   * // => { 'name': 'pebbles', 'age': 1 }\n   *\n   * get.cache.pebbles.name = 'penelope';\n   * get('pebbles');\n   * // => { 'name': 'penelope', 'age': 1 }\n   */\n  function memoize(func, resolver) {\n    var cache = {};\n    return function () {\n      var key = resolver ? resolver.apply(this, arguments) : keyPrefix + arguments[0];\n      return hasOwnProperty.call(cache, key) ? cache[key] : cache[key] = func.apply(this, arguments);\n    };\n  }\n\n  /**\n   * Creates a function that is restricted to execute `func` once. Repeat calls to\n   * the function will return the value of the first call. The `func` is executed\n   * with the `this` binding of the created function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to restrict.\n   * @returns {Function} Returns the new restricted function.\n   * @example\n   *\n   * var initialize = _.once(createApplication);\n   * initialize();\n   * initialize();\n   * // `initialize` executes `createApplication` once\n   */\n  function once(func) {\n    var ran, result;\n\n    if (!isFunction(func)) {\n      throw new TypeError();\n    }\n    return function () {\n      if (ran) {\n        return result;\n      }\n      ran = true;\n      result = func.apply(this, arguments);\n\n      // clear the `func` variable so the function may be garbage collected\n      func = null;\n      return result;\n    };\n  }\n\n  /**\n   * Creates a function that, when called, invokes `func` with any additional\n   * `partial` arguments prepended to those provided to the new function. This\n   * method is similar to `_.bind` except it does **not** alter the `this` binding.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to partially apply arguments to.\n   * @param {...*} [arg] Arguments to be partially applied.\n   * @returns {Function} Returns the new partially applied function.\n   * @example\n   *\n   * var greet = function(greeting, name) { return greeting + ' ' + name; };\n   * var hi = _.partial(greet, 'hi');\n   * hi('fred');\n   * // => 'hi fred'\n   */\n  function partial(func) {\n    return createWrapper(func, 16, slice(arguments, 1));\n  }\n\n  /**\n   * Creates a function that, when executed, will only call the `func` function\n   * at most once per every `wait` milliseconds. Provide an options object to\n   * indicate that `func` should be invoked on the leading and/or trailing edge\n   * of the `wait` timeout. Subsequent calls to the throttled function will\n   * return the result of the last `func` call.\n   *\n   * Note: If `leading` and `trailing` options are `true` `func` will be called\n   * on the trailing edge of the timeout only if the the throttled function is\n   * invoked more than once during the `wait` timeout.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to throttle.\n   * @param {number} wait The number of milliseconds to throttle executions to.\n   * @param {Object} [options] The options object.\n   * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.\n   * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n   * @returns {Function} Returns the new throttled function.\n   * @example\n   *\n   * // avoid excessively updating the position while scrolling\n   * var throttled = _.throttle(updatePosition, 100);\n   * jQuery(window).on('scroll', throttled);\n   *\n   * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes\n   * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n   *   'trailing': false\n   * }));\n   */\n  function throttle(func, wait, options) {\n    var leading = true,\n        trailing = true;\n\n    if (!isFunction(func)) {\n      throw new TypeError();\n    }\n    if (options === false) {\n      leading = false;\n    } else if (isObject(options)) {\n      leading = 'leading' in options ? options.leading : leading;\n      trailing = 'trailing' in options ? options.trailing : trailing;\n    }\n    options = {};\n    options.leading = leading;\n    options.maxWait = wait;\n    options.trailing = trailing;\n\n    return debounce(func, wait, options);\n  }\n\n  /**\n   * Creates a function that provides `value` to the wrapper function as its\n   * first argument. Additional arguments provided to the function are appended\n   * to those provided to the wrapper function. The wrapper is executed with\n   * the `this` binding of the created function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {*} value The value to wrap.\n   * @param {Function} wrapper The wrapper function.\n   * @returns {Function} Returns the new function.\n   * @example\n   *\n   * var p = _.wrap(_.escape, function(func, text) {\n   *   return '<p>' + func(text) + '</p>';\n   * });\n   *\n   * p('Fred, Wilma, & Pebbles');\n   * // => '<p>Fred, Wilma, &amp; Pebbles</p>'\n   */\n  function wrap(value, wrapper) {\n    return createWrapper(wrapper, 16, [value]);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Produces a callback bound to an optional `thisArg`. If `func` is a property\n   * name the created callback will return the property value for a given element.\n   * If `func` is an object the created callback will return `true` for elements\n   * that contain the equivalent object properties, otherwise it will return `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {*} [func=identity] The value to convert to a callback.\n   * @param {*} [thisArg] The `this` binding of the created callback.\n   * @param {number} [argCount] The number of arguments the callback accepts.\n   * @returns {Function} Returns a callback function.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // wrap to create custom callback shorthands\n   * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {\n   *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);\n   *   return !match ? func(callback, thisArg) : function(object) {\n   *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];\n   *   };\n   * });\n   *\n   * _.filter(characters, 'age__gt38');\n   * // => [{ 'name': 'fred', 'age': 40 }]\n   */\n  function createCallback(func, thisArg, argCount) {\n    var type = typeof func === 'undefined' ? 'undefined' : (0, _typeof3['default'])(func);\n    if (func == null || type == 'function') {\n      return baseCreateCallback(func, thisArg, argCount);\n    }\n    // handle \"_.pluck\" style callback shorthands\n    if (type != 'object') {\n      return property(func);\n    }\n    var props = keys(func);\n    return function (object) {\n      var length = props.length,\n          result = false;\n\n      while (length--) {\n        if (!(result = object[props[length]] === func[props[length]])) {\n          break;\n        }\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Converts the characters `&`, `<`, `>`, `\"`, and `'` in `string` to their\n   * corresponding HTML entities.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} string The string to escape.\n   * @returns {string} Returns the escaped string.\n   * @example\n   *\n   * _.escape('Fred, Wilma, & Pebbles');\n   * // => 'Fred, Wilma, &amp; Pebbles'\n   */\n  function escape(string) {\n    return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);\n  }\n\n  /**\n   * This method returns the first argument provided to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {*} value Any value.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.identity(object) === object;\n   * // => true\n   */\n  function identity(value) {\n    return value;\n  }\n\n  /**\n   * Adds function properties of a source object to the destination object.\n   * If `object` is a function methods will be added to its prototype as well.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Function|Object} [object=lodash] object The destination object.\n   * @param {Object} source The object of functions to add.\n   * @param {Object} [options] The options object.\n   * @param {boolean} [options.chain=true] Specify whether the functions added are chainable.\n   * @example\n   *\n   * function capitalize(string) {\n   *   return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n   * }\n   *\n   * _.mixin({ 'capitalize': capitalize });\n   * _.capitalize('fred');\n   * // => 'Fred'\n   *\n   * _('fred').capitalize().value();\n   * // => 'Fred'\n   *\n   * _.mixin({ 'capitalize': capitalize }, { 'chain': false });\n   * _('fred').capitalize();\n   * // => 'Fred'\n   */\n  function mixin(object) {\n    forEach(functions(object), function (methodName) {\n      var func = lodash[methodName] = object[methodName];\n\n      lodash.prototype[methodName] = function () {\n        var args = [this.__wrapped__];\n        push.apply(args, arguments);\n\n        var result = func.apply(lodash, args);\n        return this.__chain__ ? new lodashWrapper(result, true) : result;\n      };\n    });\n  }\n\n  /**\n   * Reverts the '_' variable to its previous value and returns a reference to\n   * the `lodash` function.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @returns {Function} Returns the `lodash` function.\n   * @example\n   *\n   * var lodash = _.noConflict();\n   */\n  function noConflict() {\n    root._ = oldDash;\n    return this;\n  }\n\n  /**\n   * A no-operation function.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.noop(object) === undefined;\n   * // => true\n   */\n  function noop() {}\n  // no operation performed\n\n\n  /**\n   * Gets the number of milliseconds that have elapsed since the Unix epoch\n   * (1 January 1970 00:00:00 UTC).\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @example\n   *\n   * var stamp = _.now();\n   * _.defer(function() { console.log(_.now() - stamp); });\n   * // => logs the number of milliseconds it took for the deferred function to be called\n   */\n  var now = isNative(now = Date.now) && now || function () {\n    return new Date().getTime();\n  };\n\n  /**\n   * Creates a \"_.pluck\" style function, which returns the `key` value of a\n   * given object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} key The name of the property to retrieve.\n   * @returns {Function} Returns the new function.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'fred',   'age': 40 },\n   *   { 'name': 'barney', 'age': 36 }\n   * ];\n   *\n   * var getName = _.property('name');\n   *\n   * _.map(characters, getName);\n   * // => ['barney', 'fred']\n   *\n   * _.sortBy(characters, getName);\n   * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]\n   */\n  function property(key) {\n    return function (object) {\n      return object[key];\n    };\n  }\n\n  /**\n   * Produces a random number between `min` and `max` (inclusive). If only one\n   * argument is provided a number between `0` and the given number will be\n   * returned. If `floating` is truey or either `min` or `max` are floats a\n   * floating-point number will be returned instead of an integer.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {number} [min=0] The minimum possible value.\n   * @param {number} [max=1] The maximum possible value.\n   * @param {boolean} [floating=false] Specify returning a floating-point number.\n   * @returns {number} Returns a random number.\n   * @example\n   *\n   * _.random(0, 5);\n   * // => an integer between 0 and 5\n   *\n   * _.random(5);\n   * // => also an integer between 0 and 5\n   *\n   * _.random(5, true);\n   * // => a floating-point number between 0 and 5\n   *\n   * _.random(1.2, 5.2);\n   * // => a floating-point number between 1.2 and 5.2\n   */\n  function random(min, max) {\n    if (min == null && max == null) {\n      max = 1;\n    }\n    min = +min || 0;\n    if (max == null) {\n      max = min;\n      min = 0;\n    } else {\n      max = +max || 0;\n    }\n    return min + floor(nativeRandom() * (max - min + 1));\n  }\n\n  /**\n   * Resolves the value of property `key` on `object`. If `key` is a function\n   * it will be invoked with the `this` binding of `object` and its result returned,\n   * else the property value is returned. If `object` is falsey then `undefined`\n   * is returned.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Object} object The object to inspect.\n   * @param {string} key The name of the property to resolve.\n   * @returns {*} Returns the resolved value.\n   * @example\n   *\n   * var object = {\n   *   'cheese': 'crumpets',\n   *   'stuff': function() {\n   *     return 'nonsense';\n   *   }\n   * };\n   *\n   * _.result(object, 'cheese');\n   * // => 'crumpets'\n   *\n   * _.result(object, 'stuff');\n   * // => 'nonsense'\n   */\n  function result(object, key) {\n    if (object) {\n      var value = object[key];\n      return isFunction(value) ? object[key]() : value;\n    }\n  }\n\n  /**\n   * A micro-templating method that handles arbitrary delimiters, preserves\n   * whitespace, and correctly escapes quotes within interpolated code.\n   *\n   * Note: In the development build, `_.template` utilizes sourceURLs for easier\n   * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n   *\n   * For more information on precompiling templates see:\n   * https://lodash.com/custom-builds\n   *\n   * For more information on Chrome extension sandboxes see:\n   * http://developer.chrome.com/stable/extensions/sandboxingEval.html\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} text The template text.\n   * @param {Object} data The data object used to populate the text.\n   * @param {Object} [options] The options object.\n   * @param {RegExp} [options.escape] The \"escape\" delimiter.\n   * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n   * @param {Object} [options.imports] An object to import into the template as local variables.\n   * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n   * @param {string} [sourceURL] The sourceURL of the template's compiled source.\n   * @param {string} [variable] The data object variable name.\n   * @returns {Function|string} Returns a compiled function when no `data` object\n   *  is given, else it returns the interpolated text.\n   * @example\n   *\n   * // using the \"interpolate\" delimiter to create a compiled template\n   * var compiled = _.template('hello <%= name %>');\n   * compiled({ 'name': 'fred' });\n   * // => 'hello fred'\n   *\n   * // using the \"escape\" delimiter to escape HTML in data property values\n   * _.template('<b><%- value %></b>', { 'value': '<script>' });\n   * // => '<b>&lt;script&gt;</b>'\n   *\n   * // using the \"evaluate\" delimiter to generate HTML\n   * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';\n   * _.template(list, { 'people': ['fred', 'barney'] });\n   * // => '<li>fred</li><li>barney</li>'\n   *\n   * // using the ES6 delimiter as an alternative to the default \"interpolate\" delimiter\n   * _.template('hello ${ name }', { 'name': 'pebbles' });\n   * // => 'hello pebbles'\n   *\n   * // using the internal `print` function in \"evaluate\" delimiters\n   * _.template('<% print(\"hello \" + name); %>!', { 'name': 'barney' });\n   * // => 'hello barney!'\n   *\n   * // using a custom template delimiters\n   * _.templateSettings = {\n   *   'interpolate': /{{([\\s\\S]+?)}}/g\n   * };\n   *\n   * _.template('hello {{ name }}!', { 'name': 'mustache' });\n   * // => 'hello mustache!'\n   *\n   * // using the `imports` option to import jQuery\n   * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';\n   * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });\n   * // => '<li>fred</li><li>barney</li>'\n   *\n   * // using the `sourceURL` option to specify a custom sourceURL for the template\n   * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });\n   * compiled(data);\n   * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n   *\n   * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n   * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });\n   * compiled.source;\n   * // => function(data) {\n   *   var __t, __p = '', __e = _.escape;\n   *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';\n   *   return __p;\n   * }\n   *\n   * // using the `source` property to inline compiled templates for meaningful\n   * // line numbers in error messages and a stack trace\n   * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n   *   var JST = {\\\n   *     \"main\": ' + _.template(mainText).source + '\\\n   *   };\\\n   * ');\n   */\n  function template(text, data, options) {\n    var _ = lodash,\n        settings = _.templateSettings;\n\n    text = String(text || '');\n    options = defaults({}, options, settings);\n\n    var index = 0,\n        source = \"__p += '\",\n        variable = options.variable;\n\n    var reDelimiters = RegExp((options.escape || reNoMatch).source + '|' + (options.interpolate || reNoMatch).source + '|' + (options.evaluate || reNoMatch).source + '|$', 'g');\n\n    text.replace(reDelimiters, function (match, escapeValue, interpolateValue, evaluateValue, offset) {\n      source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n      if (escapeValue) {\n        source += \"' +\\n_.escape(\" + escapeValue + \") +\\n'\";\n      }\n      if (evaluateValue) {\n        source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n      }\n      if (interpolateValue) {\n        source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n      }\n      index = offset + match.length;\n      return match;\n    });\n\n    source += \"';\\n\";\n    if (!variable) {\n      variable = 'obj';\n      source = 'with (' + variable + ' || {}) {\\n' + source + '\\n}\\n';\n    }\n    source = 'function(' + variable + ') {\\n' + \"var __t, __p = '', __j = Array.prototype.join;\\n\" + \"function print() { __p += __j.call(arguments, '') }\\n\" + source + 'return __p\\n}';\n\n    try {\n      var result = Function('_', 'return ' + source)(_);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n    if (data) {\n      return result(data);\n    }\n    result.source = source;\n    return result;\n  }\n\n  /**\n   * Executes the callback `n` times, returning an array of the results\n   * of each callback execution. The callback is bound to `thisArg` and invoked\n   * with one argument; (index).\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {number} n The number of times to execute the callback.\n   * @param {Function} callback The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns an array of the results of each `callback` execution.\n   * @example\n   *\n   * var diceRolls = _.times(3, _.partial(_.random, 1, 6));\n   * // => [3, 6, 4]\n   *\n   * _.times(3, function(n) { mage.castSpell(n); });\n   * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively\n   *\n   * _.times(3, function(n) { this.cast(n); }, mage);\n   * // => also calls `mage.castSpell(n)` three times\n   */\n  function times(n, callback, thisArg) {\n    n = (n = +n) > -1 ? n : 0;\n    var index = -1,\n        result = Array(n);\n\n    callback = baseCreateCallback(callback, thisArg, 1);\n    while (++index < n) {\n      result[index] = callback(index);\n    }\n    return result;\n  }\n\n  /**\n   * The inverse of `_.escape` this method converts the HTML entities\n   * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their\n   * corresponding characters.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} string The string to unescape.\n   * @returns {string} Returns the unescaped string.\n   * @example\n   *\n   * _.unescape('Fred, Barney &amp; Pebbles');\n   * // => 'Fred, Barney & Pebbles'\n   */\n  function unescape(string) {\n    return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);\n  }\n\n  /**\n   * Generates a unique ID. If `prefix` is provided the ID will be appended to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} [prefix] The value to prefix the ID with.\n   * @returns {string} Returns the unique ID.\n   * @example\n   *\n   * _.uniqueId('contact_');\n   * // => 'contact_104'\n   *\n   * _.uniqueId();\n   * // => '105'\n   */\n  function uniqueId(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object that wraps the given value with explicit\n   * method chaining enabled.\n   *\n   * @static\n   * @memberOf _\n   * @category Chaining\n   * @param {*} value The value to wrap.\n   * @returns {Object} Returns the wrapper object.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'age': 36 },\n   *   { 'name': 'fred',    'age': 40 },\n   *   { 'name': 'pebbles', 'age': 1 }\n   * ];\n   *\n   * var youngest = _.chain(characters)\n   *     .sortBy('age')\n   *     .map(function(chr) { return chr.name + ' is ' + chr.age; })\n   *     .first()\n   *     .value();\n   * // => 'pebbles is 1'\n   */\n  function chain(value) {\n    value = new lodashWrapper(value);\n    value.__chain__ = true;\n    return value;\n  }\n\n  /**\n   * Invokes `interceptor` with the `value` as the first argument and then\n   * returns `value`. The purpose of this method is to \"tap into\" a method\n   * chain in order to perform operations on intermediate results within\n   * the chain.\n   *\n   * @static\n   * @memberOf _\n   * @category Chaining\n   * @param {*} value The value to provide to `interceptor`.\n   * @param {Function} interceptor The function to invoke.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * _([1, 2, 3, 4])\n   *  .tap(function(array) { array.pop(); })\n   *  .reverse()\n   *  .value();\n   * // => [3, 2, 1]\n   */\n  function tap(value, interceptor) {\n    interceptor(value);\n    return value;\n  }\n\n  /**\n   * Enables explicit method chaining on the wrapper object.\n   *\n   * @name chain\n   * @memberOf _\n   * @category Chaining\n   * @returns {*} Returns the wrapper object.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // without explicit chaining\n   * _(characters).first();\n   * // => { 'name': 'barney', 'age': 36 }\n   *\n   * // with explicit chaining\n   * _(characters).chain()\n   *   .first()\n   *   .pick('age')\n   *   .value();\n   * // => { 'age': 36 }\n   */\n  function wrapperChain() {\n    this.__chain__ = true;\n    return this;\n  }\n\n  /**\n   * Extracts the wrapped value.\n   *\n   * @name valueOf\n   * @memberOf _\n   * @alias value\n   * @category Chaining\n   * @returns {*} Returns the wrapped value.\n   * @example\n   *\n   * _([1, 2, 3]).valueOf();\n   * // => [1, 2, 3]\n   */\n  function wrapperValueOf() {\n    return this.__wrapped__;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions that return wrapped values when chaining\n  lodash.after = after;\n  lodash.bind = bind;\n  lodash.bindAll = bindAll;\n  lodash.chain = chain;\n  lodash.compact = compact;\n  lodash.compose = compose;\n  lodash.countBy = countBy;\n  lodash.debounce = debounce;\n  lodash.defaults = defaults;\n  lodash.defer = defer;\n  lodash.delay = delay;\n  lodash.difference = difference;\n  lodash.filter = filter;\n  lodash.flatten = flatten;\n  lodash.forEach = forEach;\n  lodash.functions = functions;\n  lodash.groupBy = groupBy;\n  lodash.indexBy = indexBy;\n  lodash.initial = initial;\n  lodash.intersection = intersection;\n  lodash.invert = invert;\n  lodash.invoke = invoke;\n  lodash.keys = keys;\n  lodash.map = map;\n  lodash.max = max;\n  lodash.memoize = memoize;\n  lodash.min = min;\n  lodash.omit = omit;\n  lodash.once = once;\n  lodash.pairs = pairs;\n  lodash.partial = partial;\n  lodash.pick = pick;\n  lodash.pluck = pluck;\n  lodash.range = range;\n  lodash.reject = reject;\n  lodash.rest = rest;\n  lodash.shuffle = shuffle;\n  lodash.sortBy = sortBy;\n  lodash.tap = tap;\n  lodash.throttle = throttle;\n  lodash.times = times;\n  lodash.toArray = toArray;\n  lodash.union = union;\n  lodash.uniq = uniq;\n  lodash.values = values;\n  lodash.where = where;\n  lodash.without = without;\n  lodash.wrap = wrap;\n  lodash.zip = zip;\n\n  // add aliases\n  lodash.collect = map;\n  lodash.drop = rest;\n  lodash.each = forEach;\n  lodash.extend = assign;\n  lodash.methods = functions;\n  lodash.object = zipObject;\n  lodash.select = filter;\n  lodash.tail = rest;\n  lodash.unique = uniq;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions that return unwrapped values when chaining\n  lodash.clone = clone;\n  lodash.contains = contains;\n  lodash.escape = escape;\n  lodash.every = every;\n  lodash.find = find;\n  lodash.has = has;\n  lodash.identity = identity;\n  lodash.indexOf = indexOf;\n  lodash.isArguments = isArguments;\n  lodash.isArray = isArray;\n  lodash.isBoolean = isBoolean;\n  lodash.isDate = isDate;\n  lodash.isElement = isElement;\n  lodash.isEmpty = isEmpty;\n  lodash.isEqual = isEqual;\n  lodash.isFinite = isFinite;\n  lodash.isFunction = isFunction;\n  lodash.isNaN = isNaN;\n  lodash.isNull = isNull;\n  lodash.isNumber = isNumber;\n  lodash.isObject = isObject;\n  lodash.isRegExp = isRegExp;\n  lodash.isString = isString;\n  lodash.isUndefined = isUndefined;\n  lodash.lastIndexOf = lastIndexOf;\n  lodash.mixin = mixin;\n  lodash.noConflict = noConflict;\n  lodash.random = random;\n  lodash.reduce = reduce;\n  lodash.reduceRight = reduceRight;\n  lodash.result = result;\n  lodash.size = size;\n  lodash.some = some;\n  lodash.sortedIndex = sortedIndex;\n  lodash.template = template;\n  lodash.unescape = unescape;\n  lodash.uniqueId = uniqueId;\n\n  // add aliases\n  lodash.all = every;\n  lodash.any = some;\n  lodash.detect = find;\n  lodash.findWhere = findWhere;\n  lodash.foldl = reduce;\n  lodash.foldr = reduceRight;\n  lodash.include = contains;\n  lodash.inject = reduce;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions capable of returning wrapped and unwrapped values when chaining\n  lodash.first = first;\n  lodash.last = last;\n  lodash.sample = sample;\n\n  // add aliases\n  lodash.take = first;\n  lodash.head = first;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions to `lodash.prototype`\n  mixin(lodash);\n\n  /**\n   * The semantic version number.\n   *\n   * @static\n   * @memberOf _\n   * @type string\n   */\n  lodash.VERSION = '2.4.2';\n\n  // add \"Chaining\" functions to the wrapper\n  lodash.prototype.chain = wrapperChain;\n  lodash.prototype.value = wrapperValueOf;\n\n  // add `Array` mutator functions to the wrapper\n  forEach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function (methodName) {\n    var func = arrayRef[methodName];\n    lodash.prototype[methodName] = function () {\n      var value = this.__wrapped__;\n      func.apply(value, arguments);\n\n      // avoid array-like object bugs with `Array#shift` and `Array#splice`\n      // in Firefox < 10 and IE < 9\n      if (!support.spliceObjects && value.length === 0) {\n        delete value[0];\n      }\n      return this;\n    };\n  });\n\n  // add `Array` accessor functions to the wrapper\n  forEach(['concat', 'join', 'slice'], function (methodName) {\n    var func = arrayRef[methodName];\n    lodash.prototype[methodName] = function () {\n      var value = this.__wrapped__,\n          result = func.apply(value, arguments);\n\n      if (this.__chain__) {\n        result = new lodashWrapper(result);\n        result.__chain__ = true;\n      }\n      return result;\n    };\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && (0, _typeof3['default'])(define.amd) == 'object' && define.amd) {\n    // Expose Lo-Dash to the global object even when an AMD loader is present in\n    // case Lo-Dash is loaded with a RequireJS shim config.\n    // See http://requirejs.org/docs/api.html#config-shim\n    root._ = lodash;\n\n    // define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module\n    define(function () {\n      return lodash;\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports && freeModule) {\n      // in Node.js or RingoJS\n      if (moduleExports) {\n        (freeModule.exports = lodash)._ = lodash;\n      }\n      // in Narwhal or Rhino -require\n      else {\n          freeExports._ = lodash;\n        }\n    } else {\n      // in a browser or Rhino\n      root._ = lodash;\n    }\n}).call(this);","ast":null,"map":{"version":3,"sources":["/packages/zurb:foundation-sites/vendor/lodash/dist/lodash.underscore.js"],"names":[],"mappings":"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","file":"/packages/zurb:foundation-sites/vendor/lodash/dist/lodash.underscore.js.map","sourcesContent":["/**\n * @license\n * Lo-Dash 2.4.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash underscore exports=\"amd,commonjs,global,node\" -o ./dist/lodash.underscore.js`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre ES5 environments */\n  var undefined;\n\n  /** Used to generate unique IDs */\n  var idCounter = 0;\n\n  /** Used internally to indicate various things */\n  var indicatorObject = {};\n\n  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */\n  var keyPrefix = +new Date + '';\n\n  /** Used to match \"interpolate\" template delimiters */\n  var reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to ensure capturing order of template delimiters */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals */\n  var reUnescapedString = /['\\n\\r\\t\\u2028\\u2029\\\\]/g;\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Used as a reference to the global object */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports` */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = objectTypes[typeof global] && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches\n   * or `fromIndex` constraints.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} [fromIndex=0] The index to search from.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    var index = (fromIndex || 0) - 1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Used by `sortBy` to compare transformed `collection` elements, stable sorting\n   * them in ascending order.\n   *\n   * @private\n   * @param {Object} a The object to compare to `b`.\n   * @param {Object} b The object to compare to `a`.\n   * @returns {number} Returns the sort order indicator of `1` or `-1`.\n   */\n  function compareAscending(a, b) {\n    var ac = a.criteria,\n        bc = b.criteria,\n        index = -1,\n        length = ac.length;\n\n    while (++index < length) {\n      var value = ac[index],\n          other = bc[index];\n\n      if (value !== other) {\n        if (value > other || typeof value == 'undefined') {\n          return 1;\n        }\n        if (value < other || typeof other == 'undefined') {\n          return -1;\n        }\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to return the same value for\n    // `a` and `b`. See https://github.com/jashkenas/underscore/pull/1247\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See http://code.google.com/p/v8/issues/detail?id=90\n    return a.index - b.index;\n  }\n\n  /**\n   * Used by `template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(match) {\n    return '\\\\' + stringEscapes[match];\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used instead of `Array#slice` to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|string} collection The collection to slice.\n   * @param {number} start The start index.\n   * @param {number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Used for `Array` method references.\n   *\n   * Normally `Array.prototype` would suffice, however, using an array literal\n   * avoids issues in Narwhal.\n   */\n  var arrayRef = [];\n\n  /** Used for native method references */\n  var objectProto = Object.prototype;\n\n  /** Used to restore the original `_` reference in `noConflict` */\n  var oldDash = root._;\n\n  /** Used to resolve the internal [[Class]] of values */\n  var toString = objectProto.toString;\n\n  /** Used to detect if a method is native */\n  var reNative = RegExp('^' +\n    String(toString)\n      .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n      .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n  );\n\n  /** Native method shortcuts */\n  var ceil = Math.ceil,\n      floor = Math.floor,\n      hasOwnProperty = objectProto.hasOwnProperty,\n      push = arrayRef.push,\n      propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n  /* Native method shortcuts for methods with the same name as other `lodash` methods */\n  var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n      nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n      nativeIsFinite = root.isFinite,\n      nativeIsNaN = root.isNaN,\n      nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n      nativeMax = Math.max,\n      nativeMin = Math.min,\n      nativeRandom = Math.random;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object which wraps the given value to enable intuitive\n   * method chaining.\n   *\n   * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n   * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n   * and `unshift`\n   *\n   * Chaining is supported in custom builds as long as the `value` method is\n   * implicitly or explicitly included in the build.\n   *\n   * The chainable wrapper functions are:\n   * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n   * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,\n   * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,\n   * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n   * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n   * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n   * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,\n   * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,\n   * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,\n   * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,\n   * and `zip`\n   *\n   * The non-chainable wrapper functions are:\n   * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,\n   * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,\n   * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n   * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,\n   * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,\n   * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,\n   * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,\n   * `template`, `unescape`, `uniqueId`, and `value`\n   *\n   * The wrapper functions `first` and `last` return wrapped values when `n` is\n   * provided, otherwise they return unwrapped values.\n   *\n   * Explicit chaining can be enabled by using the `_.chain` method.\n   *\n   * @name _\n   * @constructor\n   * @category Chaining\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @returns {Object} Returns a `lodash` instance.\n   * @example\n   *\n   * var wrapped = _([1, 2, 3]);\n   *\n   * // returns an unwrapped value\n   * wrapped.reduce(function(sum, num) {\n   *   return sum + num;\n   * });\n   * // => 6\n   *\n   * // returns a wrapped value\n   * var squares = wrapped.map(function(num) {\n   *   return num * num;\n   * });\n   *\n   * _.isArray(squares);\n   * // => false\n   *\n   * _.isArray(squares.value());\n   * // => true\n   */\n  function lodash(value) {\n    return (value instanceof lodash)\n      ? value\n      : new lodashWrapper(value);\n  }\n\n  /**\n   * A fast path for creating `lodash` wrapper objects.\n   *\n   * @private\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @param {boolean} chainAll A flag to enable chaining for all methods\n   * @returns {Object} Returns a `lodash` instance.\n   */\n  function lodashWrapper(value, chainAll) {\n    this.__chain__ = !!chainAll;\n    this.__wrapped__ = value;\n  }\n  // ensure `new lodashWrapper` is an instance of `lodash`\n  lodashWrapper.prototype = lodash.prototype;\n\n  /**\n   * An object used to flag environments features.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  var support = {};\n\n  (function() {\n    var object = { '0': 1, 'length': 1 };\n\n    /**\n     * Detect if `Array#shift` and `Array#splice` augment array-like objects correctly.\n     *\n     * Firefox < 10, IE compatibility mode, and IE < 9 have buggy Array `shift()`\n     * and `splice()` functions that fail to remove the last element, `value[0]`,\n     * of array-like objects even though the `length` property is set to `0`.\n     * The `shift()` method is buggy in IE 8 compatibility mode, while `splice()`\n     * is buggy regardless of mode in IE < 9 and buggy in compatibility mode in IE 9.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.spliceObjects = (arrayRef.splice.call(object, 0, 1), !object[0]);\n  }(1));\n\n  /**\n   * By default, the template delimiters used by Lo-Dash are similar to those in\n   * embedded Ruby (ERB). Change the following template settings to use alternative\n   * delimiters.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  lodash.templateSettings = {\n\n    /**\n     * Used to detect `data` property values to be HTML-escaped.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'escape': /<%-([\\s\\S]+?)%>/g,\n\n    /**\n     * Used to detect code to be evaluated.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'evaluate': /<%([\\s\\S]+?)%>/g,\n\n    /**\n     * Used to detect `data` property values to inject.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'interpolate': reInterpolate,\n\n    /**\n     * Used to reference the data object in the template text.\n     *\n     * @memberOf _.templateSettings\n     * @type string\n     */\n    'variable': ''\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.bind` that creates the bound function and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new bound function.\n   */\n  function baseBind(bindData) {\n    var func = bindData[0],\n        partialArgs = bindData[2],\n        thisArg = bindData[4];\n\n    function bound() {\n      // `Function#bind` spec\n      // http://es5.github.io/#x15.3.4.5\n      if (partialArgs) {\n        // avoid `arguments` object deoptimizations by using `slice` instead\n        // of `Array.prototype.slice.call` and not assigning `arguments` to a\n        // variable as a ternary expression\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      // mimic the constructor's `return` behavior\n      // http://es5.github.io/#x13.2.2\n      if (this instanceof bound) {\n        // ensure `new bound` is an instance of `func`\n        var thisBinding = baseCreate(func.prototype),\n            result = func.apply(thisBinding, args || arguments);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisArg, args || arguments);\n    }\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.create` without support for assigning\n   * properties to the created object.\n   *\n   * @private\n   * @param {Object} prototype The object to inherit from.\n   * @returns {Object} Returns the new object.\n   */\n  function baseCreate(prototype, properties) {\n    return isObject(prototype) ? nativeCreate(prototype) : {};\n  }\n  // fallback for browsers without `Object.create`\n  if (!nativeCreate) {\n    baseCreate = (function() {\n      function Object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object;\n          Object.prototype = null;\n        }\n        return result || root.Object();\n      };\n    }());\n  }\n\n  /**\n   * The base implementation of `_.createCallback` without support for creating\n   * \"_.pluck\" or \"_.where\" style callbacks.\n   *\n   * @private\n   * @param {*} [func=identity] The value to convert to a callback.\n   * @param {*} [thisArg] The `this` binding of the created callback.\n   * @param {number} [argCount] The number of arguments the callback accepts.\n   * @returns {Function} Returns a callback function.\n   */\n  function baseCreateCallback(func, thisArg, argCount) {\n    if (typeof func != 'function') {\n      return identity;\n    }\n    // exit early for no `thisArg` or already bound by `Function#bind`\n    if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n      return func;\n    }\n    switch (argCount) {\n      case 1: return function(value) {\n        return func.call(thisArg, value);\n      };\n      case 2: return function(a, b) {\n        return func.call(thisArg, a, b);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(thisArg, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(thisArg, accumulator, value, index, collection);\n      };\n    }\n    return bind(func, thisArg);\n  }\n\n  /**\n   * The base implementation of `createWrapper` that creates the wrapper and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new function.\n   */\n  function baseCreateWrapper(bindData) {\n    var func = bindData[0],\n        bitmask = bindData[1],\n        partialArgs = bindData[2],\n        partialRightArgs = bindData[3],\n        thisArg = bindData[4],\n        arity = bindData[5];\n\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        key = func;\n\n    function bound() {\n      var thisBinding = isBind ? thisArg : this;\n      if (partialArgs) {\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      if (partialRightArgs || isCurry) {\n        args || (args = slice(arguments));\n        if (partialRightArgs) {\n          push.apply(args, partialRightArgs);\n        }\n        if (isCurry && args.length < arity) {\n          bitmask |= 16 & ~32;\n          return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n        }\n      }\n      args || (args = arguments);\n      if (isBindKey) {\n        func = thisBinding[key];\n      }\n      if (this instanceof bound) {\n        thisBinding = baseCreate(func.prototype);\n        var result = func.apply(thisBinding, args);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisBinding, args);\n    }\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.difference` that accepts a single array\n   * of values to exclude.\n   *\n   * @private\n   * @param {Array} array The array to process.\n   * @param {Array} [values] The array of values to exclude.\n   * @returns {Array} Returns a new array of filtered values.\n   */\n  function baseDifference(array, values) {\n    var index = -1,\n        indexOf = getIndexOf(),\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (indexOf(values, value) < 0) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.flatten` without support for callback\n   * shorthands or `thisArg` binding.\n   *\n   * @private\n   * @param {Array} array The array to flatten.\n   * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n   * @param {boolean} [isStrict=false] A flag to restrict flattening to arrays and `arguments` objects.\n   * @param {number} [fromIndex=0] The index to start from.\n   * @returns {Array} Returns a new flattened array.\n   */\n  function baseFlatten(array, isShallow, isStrict, fromIndex) {\n    var index = (fromIndex || 0) - 1,\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n\n      if (value && typeof value == 'object' && typeof value.length == 'number'\n          && (isArray(value) || isArguments(value))) {\n        // recursively flatten arrays (susceptible to call stack limits)\n        if (!isShallow) {\n          value = baseFlatten(value, isShallow, isStrict);\n        }\n        var valIndex = -1,\n            valLength = value.length,\n            resIndex = result.length;\n\n        result.length += valLength;\n        while (++valIndex < valLength) {\n          result[resIndex++] = value[valIndex];\n        }\n      } else if (!isStrict) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.isEqual`, without support for `thisArg` binding,\n   * that allows partial \"_.where\" style comparisons.\n   *\n   * @private\n   * @param {*} a The value to compare.\n   * @param {*} b The other value to compare.\n   * @param {Function} [callback] The function to customize comparing values.\n   * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.\n   * @param {Array} [stackA=[]] Tracks traversed `a` objects.\n   * @param {Array} [stackB=[]] Tracks traversed `b` objects.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   */\n  function baseIsEqual(a, b, stackA, stackB) {\n    if (a === b) {\n      return a !== 0 || (1 / a == 1 / b);\n    }\n    var type = typeof a,\n        otherType = typeof b;\n\n    if (a === a &&\n        !(a && objectTypes[type]) &&\n        !(b && objectTypes[otherType])) {\n      return false;\n    }\n    if (a == null || b == null) {\n      return a === b;\n    }\n    var className = toString.call(a),\n        otherClass = toString.call(b);\n\n    if (className != otherClass) {\n      return false;\n    }\n    switch (className) {\n      case boolClass:\n      case dateClass:\n        return +a == +b;\n\n      case numberClass:\n        return a != +a\n          ? b != +b\n          : (a == 0 ? (1 / a == 1 / b) : a == +b);\n\n      case regexpClass:\n      case stringClass:\n        return a == String(b);\n    }\n    var isArr = className == arrayClass;\n    if (!isArr) {\n      var aWrapped = a instanceof lodash,\n          bWrapped = b instanceof lodash;\n\n      if (aWrapped || bWrapped) {\n        return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, stackA, stackB);\n      }\n      if (className != objectClass) {\n        return false;\n      }\n      var ctorA = a.constructor,\n          ctorB = b.constructor;\n\n      if (ctorA != ctorB &&\n            !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) &&\n            ('constructor' in a && 'constructor' in b)\n          ) {\n        return false;\n      }\n    }\n    stackA || (stackA = []);\n    stackB || (stackB = []);\n\n    var length = stackA.length;\n    while (length--) {\n      if (stackA[length] == a) {\n        return stackB[length] == b;\n      }\n    }\n    var result = true,\n        size = 0;\n\n    stackA.push(a);\n    stackB.push(b);\n\n    if (isArr) {\n      size = b.length;\n      result = size == a.length;\n\n      if (result) {\n        while (size--) {\n          if (!(result = baseIsEqual(a[size], b[size], stackA, stackB))) {\n            break;\n          }\n        }\n      }\n    }\n    else {\n      forIn(b, function(value, key, b) {\n        if (hasOwnProperty.call(b, key)) {\n          size++;\n          return !(result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, stackA, stackB)) && indicatorObject;\n        }\n      });\n\n      if (result) {\n        forIn(a, function(value, key, a) {\n          if (hasOwnProperty.call(a, key)) {\n            return !(result = --size > -1) && indicatorObject;\n          }\n        });\n      }\n    }\n    stackA.pop();\n    stackB.pop();\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.random` without argument juggling or support\n   * for returning floating-point numbers.\n   *\n   * @private\n   * @param {number} min The minimum possible value.\n   * @param {number} max The maximum possible value.\n   * @returns {number} Returns a random number.\n   */\n  function baseRandom(min, max) {\n    return min + floor(nativeRandom() * (max - min + 1));\n  }\n\n  /**\n   * The base implementation of `_.uniq` without support for callback shorthands\n   * or `thisArg` binding.\n   *\n   * @private\n   * @param {Array} array The array to process.\n   * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n   * @param {Function} [callback] The function called per iteration.\n   * @returns {Array} Returns a duplicate-value-free array.\n   */\n  function baseUniq(array, isSorted, callback) {\n    var index = -1,\n        indexOf = getIndexOf(),\n        length = array ? array.length : 0,\n        result = [],\n        seen = callback ? [] : result;\n\n    while (++index < length) {\n      var value = array[index],\n          computed = callback ? callback(value, index, array) : value;\n\n      if (isSorted\n            ? !index || seen[seen.length - 1] !== computed\n            : indexOf(seen, computed) < 0\n          ) {\n        if (callback) {\n          seen.push(computed);\n        }\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates a function that aggregates a collection, creating an object composed\n   * of keys generated from the results of running each element of the collection\n   * through a callback. The given `setter` function sets the keys and values\n   * of the composed object.\n   *\n   * @private\n   * @param {Function} setter The setter function.\n   * @returns {Function} Returns the new aggregator function.\n   */\n  function createAggregator(setter) {\n    return function(collection, callback, thisArg) {\n      var result = {};\n      callback = createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          setter(result, value, callback(value, index, collection), collection);\n        }\n      } else {\n        forOwn(collection, function(value, key, collection) {\n          setter(result, value, callback(value, key, collection), collection);\n        });\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Creates a function that, when called, either curries or invokes `func`\n   * with an optional `this` binding and partially applied arguments.\n   *\n   * @private\n   * @param {Function|string} func The function or method name to reference.\n   * @param {number} bitmask The bitmask of method flags to compose.\n   *  The bitmask may be composed of the following flags:\n   *  1 - `_.bind`\n   *  2 - `_.bindKey`\n   *  4 - `_.curry`\n   *  8 - `_.curry` (bound)\n   *  16 - `_.partial`\n   *  32 - `_.partialRight`\n   * @param {Array} [partialArgs] An array of arguments to prepend to those\n   *  provided to the new function.\n   * @param {Array} [partialRightArgs] An array of arguments to append to those\n   *  provided to the new function.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {number} [arity] The arity of `func`.\n   * @returns {Function} Returns the new function.\n   */\n  function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        isPartial = bitmask & 16,\n        isPartialRight = bitmask & 32;\n\n    if (!isBindKey && !isFunction(func)) {\n      throw new TypeError;\n    }\n    if (isPartial && !partialArgs.length) {\n      bitmask &= ~16;\n      isPartial = partialArgs = false;\n    }\n    if (isPartialRight && !partialRightArgs.length) {\n      bitmask &= ~32;\n      isPartialRight = partialRightArgs = false;\n    }\n    // fast path for `_.bind`\n    var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n    return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n  }\n\n  /**\n   * Used by `escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(match) {\n    return htmlEscapes[match];\n  }\n\n  /**\n   * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n   * customized, this method returns the custom method, otherwise it returns\n   * the `baseIndexOf` function.\n   *\n   * @private\n   * @returns {Function} Returns the \"indexOf\" function.\n   */\n  function getIndexOf() {\n    var result = (result = lodash.indexOf) === indexOf ? baseIndexOf : result;\n    return result;\n  }\n\n  /**\n   * Checks if `value` is a native function.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n   */\n  function isNative(value) {\n    return typeof value == 'function' && reNative.test(value);\n  }\n\n  /**\n   * Used by `unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} match The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(match) {\n    return htmlUnescapes[match];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Checks if `value` is an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.\n   * @example\n   *\n   * (function() { return _.isArguments(arguments); })(1, 2, 3);\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    return value && typeof value == 'object' && typeof value.length == 'number' &&\n      toString.call(value) == argsClass || false;\n  }\n  // fallback for browsers that can't detect `arguments` objects by [[Class]]\n  if (!isArguments(arguments)) {\n    isArguments = function(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee') || false;\n    };\n  }\n\n  /**\n   * Checks if `value` is an array.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n   * @example\n   *\n   * (function() { return _.isArray(arguments); })();\n   * // => false\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   */\n  var isArray = nativeIsArray || function(value) {\n    return value && typeof value == 'object' && typeof value.length == 'number' &&\n      toString.call(value) == arrayClass || false;\n  };\n\n  /**\n   * A fallback implementation of `Object.keys` which produces an array of the\n   * given object's own enumerable property names.\n   *\n   * @private\n   * @type Function\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   */\n  var shimKeys = function(object) {\n    var index, iterable = object, result = [];\n    if (!iterable) return result;\n    if (!(objectTypes[typeof object])) return result;\n      for (index in iterable) {\n        if (hasOwnProperty.call(iterable, index)) {\n          result.push(index);\n        }\n      }\n    return result\n  };\n\n  /**\n   * Creates an array composed of the own enumerable property names of an object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   * @example\n   *\n   * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n   */\n  var keys = !nativeKeys ? shimKeys : function(object) {\n    if (!isObject(object)) {\n      return [];\n    }\n    return nativeKeys(object);\n  };\n\n  /**\n   * Used to convert characters to HTML entities:\n   *\n   * Though the `>` character is escaped for symmetry, characters like `>` and `/`\n   * don't require escaping in HTML and have no special meaning unless they're part\n   * of a tag or an unquoted attribute value.\n   * http://mathiasbynens.be/notes/ambiguous-ampersands (under \"semi-related fun fact\")\n   */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;'\n  };\n\n  /** Used to convert HTML entities to characters */\n  var htmlUnescapes = invert(htmlEscapes);\n\n  /** Used to match HTML entities and HTML characters */\n  var reEscapedHtml = RegExp('(' + keys(htmlUnescapes).join('|') + ')', 'g'),\n      reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object. Subsequent sources will overwrite property assignments of previous\n   * sources. If a callback is provided it will be executed to produce the\n   * assigned values. The callback is bound to `thisArg` and invoked with two\n   * arguments; (objectValue, sourceValue).\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @alias extend\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param {Function} [callback] The function to customize assigning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n   * // => { 'name': 'fred', 'employer': 'slate' }\n   *\n   * var defaults = _.partialRight(_.assign, function(a, b) {\n   *   return typeof a == 'undefined' ? b : a;\n   * });\n   *\n   * var object = { 'name': 'barney' };\n   * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n   * // => { 'name': 'barney', 'employer': 'slate' }\n   */\n  function assign(object) {\n    if (!object) {\n      return object;\n    }\n    for (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {\n      var iterable = arguments[argsIndex];\n      if (iterable) {\n        for (var key in iterable) {\n          object[key] = iterable[key];\n        }\n      }\n    }\n    return object;\n  }\n\n  /**\n   * Creates a clone of `value`. If `isDeep` is `true` nested objects will also\n   * be cloned, otherwise they will be assigned by reference. If a callback\n   * is provided it will be executed to produce the cloned values. If the\n   * callback returns `undefined` cloning will be handled by the method instead.\n   * The callback is bound to `thisArg` and invoked with one argument; (value).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to clone.\n   * @param {boolean} [isDeep=false] Specify a deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the cloned value.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * var shallow = _.clone(characters);\n   * shallow[0] === characters[0];\n   * // => true\n   *\n   * var deep = _.clone(characters, true);\n   * deep[0] === characters[0];\n   * // => false\n   *\n   * _.mixin({\n   *   'clone': _.partialRight(_.clone, function(value) {\n   *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n   *   })\n   * });\n   *\n   * var clone = _.clone(document.body);\n   * clone.childNodes.length;\n   * // => 0\n   */\n  function clone(value) {\n    return isObject(value)\n      ? (isArray(value) ? slice(value) : assign({}, value))\n      : value;\n  }\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object for all destination properties that resolve to `undefined`. Once a\n   * property is set, additional defaults of the same property will be ignored.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param- {Object} [guard] Allows working with `_.reduce` without using its\n   *  `key` and `object` arguments as sources.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * var object = { 'name': 'barney' };\n   * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });\n   * // => { 'name': 'barney', 'employer': 'slate' }\n   */\n  function defaults(object) {\n    if (!object) {\n      return object;\n    }\n    for (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {\n      var iterable = arguments[argsIndex];\n      if (iterable) {\n        for (var key in iterable) {\n          if (typeof object[key] == 'undefined') {\n            object[key] = iterable[key];\n          }\n        }\n      }\n    }\n    return object;\n  }\n\n  /**\n   * Iterates over own and inherited enumerable properties of an object,\n   * executing the callback for each property. The callback is bound to `thisArg`\n   * and invoked with three arguments; (value, key, object). Callbacks may exit\n   * iteration early by explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * function Shape() {\n   *   this.x = 0;\n   *   this.y = 0;\n   * }\n   *\n   * Shape.prototype.move = function(x, y) {\n   *   this.x += x;\n   *   this.y += y;\n   * };\n   *\n   * _.forIn(new Shape, function(value, key) {\n   *   console.log(key);\n   * });\n   * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)\n   */\n  var forIn = function(collection, callback) {\n    var index, iterable = collection, result = iterable;\n    if (!iterable) return result;\n    if (!objectTypes[typeof iterable]) return result;\n      for (index in iterable) {\n        if (callback(iterable[index], index, collection) === indicatorObject) return result;\n      }\n    return result\n  };\n\n  /**\n   * Iterates over own enumerable properties of an object, executing the callback\n   * for each property. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, key, object). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n   *   console.log(key);\n   * });\n   * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n   */\n  var forOwn = function(collection, callback) {\n    var index, iterable = collection, result = iterable;\n    if (!iterable) return result;\n    if (!objectTypes[typeof iterable]) return result;\n      for (index in iterable) {\n        if (hasOwnProperty.call(iterable, index)) {\n          if (callback(iterable[index], index, collection) === indicatorObject) return result;\n        }\n      }\n    return result\n  };\n\n  /**\n   * Creates a sorted array of property names of all enumerable properties,\n   * own and inherited, of `object` that have function values.\n   *\n   * @static\n   * @memberOf _\n   * @alias methods\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names that have function values.\n   * @example\n   *\n   * _.functions(_);\n   * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]\n   */\n  function functions(object) {\n    var result = [];\n    forIn(object, function(value, key) {\n      if (isFunction(value)) {\n        result.push(key);\n      }\n    });\n    return result.sort();\n  }\n\n  /**\n   * Checks if the specified property name exists as a direct property of `object`,\n   * instead of an inherited property.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @param {string} key The name of the property to check.\n   * @returns {boolean} Returns `true` if key is a direct property, else `false`.\n   * @example\n   *\n   * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');\n   * // => true\n   */\n  function has(object, key) {\n    return object ? hasOwnProperty.call(object, key) : false;\n  }\n\n  /**\n   * Creates an object composed of the inverted keys and values of the given object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to invert.\n   * @returns {Object} Returns the created inverted object.\n   * @example\n   *\n   * _.invert({ 'first': 'fred', 'second': 'barney' });\n   * // => { 'fred': 'first', 'barney': 'second' }\n   */\n  function invert(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = {};\n\n    while (++index < length) {\n      var key = props[index];\n      result[object[key]] = key;\n    }\n    return result;\n  }\n\n  /**\n   * Checks if `value` is a boolean value.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a boolean value, else `false`.\n   * @example\n   *\n   * _.isBoolean(null);\n   * // => false\n   */\n  function isBoolean(value) {\n    return value === true || value === false ||\n      value && typeof value == 'object' && toString.call(value) == boolClass || false;\n  }\n\n  /**\n   * Checks if `value` is a date.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a date, else `false`.\n   * @example\n   *\n   * _.isDate(new Date);\n   * // => true\n   */\n  function isDate(value) {\n    return value && typeof value == 'object' && toString.call(value) == dateClass || false;\n  }\n\n  /**\n   * Checks if `value` is a DOM element.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a DOM element, else `false`.\n   * @example\n   *\n   * _.isElement(document.body);\n   * // => true\n   */\n  function isElement(value) {\n    return value && value.nodeType === 1 || false;\n  }\n\n  /**\n   * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n   * length of `0` and objects with no own enumerable properties are considered\n   * \"empty\".\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Array|Object|string} value The value to inspect.\n   * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n   * @example\n   *\n   * _.isEmpty([1, 2, 3]);\n   * // => false\n   *\n   * _.isEmpty({});\n   * // => true\n   *\n   * _.isEmpty('');\n   * // => true\n   */\n  function isEmpty(value) {\n    if (!value) {\n      return true;\n    }\n    if (isArray(value) || isString(value)) {\n      return !value.length;\n    }\n    for (var key in value) {\n      if (hasOwnProperty.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Performs a deep comparison between two values to determine if they are\n   * equivalent to each other. If a callback is provided it will be executed\n   * to compare values. If the callback returns `undefined` comparisons will\n   * be handled by the method instead. The callback is bound to `thisArg` and\n   * invoked with two arguments; (a, b).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} a The value to compare.\n   * @param {*} b The other value to compare.\n   * @param {Function} [callback] The function to customize comparing values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * var copy = { 'name': 'fred' };\n   *\n   * object == copy;\n   * // => false\n   *\n   * _.isEqual(object, copy);\n   * // => true\n   *\n   * var words = ['hello', 'goodbye'];\n   * var otherWords = ['hi', 'goodbye'];\n   *\n   * _.isEqual(words, otherWords, function(a, b) {\n   *   var reGreet = /^(?:hello|hi)$/i,\n   *       aGreet = _.isString(a) && reGreet.test(a),\n   *       bGreet = _.isString(b) && reGreet.test(b);\n   *\n   *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;\n   * });\n   * // => true\n   */\n  function isEqual(a, b) {\n    return baseIsEqual(a, b);\n  }\n\n  /**\n   * Checks if `value` is, or can be coerced to, a finite number.\n   *\n   * Note: This is not the same as native `isFinite` which will return true for\n   * booleans and empty strings. See http://es5.github.io/#x15.1.2.5.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is finite, else `false`.\n   * @example\n   *\n   * _.isFinite(-101);\n   * // => true\n   *\n   * _.isFinite('10');\n   * // => true\n   *\n   * _.isFinite(true);\n   * // => false\n   *\n   * _.isFinite('');\n   * // => false\n   *\n   * _.isFinite(Infinity);\n   * // => false\n   */\n  function isFinite(value) {\n    return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));\n  }\n\n  /**\n   * Checks if `value` is a function.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   */\n  function isFunction(value) {\n    return typeof value == 'function';\n  }\n  // fallback for older versions of Chrome and Safari\n  if (isFunction(/x/)) {\n    isFunction = function(value) {\n      return typeof value == 'function' && toString.call(value) == funcClass;\n    };\n  }\n\n  /**\n   * Checks if `value` is the language type of Object.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // check if the value is the ECMAScript language type of Object\n    // http://es5.github.io/#x8\n    // and avoid a V8 bug\n    // http://code.google.com/p/v8/issues/detail?id=2291\n    return !!(value && objectTypes[typeof value]);\n  }\n\n  /**\n   * Checks if `value` is `NaN`.\n   *\n   * Note: This is not the same as native `isNaN` which will return `true` for\n   * `undefined` and other non-numeric values. See http://es5.github.io/#x15.1.2.4.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is `NaN`, else `false`.\n   * @example\n   *\n   * _.isNaN(NaN);\n   * // => true\n   *\n   * _.isNaN(new Number(NaN));\n   * // => true\n   *\n   * isNaN(undefined);\n   * // => true\n   *\n   * _.isNaN(undefined);\n   * // => false\n   */\n  function isNaN(value) {\n    // `NaN` as a primitive is the only value that is not equal to itself\n    // (perform the [[Class]] check first to avoid errors with some host objects in IE)\n    return isNumber(value) && value != +value;\n  }\n\n  /**\n   * Checks if `value` is `null`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is `null`, else `false`.\n   * @example\n   *\n   * _.isNull(null);\n   * // => true\n   *\n   * _.isNull(undefined);\n   * // => false\n   */\n  function isNull(value) {\n    return value === null;\n  }\n\n  /**\n   * Checks if `value` is a number.\n   *\n   * Note: `NaN` is considered a number. See http://es5.github.io/#x8.5.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a number, else `false`.\n   * @example\n   *\n   * _.isNumber(8.4 * 5);\n   * // => true\n   */\n  function isNumber(value) {\n    return typeof value == 'number' ||\n      value && typeof value == 'object' && toString.call(value) == numberClass || false;\n  }\n\n  /**\n   * Checks if `value` is a regular expression.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a regular expression, else `false`.\n   * @example\n   *\n   * _.isRegExp(/fred/);\n   * // => true\n   */\n  function isRegExp(value) {\n    return value && objectTypes[typeof value] && toString.call(value) == regexpClass || false;\n  }\n\n  /**\n   * Checks if `value` is a string.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a string, else `false`.\n   * @example\n   *\n   * _.isString('fred');\n   * // => true\n   */\n  function isString(value) {\n    return typeof value == 'string' ||\n      value && typeof value == 'object' && toString.call(value) == stringClass || false;\n  }\n\n  /**\n   * Checks if `value` is `undefined`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is `undefined`, else `false`.\n   * @example\n   *\n   * _.isUndefined(void 0);\n   * // => true\n   */\n  function isUndefined(value) {\n    return typeof value == 'undefined';\n  }\n\n  /**\n   * Creates a shallow clone of `object` excluding the specified properties.\n   * Property names may be specified as individual arguments or as arrays of\n   * property names. If a callback is provided it will be executed for each\n   * property of `object` omitting the properties the callback returns truey\n   * for. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, key, object).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The source object.\n   * @param {Function|...string|string[]} [callback] The properties to omit or the\n   *  function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns an object without the omitted properties.\n   * @example\n   *\n   * _.omit({ 'name': 'fred', 'age': 40 }, 'age');\n   * // => { 'name': 'fred' }\n   *\n   * _.omit({ 'name': 'fred', 'age': 40 }, function(value) {\n   *   return typeof value == 'number';\n   * });\n   * // => { 'name': 'fred' }\n   */\n  function omit(object) {\n    var props = [];\n    forIn(object, function(value, key) {\n      props.push(key);\n    });\n    props = baseDifference(props, baseFlatten(arguments, true, false, 1));\n\n    var index = -1,\n        length = props.length,\n        result = {};\n\n    while (++index < length) {\n      var key = props[index];\n      result[key] = object[key];\n    }\n    return result;\n  }\n\n  /**\n   * Creates a two dimensional array of an object's key-value pairs,\n   * i.e. `[[key1, value1], [key2, value2]]`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns new array of key-value pairs.\n   * @example\n   *\n   * _.pairs({ 'barney': 36, 'fred': 40 });\n   * // => [['barney', 36], ['fred', 40]] (property order is not guaranteed across environments)\n   */\n  function pairs(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = Array(length);\n\n    while (++index < length) {\n      var key = props[index];\n      result[index] = [key, object[key]];\n    }\n    return result;\n  }\n\n  /**\n   * Creates a shallow clone of `object` composed of the specified properties.\n   * Property names may be specified as individual arguments or as arrays of\n   * property names. If a callback is provided it will be executed for each\n   * property of `object` picking the properties the callback returns truey\n   * for. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, key, object).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The source object.\n   * @param {Function|...string|string[]} [callback] The function called per\n   *  iteration or property names to pick, specified as individual property\n   *  names or arrays of property names.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns an object composed of the picked properties.\n   * @example\n   *\n   * _.pick({ 'name': 'fred', '_userid': 'fred1' }, 'name');\n   * // => { 'name': 'fred' }\n   *\n   * _.pick({ 'name': 'fred', '_userid': 'fred1' }, function(value, key) {\n   *   return key.charAt(0) != '_';\n   * });\n   * // => { 'name': 'fred' }\n   */\n  function pick(object) {\n    var index = -1,\n        props = baseFlatten(arguments, true, false, 1),\n        length = props.length,\n        result = {};\n\n    while (++index < length) {\n      var key = props[index];\n      if (key in object) {\n        result[key] = object[key];\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates an array composed of the own enumerable property values of `object`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property values.\n   * @example\n   *\n   * _.values({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => [1, 2, 3] (property order is not guaranteed across environments)\n   */\n  function values(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = object[props[index]];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Checks if a given value is present in a collection using strict equality\n   * for comparisons, i.e. `===`. If `fromIndex` is negative, it is used as the\n   * offset from the end of the collection.\n   *\n   * @static\n   * @memberOf _\n   * @alias include\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {*} target The value to check for.\n   * @param {number} [fromIndex=0] The index to search from.\n   * @returns {boolean} Returns `true` if the `target` element is found, else `false`.\n   * @example\n   *\n   * _.contains([1, 2, 3], 1);\n   * // => true\n   *\n   * _.contains([1, 2, 3], 1, 2);\n   * // => false\n   *\n   * _.contains({ 'name': 'fred', 'age': 40 }, 'fred');\n   * // => true\n   *\n   * _.contains('pebbles', 'eb');\n   * // => true\n   */\n  function contains(collection, target) {\n    var indexOf = getIndexOf(),\n        length = collection ? collection.length : 0,\n        result = false;\n    if (length && typeof length == 'number') {\n      result = indexOf(collection, target) > -1;\n    } else {\n      forOwn(collection, function(value) {\n        return (result = value === target) && indicatorObject;\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Creates an object composed of keys generated from the results of running\n   * each element of `collection` through the callback. The corresponding value\n   * of each key is the number of times the key was returned by the callback.\n   * The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the composed aggregate object.\n   * @example\n   *\n   * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });\n   * // => { '4': 1, '6': 2 }\n   *\n   * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n   * // => { '4': 1, '6': 2 }\n   *\n   * _.countBy(['one', 'two', 'three'], 'length');\n   * // => { '3': 2, '5': 1 }\n   */\n  var countBy = createAggregator(function(result, value, key) {\n    (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);\n  });\n\n  /**\n   * Checks if the given callback returns truey value for **all** elements of\n   * a collection. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias all\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {boolean} Returns `true` if all elements passed the callback check,\n   *  else `false`.\n   * @example\n   *\n   * _.every([true, 1, null, 'yes']);\n   * // => false\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.every(characters, 'age');\n   * // => true\n   *\n   * // using \"_.where\" callback shorthand\n   * _.every(characters, { 'age': 36 });\n   * // => false\n   */\n  function every(collection, callback, thisArg) {\n    var result = true;\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        if (!(result = !!callback(collection[index], index, collection))) {\n          break;\n        }\n      }\n    } else {\n      forOwn(collection, function(value, index, collection) {\n        return !(result = !!callback(value, index, collection)) && indicatorObject;\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Iterates over elements of a collection, returning an array of all elements\n   * the callback returns truey for. The callback is bound to `thisArg` and\n   * invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias select\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of elements that passed the callback check.\n   * @example\n   *\n   * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n   * // => [2, 4, 6]\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'blocked': false },\n   *   { 'name': 'fred',   'age': 40, 'blocked': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.filter(characters, 'blocked');\n   * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.filter(characters, { 'age': 36 });\n   * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n   */\n  function filter(collection, callback, thisArg) {\n    var result = [];\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (callback(value, index, collection)) {\n          result.push(value);\n        }\n      }\n    } else {\n      forOwn(collection, function(value, index, collection) {\n        if (callback(value, index, collection)) {\n          result.push(value);\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Iterates over elements of a collection, returning the first element that\n   * the callback returns truey for. The callback is bound to `thisArg` and\n   * invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias detect, findWhere\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the found element, else `undefined`.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'age': 36, 'blocked': false },\n   *   { 'name': 'fred',    'age': 40, 'blocked': true },\n   *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n   * ];\n   *\n   * _.find(characters, function(chr) {\n   *   return chr.age < 40;\n   * });\n   * // => { 'name': 'barney', 'age': 36, 'blocked': false }\n   *\n   * // using \"_.where\" callback shorthand\n   * _.find(characters, { 'age': 1 });\n   * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.find(characters, 'blocked');\n   * // => { 'name': 'fred', 'age': 40, 'blocked': true }\n   */\n  function find(collection, callback, thisArg) {\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (callback(value, index, collection)) {\n          return value;\n        }\n      }\n    } else {\n      var result;\n      forOwn(collection, function(value, index, collection) {\n        if (callback(value, index, collection)) {\n          result = value;\n          return indicatorObject;\n        }\n      });\n      return result;\n    }\n  }\n\n  /**\n   * Examines each element in a `collection`, returning the first that\n   * has the given properties. When checking `properties`, this method\n   * performs a deep comparison between values to determine if they are\n   * equivalent to each other.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Object} properties The object of property values to filter by.\n   * @returns {*} Returns the found element, else `undefined`.\n   * @example\n   *\n   * var food = [\n   *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n   *   { 'name': 'banana', 'organic': true,  'type': 'fruit' },\n   *   { 'name': 'beet',   'organic': false, 'type': 'vegetable' }\n   * ];\n   *\n   * _.findWhere(food, { 'type': 'vegetable' });\n   * // => { 'name': 'beet', 'organic': false, 'type': 'vegetable' }\n   */\n  function findWhere(object, properties) {\n    return where(object, properties, true);\n  }\n\n  /**\n   * Iterates over elements of a collection, executing the callback for each\n   * element. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * Note: As with other \"Collections\" methods, objects with a `length` property\n   * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n   * may be used for object iteration.\n   *\n   * @static\n   * @memberOf _\n   * @alias each\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   * @example\n   *\n   * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');\n   * // => logs each number and returns '1,2,3'\n   *\n   * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });\n   * // => logs each number and returns the object (property order is not guaranteed across environments)\n   */\n  function forEach(collection, callback, thisArg) {\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n    if (typeof length == 'number') {\n      while (++index < length) {\n        if (callback(collection[index], index, collection) === indicatorObject) {\n          break;\n        }\n      }\n    } else {\n      forOwn(collection, callback);\n    }\n  }\n\n  /**\n   * This method is like `_.forEach` except that it iterates over elements\n   * of a `collection` from right to left.\n   *\n   * @static\n   * @memberOf _\n   * @alias eachRight\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   * @example\n   *\n   * _([1, 2, 3]).forEachRight(function(num) { console.log(num); }).join(',');\n   * // => logs each number from right to left and returns '3,2,1'\n   */\n  function forEachRight(collection, callback) {\n    var length = collection ? collection.length : 0;\n    if (typeof length == 'number') {\n      while (length--) {\n        if (callback(collection[length], length, collection) === false) {\n          break;\n        }\n      }\n    } else {\n      var props = keys(collection);\n      length = props.length;\n      forOwn(collection, function(value, key, collection) {\n        key = props ? props[--length] : --length;\n        return callback(collection[key], key, collection) === false && indicatorObject;\n      });\n    }\n  }\n\n  /**\n   * Creates an object composed of keys generated from the results of running\n   * each element of a collection through the callback. The corresponding value\n   * of each key is an array of the elements responsible for generating the key.\n   * The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the composed aggregate object.\n   * @example\n   *\n   * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });\n   * // => { '4': [4.2], '6': [6.1, 6.4] }\n   *\n   * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n   * // => { '4': [4.2], '6': [6.1, 6.4] }\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.groupBy(['one', 'two', 'three'], 'length');\n   * // => { '3': ['one', 'two'], '5': ['three'] }\n   */\n  var groupBy = createAggregator(function(result, value, key) {\n    (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);\n  });\n\n  /**\n   * Creates an object composed of keys generated from the results of running\n   * each element of the collection through the given callback. The corresponding\n   * value of each key is the last element responsible for generating the key.\n   * The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the composed aggregate object.\n   * @example\n   *\n   * var keys = [\n   *   { 'dir': 'left', 'code': 97 },\n   *   { 'dir': 'right', 'code': 100 }\n   * ];\n   *\n   * _.indexBy(keys, 'dir');\n   * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n   *\n   * _.indexBy(keys, function(key) { return String.fromCharCode(key.code); });\n   * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n   *\n   * _.indexBy(characters, function(key) { this.fromCharCode(key.code); }, String);\n   * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n   */\n  var indexBy = createAggregator(function(result, value, key) {\n    result[key] = value;\n  });\n\n  /**\n   * Invokes the method named by `methodName` on each element in the `collection`\n   * returning an array of the results of each invoked method. Additional arguments\n   * will be provided to each invoked method. If `methodName` is a function it\n   * will be invoked for, and `this` bound to, each element in the `collection`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|string} methodName The name of the method to invoke or\n   *  the function invoked per iteration.\n   * @param {...*} [arg] Arguments to invoke the method with.\n   * @returns {Array} Returns a new array of the results of each invoked method.\n   * @example\n   *\n   * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n   * // => [[1, 5, 7], [1, 2, 3]]\n   *\n   * _.invoke([123, 456], String.prototype.split, '');\n   * // => [['1', '2', '3'], ['4', '5', '6']]\n   */\n  function invoke(collection, methodName) {\n    var args = slice(arguments, 2),\n        index = -1,\n        isFunc = typeof methodName == 'function',\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    forEach(collection, function(value) {\n      result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);\n    });\n    return result;\n  }\n\n  /**\n   * Creates an array of values by running each element in the collection\n   * through the callback. The callback is bound to `thisArg` and invoked with\n   * three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias collect\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of the results of each `callback` execution.\n   * @example\n   *\n   * _.map([1, 2, 3], function(num) { return num * 3; });\n   * // => [3, 6, 9]\n   *\n   * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });\n   * // => [3, 6, 9] (property order is not guaranteed across environments)\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.map(characters, 'name');\n   * // => ['barney', 'fred']\n   */\n  function map(collection, callback, thisArg) {\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    callback = createCallback(callback, thisArg, 3);\n    if (typeof length == 'number') {\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = callback(collection[index], index, collection);\n      }\n    } else {\n      result = [];\n      forOwn(collection, function(value, key, collection) {\n        result[++index] = callback(value, key, collection);\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the maximum value of a collection. If the collection is empty or\n   * falsey `-Infinity` is returned. If a callback is provided it will be executed\n   * for each value in the collection to generate the criterion by which the value\n   * is ranked. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the maximum value.\n   * @example\n   *\n   * _.max([4, 2, 8, 6]);\n   * // => 8\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * _.max(characters, function(chr) { return chr.age; });\n   * // => { 'name': 'fred', 'age': 40 };\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.max(characters, 'age');\n   * // => { 'name': 'fred', 'age': 40 };\n   */\n  function max(collection, callback, thisArg) {\n    var computed = -Infinity,\n        result = computed;\n\n    // allows working with functions like `_.map` without using\n    // their `index` argument as a callback\n    if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n      callback = null;\n    }\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (callback == null && typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      callback = createCallback(callback, thisArg, 3);\n\n      forEach(collection, function(value, index, collection) {\n        var current = callback(value, index, collection);\n        if (current > computed) {\n          computed = current;\n          result = value;\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the minimum value of a collection. If the collection is empty or\n   * falsey `Infinity` is returned. If a callback is provided it will be executed\n   * for each value in the collection to generate the criterion by which the value\n   * is ranked. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the minimum value.\n   * @example\n   *\n   * _.min([4, 2, 8, 6]);\n   * // => 2\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * _.min(characters, function(chr) { return chr.age; });\n   * // => { 'name': 'barney', 'age': 36 };\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.min(characters, 'age');\n   * // => { 'name': 'barney', 'age': 36 };\n   */\n  function min(collection, callback, thisArg) {\n    var computed = Infinity,\n        result = computed;\n\n    // allows working with functions like `_.map` without using\n    // their `index` argument as a callback\n    if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n      callback = null;\n    }\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (callback == null && typeof length == 'number') {\n      while (++index < length) {\n        var value = collection[index];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      callback = createCallback(callback, thisArg, 3);\n\n      forEach(collection, function(value, index, collection) {\n        var current = callback(value, index, collection);\n        if (current < computed) {\n          computed = current;\n          result = value;\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the value of a specified property from all elements in the collection.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {string} property The name of the property to pluck.\n   * @returns {Array} Returns a new array of property values.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * _.pluck(characters, 'name');\n   * // => ['barney', 'fred']\n   */\n  var pluck = map;\n\n  /**\n   * Reduces a collection to a value which is the accumulated result of running\n   * each element in the collection through the callback, where each successive\n   * callback execution consumes the return value of the previous execution. If\n   * `accumulator` is not provided the first element of the collection will be\n   * used as the initial `accumulator` value. The callback is bound to `thisArg`\n   * and invoked with four arguments; (accumulator, value, index|key, collection).\n   *\n   * @static\n   * @memberOf _\n   * @alias foldl, inject\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [accumulator] Initial value of the accumulator.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the accumulated value.\n   * @example\n   *\n   * var sum = _.reduce([1, 2, 3], function(sum, num) {\n   *   return sum + num;\n   * });\n   * // => 6\n   *\n   * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n   *   result[key] = num * 3;\n   *   return result;\n   * }, {});\n   * // => { 'a': 3, 'b': 6, 'c': 9 }\n   */\n  function reduce(collection, callback, accumulator, thisArg) {\n    if (!collection) return accumulator;\n    var noaccum = arguments.length < 3;\n    callback = createCallback(callback, thisArg, 4);\n\n    var index = -1,\n        length = collection.length;\n\n    if (typeof length == 'number') {\n      if (noaccum) {\n        accumulator = collection[++index];\n      }\n      while (++index < length) {\n        accumulator = callback(accumulator, collection[index], index, collection);\n      }\n    } else {\n      forOwn(collection, function(value, index, collection) {\n        accumulator = noaccum\n          ? (noaccum = false, value)\n          : callback(accumulator, value, index, collection)\n      });\n    }\n    return accumulator;\n  }\n\n  /**\n   * This method is like `_.reduce` except that it iterates over elements\n   * of a `collection` from right to left.\n   *\n   * @static\n   * @memberOf _\n   * @alias foldr\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [accumulator] Initial value of the accumulator.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the accumulated value.\n   * @example\n   *\n   * var list = [[0, 1], [2, 3], [4, 5]];\n   * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);\n   * // => [4, 5, 2, 3, 0, 1]\n   */\n  function reduceRight(collection, callback, accumulator, thisArg) {\n    var noaccum = arguments.length < 3;\n    callback = createCallback(callback, thisArg, 4);\n    forEachRight(collection, function(value, index, collection) {\n      accumulator = noaccum\n        ? (noaccum = false, value)\n        : callback(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The opposite of `_.filter` this method returns the elements of a\n   * collection that the callback does **not** return truey for.\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of elements that failed the callback check.\n   * @example\n   *\n   * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n   * // => [1, 3, 5]\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'blocked': false },\n   *   { 'name': 'fred',   'age': 40, 'blocked': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.reject(characters, 'blocked');\n   * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.reject(characters, { 'age': 36 });\n   * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n   */\n  function reject(collection, callback, thisArg) {\n    callback = createCallback(callback, thisArg, 3);\n    return filter(collection, function(value, index, collection) {\n      return !callback(value, index, collection);\n    });\n  }\n\n  /**\n   * Retrieves a random element or `n` random elements from a collection.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to sample.\n   * @param {number} [n] The number of elements to sample.\n   * @param- {Object} [guard] Allows working with functions like `_.map`\n   *  without using their `index` arguments as `n`.\n   * @returns {Array} Returns the random sample(s) of `collection`.\n   * @example\n   *\n   * _.sample([1, 2, 3, 4]);\n   * // => 2\n   *\n   * _.sample([1, 2, 3, 4], 2);\n   * // => [3, 1]\n   */\n  function sample(collection, n, guard) {\n    if (collection && typeof collection.length != 'number') {\n      collection = values(collection);\n    }\n    if (n == null || guard) {\n      return collection ? collection[baseRandom(0, collection.length - 1)] : undefined;\n    }\n    var result = shuffle(collection);\n    result.length = nativeMin(nativeMax(0, n), result.length);\n    return result;\n  }\n\n  /**\n   * Creates an array of shuffled values, using a version of the Fisher-Yates\n   * shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to shuffle.\n   * @returns {Array} Returns a new shuffled collection.\n   * @example\n   *\n   * _.shuffle([1, 2, 3, 4, 5, 6]);\n   * // => [4, 1, 6, 3, 5, 2]\n   */\n  function shuffle(collection) {\n    var index = -1,\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    forEach(collection, function(value) {\n      var rand = baseRandom(0, ++index);\n      result[index] = result[rand];\n      result[rand] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Gets the size of the `collection` by returning `collection.length` for arrays\n   * and array-like objects or the number of own enumerable properties for objects.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to inspect.\n   * @returns {number} Returns `collection.length` or number of own enumerable properties.\n   * @example\n   *\n   * _.size([1, 2]);\n   * // => 2\n   *\n   * _.size({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => 3\n   *\n   * _.size('pebbles');\n   * // => 7\n   */\n  function size(collection) {\n    var length = collection ? collection.length : 0;\n    return typeof length == 'number' ? length : keys(collection).length;\n  }\n\n  /**\n   * Checks if the callback returns a truey value for **any** element of a\n   * collection. The function returns as soon as it finds a passing value and\n   * does not iterate over the entire collection. The callback is bound to\n   * `thisArg` and invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias any\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {boolean} Returns `true` if any element passed the callback check,\n   *  else `false`.\n   * @example\n   *\n   * _.some([null, 0, 'yes', false], Boolean);\n   * // => true\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'blocked': false },\n   *   { 'name': 'fred',   'age': 40, 'blocked': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.some(characters, 'blocked');\n   * // => true\n   *\n   * // using \"_.where\" callback shorthand\n   * _.some(characters, { 'age': 1 });\n   * // => false\n   */\n  function some(collection, callback, thisArg) {\n    var result;\n    callback = createCallback(callback, thisArg, 3);\n\n    var index = -1,\n        length = collection ? collection.length : 0;\n\n    if (typeof length == 'number') {\n      while (++index < length) {\n        if ((result = callback(collection[index], index, collection))) {\n          break;\n        }\n      }\n    } else {\n      forOwn(collection, function(value, index, collection) {\n        return (result = callback(value, index, collection)) && indicatorObject;\n      });\n    }\n    return !!result;\n  }\n\n  /**\n   * Creates an array of elements, sorted in ascending order by the results of\n   * running each element in a collection through the callback. This method\n   * performs a stable sort, that is, it will preserve the original sort order\n   * of equal elements. The callback is bound to `thisArg` and invoked with\n   * three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an array of property names is provided for `callback` the collection\n   * will be sorted by each property value.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Array|Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of sorted elements.\n   * @example\n   *\n   * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });\n   * // => [3, 1, 2]\n   *\n   * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);\n   * // => [3, 1, 2]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'age': 36 },\n   *   { 'name': 'fred',    'age': 40 },\n   *   { 'name': 'barney',  'age': 26 },\n   *   { 'name': 'fred',    'age': 30 }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.map(_.sortBy(characters, 'age'), _.values);\n   * // => [['barney', 26], ['fred', 30], ['barney', 36], ['fred', 40]]\n   *\n   * // sorting by multiple properties\n   * _.map(_.sortBy(characters, ['name', 'age']), _.values);\n   * // = > [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]\n   */\n  function sortBy(collection, callback, thisArg) {\n    var index = -1,\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    callback = createCallback(callback, thisArg, 3);\n    forEach(collection, function(value, key, collection) {\n      result[++index] = {\n        'criteria': [callback(value, key, collection)],\n        'index': index,\n        'value': value\n      };\n    });\n\n    length = result.length;\n    result.sort(compareAscending);\n    while (length--) {\n      result[length] = result[length].value;\n    }\n    return result;\n  }\n\n  /**\n   * Converts the `collection` to an array.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to convert.\n   * @returns {Array} Returns the new converted array.\n   * @example\n   *\n   * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);\n   * // => [2, 3, 4]\n   */\n  function toArray(collection) {\n    if (isArray(collection)) {\n      return slice(collection);\n    }\n    if (collection && typeof collection.length == 'number') {\n      return map(collection);\n    }\n    return values(collection);\n  }\n\n  /**\n   * Performs a deep comparison of each element in a `collection` to the given\n   * `properties` object, returning an array of all elements that have equivalent\n   * property values.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Object} props The object of property values to filter by.\n   * @returns {Array} Returns a new array of elements that have the given properties.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'pets': ['hoppy'] },\n   *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n   * ];\n   *\n   * _.where(characters, { 'age': 36 });\n   * // => [{ 'name': 'barney', 'age': 36, 'pets': ['hoppy'] }]\n   *\n   * _.where(characters, { 'pets': ['dino'] });\n   * // => [{ 'name': 'fred', 'age': 40, 'pets': ['baby puss', 'dino'] }]\n   */\n  function where(collection, properties, first) {\n    return (first && isEmpty(properties))\n      ? undefined\n      : (first ? find : filter)(collection, properties);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates an array with all falsey values removed. The values `false`, `null`,\n   * `0`, `\"\"`, `undefined`, and `NaN` are all falsey.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to compact.\n   * @returns {Array} Returns a new array of filtered values.\n   * @example\n   *\n   * _.compact([0, 1, false, 2, '', 3]);\n   * // => [1, 2, 3]\n   */\n  function compact(array) {\n    var index = -1,\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates an array excluding all values of the provided arrays using strict\n   * equality for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to process.\n   * @param {...Array} [values] The arrays of values to exclude.\n   * @returns {Array} Returns a new array of filtered values.\n   * @example\n   *\n   * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);\n   * // => [1, 3, 4]\n   */\n  function difference(array) {\n    return baseDifference(array, baseFlatten(arguments, true, true, 1));\n  }\n\n  /**\n   * Gets the first element or first `n` elements of an array. If a callback\n   * is provided elements at the beginning of the array are returned as long\n   * as the callback returns truey. The callback is bound to `thisArg` and\n   * invoked with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias head, take\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback] The function called\n   *  per element or the number of elements to return. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the first element(s) of `array`.\n   * @example\n   *\n   * _.first([1, 2, 3]);\n   * // => 1\n   *\n   * _.first([1, 2, 3], 2);\n   * // => [1, 2]\n   *\n   * _.first([1, 2, 3], function(num) {\n   *   return num < 3;\n   * });\n   * // => [1, 2]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': false, 'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.first(characters, 'blocked');\n   * // => [{ 'name': 'barney', 'blocked': true, 'employer': 'slate' }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.pluck(_.first(characters, { 'employer': 'slate' }), 'name');\n   * // => ['barney', 'fred']\n   */\n  function first(array, callback, thisArg) {\n    var n = 0,\n        length = array ? array.length : 0;\n\n    if (typeof callback != 'number' && callback != null) {\n      var index = -1;\n      callback = createCallback(callback, thisArg, 3);\n      while (++index < length && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = callback;\n      if (n == null || thisArg) {\n        return array ? array[0] : undefined;\n      }\n    }\n    return slice(array, 0, nativeMin(nativeMax(0, n), length));\n  }\n\n  /**\n   * Flattens a nested array (the nesting can be to any depth). If `isShallow`\n   * is truey, the array will only be flattened a single level. If a callback\n   * is provided each element of the array is passed through the callback before\n   * flattening. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to flatten.\n   * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new flattened array.\n   * @example\n   *\n   * _.flatten([1, [2], [3, [[4]]]]);\n   * // => [1, 2, 3, 4];\n   *\n   * _.flatten([1, [2], [3, [[4]]]], true);\n   * // => [1, 2, 3, [[4]]];\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 30, 'pets': ['hoppy'] },\n   *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.flatten(characters, 'pets');\n   * // => ['hoppy', 'baby puss', 'dino']\n   */\n  function flatten(array, isShallow) {\n    return baseFlatten(array, isShallow);\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `value` is found using\n   * strict equality for comparisons, i.e. `===`. If the array is already sorted\n   * providing `true` for `fromIndex` will run a faster binary search.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n   *  to perform a binary search on a sorted array.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   * @example\n   *\n   * _.indexOf([1, 2, 3, 1, 2, 3], 2);\n   * // => 1\n   *\n   * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);\n   * // => 4\n   *\n   * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);\n   * // => 2\n   */\n  function indexOf(array, value, fromIndex) {\n    if (typeof fromIndex == 'number') {\n      var length = array ? array.length : 0;\n      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0);\n    } else if (fromIndex) {\n      var index = sortedIndex(array, value);\n      return array[index] === value ? index : -1;\n    }\n    return baseIndexOf(array, value, fromIndex);\n  }\n\n  /**\n   * Gets all but the last element or last `n` elements of an array. If a\n   * callback is provided elements at the end of the array are excluded from\n   * the result as long as the callback returns truey. The callback is bound\n   * to `thisArg` and invoked with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback=1] The function called\n   *  per element or the number of elements to exclude. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a slice of `array`.\n   * @example\n   *\n   * _.initial([1, 2, 3]);\n   * // => [1, 2]\n   *\n   * _.initial([1, 2, 3], 2);\n   * // => [1]\n   *\n   * _.initial([1, 2, 3], function(num) {\n   *   return num > 1;\n   * });\n   * // => [1]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.initial(characters, 'blocked');\n   * // => [{ 'name': 'barney',  'blocked': false, 'employer': 'slate' }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.pluck(_.initial(characters, { 'employer': 'na' }), 'name');\n   * // => ['barney', 'fred']\n   */\n  function initial(array, callback, thisArg) {\n    var n = 0,\n        length = array ? array.length : 0;\n\n    if (typeof callback != 'number' && callback != null) {\n      var index = length;\n      callback = createCallback(callback, thisArg, 3);\n      while (index-- && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = (callback == null || thisArg) ? 1 : callback || n;\n    }\n    return slice(array, 0, nativeMin(nativeMax(0, length - n), length));\n  }\n\n  /**\n   * Creates an array of unique values present in all provided arrays using\n   * strict equality for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {...Array} [array] The arrays to inspect.\n   * @returns {Array} Returns an array of shared values.\n   * @example\n   *\n   * _.intersection([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n   * // => [1, 2]\n   */\n  function intersection() {\n    var args = [],\n        argsIndex = -1,\n        argsLength = arguments.length;\n\n    while (++argsIndex < argsLength) {\n      var value = arguments[argsIndex];\n       if (isArray(value) || isArguments(value)) {\n         args.push(value);\n       }\n    }\n    var array = args[0],\n        index = -1,\n        indexOf = getIndexOf(),\n        length = array ? array.length : 0,\n        result = [];\n\n    outer:\n    while (++index < length) {\n      value = array[index];\n      if (indexOf(result, value) < 0) {\n        var argsIndex = argsLength;\n        while (--argsIndex) {\n          if (indexOf(args[argsIndex], value) < 0) {\n            continue outer;\n          }\n        }\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Gets the last element or last `n` elements of an array. If a callback is\n   * provided elements at the end of the array are returned as long as the\n   * callback returns truey. The callback is bound to `thisArg` and invoked\n   * with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback] The function called\n   *  per element or the number of elements to return. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the last element(s) of `array`.\n   * @example\n   *\n   * _.last([1, 2, 3]);\n   * // => 3\n   *\n   * _.last([1, 2, 3], 2);\n   * // => [2, 3]\n   *\n   * _.last([1, 2, 3], function(num) {\n   *   return num > 1;\n   * });\n   * // => [2, 3]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.pluck(_.last(characters, 'blocked'), 'name');\n   * // => ['fred', 'pebbles']\n   *\n   * // using \"_.where\" callback shorthand\n   * _.last(characters, { 'employer': 'na' });\n   * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n   */\n  function last(array, callback, thisArg) {\n    var n = 0,\n        length = array ? array.length : 0;\n\n    if (typeof callback != 'number' && callback != null) {\n      var index = length;\n      callback = createCallback(callback, thisArg, 3);\n      while (index-- && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = callback;\n      if (n == null || thisArg) {\n        return array ? array[length - 1] : undefined;\n      }\n    }\n    return slice(array, nativeMax(0, length - n));\n  }\n\n  /**\n   * Gets the index at which the last occurrence of `value` is found using strict\n   * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n   * as the offset from the end of the collection.\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} [fromIndex=array.length-1] The index to search from.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   * @example\n   *\n   * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);\n   * // => 4\n   *\n   * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);\n   * // => 1\n   */\n  function lastIndexOf(array, value, fromIndex) {\n    var index = array ? array.length : 0;\n    if (typeof fromIndex == 'number') {\n      index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;\n    }\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Creates an array of numbers (positive and/or negative) progressing from\n   * `start` up to but not including `end`. If `start` is less than `stop` a\n   * zero-length range is created unless a negative `step` is specified.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {number} [start=0] The start of the range.\n   * @param {number} end The end of the range.\n   * @param {number} [step=1] The value to increment or decrement by.\n   * @returns {Array} Returns a new range array.\n   * @example\n   *\n   * _.range(4);\n   * // => [0, 1, 2, 3]\n   *\n   * _.range(1, 5);\n   * // => [1, 2, 3, 4]\n   *\n   * _.range(0, 20, 5);\n   * // => [0, 5, 10, 15]\n   *\n   * _.range(0, -4, -1);\n   * // => [0, -1, -2, -3]\n   *\n   * _.range(1, 4, 0);\n   * // => [1, 1, 1]\n   *\n   * _.range(0);\n   * // => []\n   */\n  function range(start, end, step) {\n    start = +start || 0;\n    step =  (+step || 1);\n\n    if (end == null) {\n      end = start;\n      start = 0;\n    }\n    // use `Array(length)` so engines like Chakra and V8 avoid slower modes\n    // http://youtu.be/XAqIpGU8ZZk#t=17m25s\n    var index = -1,\n        length = nativeMax(0, ceil((end - start) / step)),\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = start;\n      start += step;\n    }\n    return result;\n  }\n\n  /**\n   * The opposite of `_.initial` this method gets all but the first element or\n   * first `n` elements of an array. If a callback function is provided elements\n   * at the beginning of the array are excluded from the result as long as the\n   * callback returns truey. The callback is bound to `thisArg` and invoked\n   * with three arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias drop, tail\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|number|string} [callback=1] The function called\n   *  per element or the number of elements to exclude. If a property name or\n   *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a slice of `array`.\n   * @example\n   *\n   * _.rest([1, 2, 3]);\n   * // => [2, 3]\n   *\n   * _.rest([1, 2, 3], 2);\n   * // => [3]\n   *\n   * _.rest([1, 2, 3], function(num) {\n   *   return num < 3;\n   * });\n   * // => [3]\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n   *   { 'name': 'fred',    'blocked': false,  'employer': 'slate' },\n   *   { 'name': 'pebbles', 'blocked': true, 'employer': 'na' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.pluck(_.rest(characters, 'blocked'), 'name');\n   * // => ['fred', 'pebbles']\n   *\n   * // using \"_.where\" callback shorthand\n   * _.rest(characters, { 'employer': 'slate' });\n   * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n   */\n  function rest(array, callback, thisArg) {\n    if (typeof callback != 'number' && callback != null) {\n      var n = 0,\n          index = -1,\n          length = array ? array.length : 0;\n\n      callback = createCallback(callback, thisArg, 3);\n      while (++index < length && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);\n    }\n    return slice(array, n);\n  }\n\n  /**\n   * Uses a binary search to determine the smallest index at which a value\n   * should be inserted into a given sorted array in order to maintain the sort\n   * order of the array. If a callback is provided it will be executed for\n   * `value` and each element of `array` to compute their sort ranking. The\n   * callback is bound to `thisArg` and invoked with one argument; (value).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to evaluate.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {number} Returns the index at which `value` should be inserted\n   *  into `array`.\n   * @example\n   *\n   * _.sortedIndex([20, 30, 50], 40);\n   * // => 2\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n   * // => 2\n   *\n   * var dict = {\n   *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }\n   * };\n   *\n   * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n   *   return dict.wordToNumber[word];\n   * });\n   * // => 2\n   *\n   * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n   *   return this.wordToNumber[word];\n   * }, dict);\n   * // => 2\n   */\n  function sortedIndex(array, value, callback, thisArg) {\n    var low = 0,\n        high = array ? array.length : low;\n\n    // explicitly reference `identity` for better inlining in Firefox\n    callback = callback ? createCallback(callback, thisArg, 1) : identity;\n    value = callback(value);\n\n    while (low < high) {\n      var mid = (low + high) >>> 1;\n      (callback(array[mid]) < value)\n        ? low = mid + 1\n        : high = mid;\n    }\n    return low;\n  }\n\n  /**\n   * Creates an array of unique values, in order, of the provided arrays using\n   * strict equality for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {...Array} [array] The arrays to inspect.\n   * @returns {Array} Returns an array of combined values.\n   * @example\n   *\n   * _.union([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n   * // => [1, 2, 3, 5, 4]\n   */\n  function union() {\n    return baseUniq(baseFlatten(arguments, true, true));\n  }\n\n  /**\n   * Creates a duplicate-value-free version of an array using strict equality\n   * for comparisons, i.e. `===`. If the array is sorted, providing\n   * `true` for `isSorted` will use a faster algorithm. If a callback is provided\n   * each element of `array` is passed through the callback before uniqueness\n   * is computed. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, index, array).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias unique\n   * @category Arrays\n   * @param {Array} array The array to process.\n   * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a duplicate-value-free array.\n   * @example\n   *\n   * _.uniq([1, 2, 1, 3, 1]);\n   * // => [1, 2, 3]\n   *\n   * _.uniq([1, 1, 2, 2, 3], true);\n   * // => [1, 2, 3]\n   *\n   * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });\n   * // => ['A', 'b', 'C']\n   *\n   * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);\n   * // => [1, 2.5, 3]\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n   * // => [{ 'x': 1 }, { 'x': 2 }]\n   */\n  function uniq(array, isSorted, callback, thisArg) {\n    // juggle arguments\n    if (typeof isSorted != 'boolean' && isSorted != null) {\n      thisArg = callback;\n      callback = (typeof isSorted != 'function' && thisArg && thisArg[isSorted] === array) ? null : isSorted;\n      isSorted = false;\n    }\n    if (callback != null) {\n      callback = createCallback(callback, thisArg, 3);\n    }\n    return baseUniq(array, isSorted, callback);\n  }\n\n  /**\n   * Creates an array excluding all provided values using strict equality for\n   * comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to filter.\n   * @param {...*} [value] The values to exclude.\n   * @returns {Array} Returns a new array of filtered values.\n   * @example\n   *\n   * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);\n   * // => [2, 3, 4]\n   */\n  function without(array) {\n    return baseDifference(array, slice(arguments, 1));\n  }\n\n  /**\n   * Creates an array of grouped elements, the first of which contains the first\n   * elements of the given arrays, the second of which contains the second\n   * elements of the given arrays, and so on.\n   *\n   * @static\n   * @memberOf _\n   * @alias unzip\n   * @category Arrays\n   * @param {...Array} [array] Arrays to process.\n   * @returns {Array} Returns a new array of grouped elements.\n   * @example\n   *\n   * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n   * // => [['fred', 30, true], ['barney', 40, false]]\n   */\n  function zip() {\n    var index = -1,\n        length = max(pluck(arguments, 'length')),\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = pluck(arguments, index);\n    }\n    return result;\n  }\n\n  /**\n   * Creates an object composed from arrays of `keys` and `values`. Provide\n   * either a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`\n   * or two arrays, one of `keys` and one of corresponding `values`.\n   *\n   * @static\n   * @memberOf _\n   * @alias object\n   * @category Arrays\n   * @param {Array} keys The array of keys.\n   * @param {Array} [values=[]] The array of values.\n   * @returns {Object} Returns an object composed of the given keys and\n   *  corresponding values.\n   * @example\n   *\n   * _.zipObject(['fred', 'barney'], [30, 40]);\n   * // => { 'fred': 30, 'barney': 40 }\n   */\n  function zipObject(keys, values) {\n    var index = -1,\n        length = keys ? keys.length : 0,\n        result = {};\n\n    if (!values && length && !isArray(keys[0])) {\n      values = [];\n    }\n    while (++index < length) {\n      var key = keys[index];\n      if (values) {\n        result[key] = values[index];\n      } else if (key) {\n        result[key[0]] = key[1];\n      }\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a function that executes `func`, with  the `this` binding and\n   * arguments of the created function, only after being called `n` times.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {number} n The number of times the function must be called before\n   *  `func` is executed.\n   * @param {Function} func The function to restrict.\n   * @returns {Function} Returns the new restricted function.\n   * @example\n   *\n   * var saves = ['profile', 'settings'];\n   *\n   * var done = _.after(saves.length, function() {\n   *   console.log('Done saving!');\n   * });\n   *\n   * _.forEach(saves, function(type) {\n   *   asyncSave({ 'type': type, 'complete': done });\n   * });\n   * // => logs 'Done saving!', after all saves have completed\n   */\n  function after(n, func) {\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    return function() {\n      if (--n < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  }\n\n  /**\n   * Creates a function that, when called, invokes `func` with the `this`\n   * binding of `thisArg` and prepends any additional `bind` arguments to those\n   * provided to the bound function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to bind.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {...*} [arg] Arguments to be partially applied.\n   * @returns {Function} Returns the new bound function.\n   * @example\n   *\n   * var func = function(greeting) {\n   *   return greeting + ' ' + this.name;\n   * };\n   *\n   * func = _.bind(func, { 'name': 'fred' }, 'hi');\n   * func();\n   * // => 'hi fred'\n   */\n  function bind(func, thisArg) {\n    return arguments.length > 2\n      ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n      : createWrapper(func, 1, null, null, thisArg);\n  }\n\n  /**\n   * Binds methods of an object to the object itself, overwriting the existing\n   * method. Method names may be specified as individual arguments or as arrays\n   * of method names. If no method names are provided all the function properties\n   * of `object` will be bound.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Object} object The object to bind and assign the bound methods to.\n   * @param {...string} [methodName] The object method names to\n   *  bind, specified as individual method names or arrays of method names.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * var view = {\n   *   'label': 'docs',\n   *   'onClick': function() { console.log('clicked ' + this.label); }\n   * };\n   *\n   * _.bindAll(view);\n   * jQuery('#docs').on('click', view.onClick);\n   * // => logs 'clicked docs', when the button is clicked\n   */\n  function bindAll(object) {\n    var funcs = arguments.length > 1 ? baseFlatten(arguments, true, false, 1) : functions(object),\n        index = -1,\n        length = funcs.length;\n\n    while (++index < length) {\n      var key = funcs[index];\n      object[key] = createWrapper(object[key], 1, null, null, object);\n    }\n    return object;\n  }\n\n  /**\n   * Creates a function that is the composition of the provided functions,\n   * where each function consumes the return value of the function that follows.\n   * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.\n   * Each function is executed with the `this` binding of the composed function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {...Function} [func] Functions to compose.\n   * @returns {Function} Returns the new composed function.\n   * @example\n   *\n   * var realNameMap = {\n   *   'pebbles': 'penelope'\n   * };\n   *\n   * var format = function(name) {\n   *   name = realNameMap[name.toLowerCase()] || name;\n   *   return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();\n   * };\n   *\n   * var greet = function(formatted) {\n   *   return 'Hiya ' + formatted + '!';\n   * };\n   *\n   * var welcome = _.compose(greet, format);\n   * welcome('pebbles');\n   * // => 'Hiya Penelope!'\n   */\n  function compose() {\n    var funcs = arguments,\n        length = funcs.length;\n\n    while (length--) {\n      if (!isFunction(funcs[length])) {\n        throw new TypeError;\n      }\n    }\n    return function() {\n      var args = arguments,\n          length = funcs.length;\n\n      while (length--) {\n        args = [funcs[length].apply(this, args)];\n      }\n      return args[0];\n    };\n  }\n\n  /**\n   * Creates a function that will delay the execution of `func` until after\n   * `wait` milliseconds have elapsed since the last time it was invoked.\n   * Provide an options object to indicate that `func` should be invoked on\n   * the leading and/or trailing edge of the `wait` timeout. Subsequent calls\n   * to the debounced function will return the result of the last `func` call.\n   *\n   * Note: If `leading` and `trailing` options are `true` `func` will be called\n   * on the trailing edge of the timeout only if the the debounced function is\n   * invoked more than once during the `wait` timeout.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to debounce.\n   * @param {number} wait The number of milliseconds to delay.\n   * @param {Object} [options] The options object.\n   * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.\n   * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.\n   * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n   * @returns {Function} Returns the new debounced function.\n   * @example\n   *\n   * // avoid costly calculations while the window size is in flux\n   * var lazyLayout = _.debounce(calculateLayout, 150);\n   * jQuery(window).on('resize', lazyLayout);\n   *\n   * // execute `sendMail` when the click event is fired, debouncing subsequent calls\n   * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n   *   'leading': true,\n   *   'trailing': false\n   * });\n   *\n   * // ensure `batchLog` is executed once after 1 second of debounced calls\n   * var source = new EventSource('/stream');\n   * source.addEventListener('message', _.debounce(batchLog, 250, {\n   *   'maxWait': 1000\n   * }, false);\n   */\n  function debounce(func, wait, options) {\n    var args,\n        maxTimeoutId,\n        result,\n        stamp,\n        thisArg,\n        timeoutId,\n        trailingCall,\n        lastCalled = 0,\n        maxWait = false,\n        trailing = true;\n\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    wait = nativeMax(0, wait) || 0;\n    if (options === true) {\n      var leading = true;\n      trailing = false;\n    } else if (isObject(options)) {\n      leading = options.leading;\n      maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);\n      trailing = 'trailing' in options ? options.trailing : trailing;\n    }\n    var delayed = function() {\n      var remaining = wait - (now() - stamp);\n      if (remaining <= 0) {\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        var isCalled = trailingCall;\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (isCalled) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      } else {\n        timeoutId = setTimeout(delayed, remaining);\n      }\n    };\n\n    var maxDelayed = function() {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      maxTimeoutId = timeoutId = trailingCall = undefined;\n      if (trailing || (maxWait !== wait)) {\n        lastCalled = now();\n        result = func.apply(thisArg, args);\n        if (!timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n      }\n    };\n\n    return function() {\n      args = arguments;\n      stamp = now();\n      thisArg = this;\n      trailingCall = trailing && (timeoutId || !leading);\n\n      if (maxWait === false) {\n        var leadingCall = leading && !timeoutId;\n      } else {\n        if (!maxTimeoutId && !leading) {\n          lastCalled = stamp;\n        }\n        var remaining = maxWait - (stamp - lastCalled),\n            isCalled = remaining <= 0;\n\n        if (isCalled) {\n          if (maxTimeoutId) {\n            maxTimeoutId = clearTimeout(maxTimeoutId);\n          }\n          lastCalled = stamp;\n          result = func.apply(thisArg, args);\n        }\n        else if (!maxTimeoutId) {\n          maxTimeoutId = setTimeout(maxDelayed, remaining);\n        }\n      }\n      if (isCalled && timeoutId) {\n        timeoutId = clearTimeout(timeoutId);\n      }\n      else if (!timeoutId && wait !== maxWait) {\n        timeoutId = setTimeout(delayed, wait);\n      }\n      if (leadingCall) {\n        isCalled = true;\n        result = func.apply(thisArg, args);\n      }\n      if (isCalled && !timeoutId && !maxTimeoutId) {\n        args = thisArg = null;\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Defers executing the `func` function until the current call stack has cleared.\n   * Additional arguments will be provided to `func` when it is invoked.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to defer.\n   * @param {...*} [arg] Arguments to invoke the function with.\n   * @returns {number} Returns the timer id.\n   * @example\n   *\n   * _.defer(function(text) { console.log(text); }, 'deferred');\n   * // logs 'deferred' after one or more milliseconds\n   */\n  function defer(func) {\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    var args = slice(arguments, 1);\n    return setTimeout(function() { func.apply(undefined, args); }, 1);\n  }\n\n  /**\n   * Executes the `func` function after `wait` milliseconds. Additional arguments\n   * will be provided to `func` when it is invoked.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to delay.\n   * @param {number} wait The number of milliseconds to delay execution.\n   * @param {...*} [arg] Arguments to invoke the function with.\n   * @returns {number} Returns the timer id.\n   * @example\n   *\n   * _.delay(function(text) { console.log(text); }, 1000, 'later');\n   * // => logs 'later' after one second\n   */\n  function delay(func, wait) {\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    var args = slice(arguments, 2);\n    return setTimeout(function() { func.apply(undefined, args); }, wait);\n  }\n\n  /**\n   * Creates a function that memoizes the result of `func`. If `resolver` is\n   * provided it will be used to determine the cache key for storing the result\n   * based on the arguments provided to the memoized function. By default, the\n   * first argument provided to the memoized function is used as the cache key.\n   * The `func` is executed with the `this` binding of the memoized function.\n   * The result cache is exposed as the `cache` property on the memoized function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to have its output memoized.\n   * @param {Function} [resolver] A function used to resolve the cache key.\n   * @returns {Function} Returns the new memoizing function.\n   * @example\n   *\n   * var fibonacci = _.memoize(function(n) {\n   *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);\n   * });\n   *\n   * fibonacci(9)\n   * // => 34\n   *\n   * var data = {\n   *   'fred': { 'name': 'fred', 'age': 40 },\n   *   'pebbles': { 'name': 'pebbles', 'age': 1 }\n   * };\n   *\n   * // modifying the result cache\n   * var get = _.memoize(function(name) { return data[name]; }, _.identity);\n   * get('pebbles');\n   * // => { 'name': 'pebbles', 'age': 1 }\n   *\n   * get.cache.pebbles.name = 'penelope';\n   * get('pebbles');\n   * // => { 'name': 'penelope', 'age': 1 }\n   */\n  function memoize(func, resolver) {\n    var cache = {};\n    return function() {\n      var key = resolver ? resolver.apply(this, arguments) : keyPrefix + arguments[0];\n      return hasOwnProperty.call(cache, key)\n        ? cache[key]\n        : (cache[key] = func.apply(this, arguments));\n    };\n  }\n\n  /**\n   * Creates a function that is restricted to execute `func` once. Repeat calls to\n   * the function will return the value of the first call. The `func` is executed\n   * with the `this` binding of the created function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to restrict.\n   * @returns {Function} Returns the new restricted function.\n   * @example\n   *\n   * var initialize = _.once(createApplication);\n   * initialize();\n   * initialize();\n   * // `initialize` executes `createApplication` once\n   */\n  function once(func) {\n    var ran,\n        result;\n\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    return function() {\n      if (ran) {\n        return result;\n      }\n      ran = true;\n      result = func.apply(this, arguments);\n\n      // clear the `func` variable so the function may be garbage collected\n      func = null;\n      return result;\n    };\n  }\n\n  /**\n   * Creates a function that, when called, invokes `func` with any additional\n   * `partial` arguments prepended to those provided to the new function. This\n   * method is similar to `_.bind` except it does **not** alter the `this` binding.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to partially apply arguments to.\n   * @param {...*} [arg] Arguments to be partially applied.\n   * @returns {Function} Returns the new partially applied function.\n   * @example\n   *\n   * var greet = function(greeting, name) { return greeting + ' ' + name; };\n   * var hi = _.partial(greet, 'hi');\n   * hi('fred');\n   * // => 'hi fred'\n   */\n  function partial(func) {\n    return createWrapper(func, 16, slice(arguments, 1));\n  }\n\n  /**\n   * Creates a function that, when executed, will only call the `func` function\n   * at most once per every `wait` milliseconds. Provide an options object to\n   * indicate that `func` should be invoked on the leading and/or trailing edge\n   * of the `wait` timeout. Subsequent calls to the throttled function will\n   * return the result of the last `func` call.\n   *\n   * Note: If `leading` and `trailing` options are `true` `func` will be called\n   * on the trailing edge of the timeout only if the the throttled function is\n   * invoked more than once during the `wait` timeout.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to throttle.\n   * @param {number} wait The number of milliseconds to throttle executions to.\n   * @param {Object} [options] The options object.\n   * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.\n   * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n   * @returns {Function} Returns the new throttled function.\n   * @example\n   *\n   * // avoid excessively updating the position while scrolling\n   * var throttled = _.throttle(updatePosition, 100);\n   * jQuery(window).on('scroll', throttled);\n   *\n   * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes\n   * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n   *   'trailing': false\n   * }));\n   */\n  function throttle(func, wait, options) {\n    var leading = true,\n        trailing = true;\n\n    if (!isFunction(func)) {\n      throw new TypeError;\n    }\n    if (options === false) {\n      leading = false;\n    } else if (isObject(options)) {\n      leading = 'leading' in options ? options.leading : leading;\n      trailing = 'trailing' in options ? options.trailing : trailing;\n    }\n    options = {};\n    options.leading = leading;\n    options.maxWait = wait;\n    options.trailing = trailing;\n\n    return debounce(func, wait, options);\n  }\n\n  /**\n   * Creates a function that provides `value` to the wrapper function as its\n   * first argument. Additional arguments provided to the function are appended\n   * to those provided to the wrapper function. The wrapper is executed with\n   * the `this` binding of the created function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {*} value The value to wrap.\n   * @param {Function} wrapper The wrapper function.\n   * @returns {Function} Returns the new function.\n   * @example\n   *\n   * var p = _.wrap(_.escape, function(func, text) {\n   *   return '<p>' + func(text) + '</p>';\n   * });\n   *\n   * p('Fred, Wilma, & Pebbles');\n   * // => '<p>Fred, Wilma, &amp; Pebbles</p>'\n   */\n  function wrap(value, wrapper) {\n    return createWrapper(wrapper, 16, [value]);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Produces a callback bound to an optional `thisArg`. If `func` is a property\n   * name the created callback will return the property value for a given element.\n   * If `func` is an object the created callback will return `true` for elements\n   * that contain the equivalent object properties, otherwise it will return `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {*} [func=identity] The value to convert to a callback.\n   * @param {*} [thisArg] The `this` binding of the created callback.\n   * @param {number} [argCount] The number of arguments the callback accepts.\n   * @returns {Function} Returns a callback function.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // wrap to create custom callback shorthands\n   * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {\n   *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);\n   *   return !match ? func(callback, thisArg) : function(object) {\n   *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];\n   *   };\n   * });\n   *\n   * _.filter(characters, 'age__gt38');\n   * // => [{ 'name': 'fred', 'age': 40 }]\n   */\n  function createCallback(func, thisArg, argCount) {\n    var type = typeof func;\n    if (func == null || type == 'function') {\n      return baseCreateCallback(func, thisArg, argCount);\n    }\n    // handle \"_.pluck\" style callback shorthands\n    if (type != 'object') {\n      return property(func);\n    }\n    var props = keys(func);\n    return function(object) {\n      var length = props.length,\n          result = false;\n\n      while (length--) {\n        if (!(result = object[props[length]] === func[props[length]])) {\n          break;\n        }\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Converts the characters `&`, `<`, `>`, `\"`, and `'` in `string` to their\n   * corresponding HTML entities.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} string The string to escape.\n   * @returns {string} Returns the escaped string.\n   * @example\n   *\n   * _.escape('Fred, Wilma, & Pebbles');\n   * // => 'Fred, Wilma, &amp; Pebbles'\n   */\n  function escape(string) {\n    return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);\n  }\n\n  /**\n   * This method returns the first argument provided to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {*} value Any value.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.identity(object) === object;\n   * // => true\n   */\n  function identity(value) {\n    return value;\n  }\n\n  /**\n   * Adds function properties of a source object to the destination object.\n   * If `object` is a function methods will be added to its prototype as well.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Function|Object} [object=lodash] object The destination object.\n   * @param {Object} source The object of functions to add.\n   * @param {Object} [options] The options object.\n   * @param {boolean} [options.chain=true] Specify whether the functions added are chainable.\n   * @example\n   *\n   * function capitalize(string) {\n   *   return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n   * }\n   *\n   * _.mixin({ 'capitalize': capitalize });\n   * _.capitalize('fred');\n   * // => 'Fred'\n   *\n   * _('fred').capitalize().value();\n   * // => 'Fred'\n   *\n   * _.mixin({ 'capitalize': capitalize }, { 'chain': false });\n   * _('fred').capitalize();\n   * // => 'Fred'\n   */\n  function mixin(object) {\n    forEach(functions(object), function(methodName) {\n      var func = lodash[methodName] = object[methodName];\n\n      lodash.prototype[methodName] = function() {\n        var args = [this.__wrapped__];\n        push.apply(args, arguments);\n\n        var result = func.apply(lodash, args);\n        return this.__chain__\n          ? new lodashWrapper(result, true)\n          : result;\n      };\n    });\n  }\n\n  /**\n   * Reverts the '_' variable to its previous value and returns a reference to\n   * the `lodash` function.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @returns {Function} Returns the `lodash` function.\n   * @example\n   *\n   * var lodash = _.noConflict();\n   */\n  function noConflict() {\n    root._ = oldDash;\n    return this;\n  }\n\n  /**\n   * A no-operation function.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.noop(object) === undefined;\n   * // => true\n   */\n  function noop() {\n    // no operation performed\n  }\n\n  /**\n   * Gets the number of milliseconds that have elapsed since the Unix epoch\n   * (1 January 1970 00:00:00 UTC).\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @example\n   *\n   * var stamp = _.now();\n   * _.defer(function() { console.log(_.now() - stamp); });\n   * // => logs the number of milliseconds it took for the deferred function to be called\n   */\n  var now = isNative(now = Date.now) && now || function() {\n    return new Date().getTime();\n  };\n\n  /**\n   * Creates a \"_.pluck\" style function, which returns the `key` value of a\n   * given object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} key The name of the property to retrieve.\n   * @returns {Function} Returns the new function.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'fred',   'age': 40 },\n   *   { 'name': 'barney', 'age': 36 }\n   * ];\n   *\n   * var getName = _.property('name');\n   *\n   * _.map(characters, getName);\n   * // => ['barney', 'fred']\n   *\n   * _.sortBy(characters, getName);\n   * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]\n   */\n  function property(key) {\n    return function(object) {\n      return object[key];\n    };\n  }\n\n  /**\n   * Produces a random number between `min` and `max` (inclusive). If only one\n   * argument is provided a number between `0` and the given number will be\n   * returned. If `floating` is truey or either `min` or `max` are floats a\n   * floating-point number will be returned instead of an integer.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {number} [min=0] The minimum possible value.\n   * @param {number} [max=1] The maximum possible value.\n   * @param {boolean} [floating=false] Specify returning a floating-point number.\n   * @returns {number} Returns a random number.\n   * @example\n   *\n   * _.random(0, 5);\n   * // => an integer between 0 and 5\n   *\n   * _.random(5);\n   * // => also an integer between 0 and 5\n   *\n   * _.random(5, true);\n   * // => a floating-point number between 0 and 5\n   *\n   * _.random(1.2, 5.2);\n   * // => a floating-point number between 1.2 and 5.2\n   */\n  function random(min, max) {\n    if (min == null && max == null) {\n      max = 1;\n    }\n    min = +min || 0;\n    if (max == null) {\n      max = min;\n      min = 0;\n    } else {\n      max = +max || 0;\n    }\n    return min + floor(nativeRandom() * (max - min + 1));\n  }\n\n  /**\n   * Resolves the value of property `key` on `object`. If `key` is a function\n   * it will be invoked with the `this` binding of `object` and its result returned,\n   * else the property value is returned. If `object` is falsey then `undefined`\n   * is returned.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Object} object The object to inspect.\n   * @param {string} key The name of the property to resolve.\n   * @returns {*} Returns the resolved value.\n   * @example\n   *\n   * var object = {\n   *   'cheese': 'crumpets',\n   *   'stuff': function() {\n   *     return 'nonsense';\n   *   }\n   * };\n   *\n   * _.result(object, 'cheese');\n   * // => 'crumpets'\n   *\n   * _.result(object, 'stuff');\n   * // => 'nonsense'\n   */\n  function result(object, key) {\n    if (object) {\n      var value = object[key];\n      return isFunction(value) ? object[key]() : value;\n    }\n  }\n\n  /**\n   * A micro-templating method that handles arbitrary delimiters, preserves\n   * whitespace, and correctly escapes quotes within interpolated code.\n   *\n   * Note: In the development build, `_.template` utilizes sourceURLs for easier\n   * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n   *\n   * For more information on precompiling templates see:\n   * https://lodash.com/custom-builds\n   *\n   * For more information on Chrome extension sandboxes see:\n   * http://developer.chrome.com/stable/extensions/sandboxingEval.html\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} text The template text.\n   * @param {Object} data The data object used to populate the text.\n   * @param {Object} [options] The options object.\n   * @param {RegExp} [options.escape] The \"escape\" delimiter.\n   * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n   * @param {Object} [options.imports] An object to import into the template as local variables.\n   * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n   * @param {string} [sourceURL] The sourceURL of the template's compiled source.\n   * @param {string} [variable] The data object variable name.\n   * @returns {Function|string} Returns a compiled function when no `data` object\n   *  is given, else it returns the interpolated text.\n   * @example\n   *\n   * // using the \"interpolate\" delimiter to create a compiled template\n   * var compiled = _.template('hello <%= name %>');\n   * compiled({ 'name': 'fred' });\n   * // => 'hello fred'\n   *\n   * // using the \"escape\" delimiter to escape HTML in data property values\n   * _.template('<b><%- value %></b>', { 'value': '<script>' });\n   * // => '<b>&lt;script&gt;</b>'\n   *\n   * // using the \"evaluate\" delimiter to generate HTML\n   * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';\n   * _.template(list, { 'people': ['fred', 'barney'] });\n   * // => '<li>fred</li><li>barney</li>'\n   *\n   * // using the ES6 delimiter as an alternative to the default \"interpolate\" delimiter\n   * _.template('hello ${ name }', { 'name': 'pebbles' });\n   * // => 'hello pebbles'\n   *\n   * // using the internal `print` function in \"evaluate\" delimiters\n   * _.template('<% print(\"hello \" + name); %>!', { 'name': 'barney' });\n   * // => 'hello barney!'\n   *\n   * // using a custom template delimiters\n   * _.templateSettings = {\n   *   'interpolate': /{{([\\s\\S]+?)}}/g\n   * };\n   *\n   * _.template('hello {{ name }}!', { 'name': 'mustache' });\n   * // => 'hello mustache!'\n   *\n   * // using the `imports` option to import jQuery\n   * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';\n   * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });\n   * // => '<li>fred</li><li>barney</li>'\n   *\n   * // using the `sourceURL` option to specify a custom sourceURL for the template\n   * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });\n   * compiled(data);\n   * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n   *\n   * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n   * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });\n   * compiled.source;\n   * // => function(data) {\n   *   var __t, __p = '', __e = _.escape;\n   *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';\n   *   return __p;\n   * }\n   *\n   * // using the `source` property to inline compiled templates for meaningful\n   * // line numbers in error messages and a stack trace\n   * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n   *   var JST = {\\\n   *     \"main\": ' + _.template(mainText).source + '\\\n   *   };\\\n   * ');\n   */\n  function template(text, data, options) {\n    var _ = lodash,\n        settings = _.templateSettings;\n\n    text = String(text || '');\n    options = defaults({}, options, settings);\n\n    var index = 0,\n        source = \"__p += '\",\n        variable = options.variable;\n\n    var reDelimiters = RegExp(\n      (options.escape || reNoMatch).source + '|' +\n      (options.interpolate || reNoMatch).source + '|' +\n      (options.evaluate || reNoMatch).source + '|$'\n    , 'g');\n\n    text.replace(reDelimiters, function(match, escapeValue, interpolateValue, evaluateValue, offset) {\n      source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n      if (escapeValue) {\n        source += \"' +\\n_.escape(\" + escapeValue + \") +\\n'\";\n      }\n      if (evaluateValue) {\n        source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n      }\n      if (interpolateValue) {\n        source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n      }\n      index = offset + match.length;\n      return match;\n    });\n\n    source += \"';\\n\";\n    if (!variable) {\n      variable = 'obj';\n      source = 'with (' + variable + ' || {}) {\\n' + source + '\\n}\\n';\n    }\n    source = 'function(' + variable + ') {\\n' +\n      \"var __t, __p = '', __j = Array.prototype.join;\\n\" +\n      \"function print() { __p += __j.call(arguments, '') }\\n\" +\n      source +\n      'return __p\\n}';\n\n    try {\n      var result = Function('_', 'return ' + source)(_);\n    } catch(e) {\n      e.source = source;\n      throw e;\n    }\n    if (data) {\n      return result(data);\n    }\n    result.source = source;\n    return result;\n  }\n\n  /**\n   * Executes the callback `n` times, returning an array of the results\n   * of each callback execution. The callback is bound to `thisArg` and invoked\n   * with one argument; (index).\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {number} n The number of times to execute the callback.\n   * @param {Function} callback The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns an array of the results of each `callback` execution.\n   * @example\n   *\n   * var diceRolls = _.times(3, _.partial(_.random, 1, 6));\n   * // => [3, 6, 4]\n   *\n   * _.times(3, function(n) { mage.castSpell(n); });\n   * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively\n   *\n   * _.times(3, function(n) { this.cast(n); }, mage);\n   * // => also calls `mage.castSpell(n)` three times\n   */\n  function times(n, callback, thisArg) {\n    n = (n = +n) > -1 ? n : 0;\n    var index = -1,\n        result = Array(n);\n\n    callback = baseCreateCallback(callback, thisArg, 1);\n    while (++index < n) {\n      result[index] = callback(index);\n    }\n    return result;\n  }\n\n  /**\n   * The inverse of `_.escape` this method converts the HTML entities\n   * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their\n   * corresponding characters.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} string The string to unescape.\n   * @returns {string} Returns the unescaped string.\n   * @example\n   *\n   * _.unescape('Fred, Barney &amp; Pebbles');\n   * // => 'Fred, Barney & Pebbles'\n   */\n  function unescape(string) {\n    return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);\n  }\n\n  /**\n   * Generates a unique ID. If `prefix` is provided the ID will be appended to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} [prefix] The value to prefix the ID with.\n   * @returns {string} Returns the unique ID.\n   * @example\n   *\n   * _.uniqueId('contact_');\n   * // => 'contact_104'\n   *\n   * _.uniqueId();\n   * // => '105'\n   */\n  function uniqueId(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object that wraps the given value with explicit\n   * method chaining enabled.\n   *\n   * @static\n   * @memberOf _\n   * @category Chaining\n   * @param {*} value The value to wrap.\n   * @returns {Object} Returns the wrapper object.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'age': 36 },\n   *   { 'name': 'fred',    'age': 40 },\n   *   { 'name': 'pebbles', 'age': 1 }\n   * ];\n   *\n   * var youngest = _.chain(characters)\n   *     .sortBy('age')\n   *     .map(function(chr) { return chr.name + ' is ' + chr.age; })\n   *     .first()\n   *     .value();\n   * // => 'pebbles is 1'\n   */\n  function chain(value) {\n    value = new lodashWrapper(value);\n    value.__chain__ = true;\n    return value;\n  }\n\n  /**\n   * Invokes `interceptor` with the `value` as the first argument and then\n   * returns `value`. The purpose of this method is to \"tap into\" a method\n   * chain in order to perform operations on intermediate results within\n   * the chain.\n   *\n   * @static\n   * @memberOf _\n   * @category Chaining\n   * @param {*} value The value to provide to `interceptor`.\n   * @param {Function} interceptor The function to invoke.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * _([1, 2, 3, 4])\n   *  .tap(function(array) { array.pop(); })\n   *  .reverse()\n   *  .value();\n   * // => [3, 2, 1]\n   */\n  function tap(value, interceptor) {\n    interceptor(value);\n    return value;\n  }\n\n  /**\n   * Enables explicit method chaining on the wrapper object.\n   *\n   * @name chain\n   * @memberOf _\n   * @category Chaining\n   * @returns {*} Returns the wrapper object.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // without explicit chaining\n   * _(characters).first();\n   * // => { 'name': 'barney', 'age': 36 }\n   *\n   * // with explicit chaining\n   * _(characters).chain()\n   *   .first()\n   *   .pick('age')\n   *   .value();\n   * // => { 'age': 36 }\n   */\n  function wrapperChain() {\n    this.__chain__ = true;\n    return this;\n  }\n\n  /**\n   * Extracts the wrapped value.\n   *\n   * @name valueOf\n   * @memberOf _\n   * @alias value\n   * @category Chaining\n   * @returns {*} Returns the wrapped value.\n   * @example\n   *\n   * _([1, 2, 3]).valueOf();\n   * // => [1, 2, 3]\n   */\n  function wrapperValueOf() {\n    return this.__wrapped__;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions that return wrapped values when chaining\n  lodash.after = after;\n  lodash.bind = bind;\n  lodash.bindAll = bindAll;\n  lodash.chain = chain;\n  lodash.compact = compact;\n  lodash.compose = compose;\n  lodash.countBy = countBy;\n  lodash.debounce = debounce;\n  lodash.defaults = defaults;\n  lodash.defer = defer;\n  lodash.delay = delay;\n  lodash.difference = difference;\n  lodash.filter = filter;\n  lodash.flatten = flatten;\n  lodash.forEach = forEach;\n  lodash.functions = functions;\n  lodash.groupBy = groupBy;\n  lodash.indexBy = indexBy;\n  lodash.initial = initial;\n  lodash.intersection = intersection;\n  lodash.invert = invert;\n  lodash.invoke = invoke;\n  lodash.keys = keys;\n  lodash.map = map;\n  lodash.max = max;\n  lodash.memoize = memoize;\n  lodash.min = min;\n  lodash.omit = omit;\n  lodash.once = once;\n  lodash.pairs = pairs;\n  lodash.partial = partial;\n  lodash.pick = pick;\n  lodash.pluck = pluck;\n  lodash.range = range;\n  lodash.reject = reject;\n  lodash.rest = rest;\n  lodash.shuffle = shuffle;\n  lodash.sortBy = sortBy;\n  lodash.tap = tap;\n  lodash.throttle = throttle;\n  lodash.times = times;\n  lodash.toArray = toArray;\n  lodash.union = union;\n  lodash.uniq = uniq;\n  lodash.values = values;\n  lodash.where = where;\n  lodash.without = without;\n  lodash.wrap = wrap;\n  lodash.zip = zip;\n\n  // add aliases\n  lodash.collect = map;\n  lodash.drop = rest;\n  lodash.each = forEach;\n  lodash.extend = assign;\n  lodash.methods = functions;\n  lodash.object = zipObject;\n  lodash.select = filter;\n  lodash.tail = rest;\n  lodash.unique = uniq;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions that return unwrapped values when chaining\n  lodash.clone = clone;\n  lodash.contains = contains;\n  lodash.escape = escape;\n  lodash.every = every;\n  lodash.find = find;\n  lodash.has = has;\n  lodash.identity = identity;\n  lodash.indexOf = indexOf;\n  lodash.isArguments = isArguments;\n  lodash.isArray = isArray;\n  lodash.isBoolean = isBoolean;\n  lodash.isDate = isDate;\n  lodash.isElement = isElement;\n  lodash.isEmpty = isEmpty;\n  lodash.isEqual = isEqual;\n  lodash.isFinite = isFinite;\n  lodash.isFunction = isFunction;\n  lodash.isNaN = isNaN;\n  lodash.isNull = isNull;\n  lodash.isNumber = isNumber;\n  lodash.isObject = isObject;\n  lodash.isRegExp = isRegExp;\n  lodash.isString = isString;\n  lodash.isUndefined = isUndefined;\n  lodash.lastIndexOf = lastIndexOf;\n  lodash.mixin = mixin;\n  lodash.noConflict = noConflict;\n  lodash.random = random;\n  lodash.reduce = reduce;\n  lodash.reduceRight = reduceRight;\n  lodash.result = result;\n  lodash.size = size;\n  lodash.some = some;\n  lodash.sortedIndex = sortedIndex;\n  lodash.template = template;\n  lodash.unescape = unescape;\n  lodash.uniqueId = uniqueId;\n\n  // add aliases\n  lodash.all = every;\n  lodash.any = some;\n  lodash.detect = find;\n  lodash.findWhere = findWhere;\n  lodash.foldl = reduce;\n  lodash.foldr = reduceRight;\n  lodash.include = contains;\n  lodash.inject = reduce;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions capable of returning wrapped and unwrapped values when chaining\n  lodash.first = first;\n  lodash.last = last;\n  lodash.sample = sample;\n\n  // add aliases\n  lodash.take = first;\n  lodash.head = first;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions to `lodash.prototype`\n  mixin(lodash);\n\n  /**\n   * The semantic version number.\n   *\n   * @static\n   * @memberOf _\n   * @type string\n   */\n  lodash.VERSION = '2.4.2';\n\n  // add \"Chaining\" functions to the wrapper\n  lodash.prototype.chain = wrapperChain;\n  lodash.prototype.value = wrapperValueOf;\n\n    // add `Array` mutator functions to the wrapper\n    forEach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__;\n        func.apply(value, arguments);\n\n        // avoid array-like object bugs with `Array#shift` and `Array#splice`\n        // in Firefox < 10 and IE < 9\n        if (!support.spliceObjects && value.length === 0) {\n          delete value[0];\n        }\n        return this;\n      };\n    });\n\n    // add `Array` accessor functions to the wrapper\n    forEach(['concat', 'join', 'slice'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            result = func.apply(value, arguments);\n\n        if (this.__chain__) {\n          result = new lodashWrapper(result);\n          result.__chain__ = true;\n        }\n        return result;\n      };\n    });\n\n  /*--------------------------------------------------------------------------*/\n\n  // some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lo-Dash to the global object even when an AMD loader is present in\n    // case Lo-Dash is loaded with a RequireJS shim config.\n    // See http://requirejs.org/docs/api.html#config-shim\n    root._ = lodash;\n\n    // define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module\n    define(function() {\n      return lodash;\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports && freeModule) {\n    // in Node.js or RingoJS\n    if (moduleExports) {\n      (freeModule.exports = lodash)._ = lodash;\n    }\n    // in Narwhal or Rhino -require\n    else {\n      freeExports._ = lodash;\n    }\n  }\n  else {\n    // in a browser or Rhino\n    root._ = lodash;\n  }\n}.call(this));\n"]},"hash":"5c40dfb45abad076cfd392ed282f40708e1553f0"}
