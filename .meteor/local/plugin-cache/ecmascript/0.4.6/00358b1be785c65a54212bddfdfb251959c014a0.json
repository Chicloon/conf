{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/zurb:foundation-sites/js/foundation.util.keyboard.js","filenameRelative":"/packages/zurb:foundation-sites/js/foundation.util.keyboard.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/zurb:foundation-sites/js/foundation.util.keyboard.js.map","sourceFileName":"/packages/zurb:foundation-sites/js/foundation.util.keyboard.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"foundation.util.keyboard"},"ignored":false,"code":"/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function ($) {\n\n  var keyCodes = {\n    9: 'TAB',\n    13: 'ENTER',\n    27: 'ESCAPE',\n    32: 'SPACE',\n    37: 'ARROW_LEFT',\n    38: 'ARROW_UP',\n    39: 'ARROW_RIGHT',\n    40: 'ARROW_DOWN'\n  };\n\n  var commands = {};\n\n  var Keyboard = {\n    keys: getKeyCodes(keyCodes),\n\n    /**\n     * Parses the (keyboard) event and returns a String that represents its key\n     * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n     * @param {Event} event - the event generated by the event handler\n     * @return String key - String that represents the key pressed\n     */\n    parseKey: function () {\n      function parseKey(event) {\n        var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n        if (event.shiftKey) key = 'SHIFT_' + key;\n        if (event.ctrlKey) key = 'CTRL_' + key;\n        if (event.altKey) key = 'ALT_' + key;\n        return key;\n      }\n\n      return parseKey;\n    }(),\n\n\n    /**\n     * Handles the given (keyboard) event\n     * @param {Event} event - the event generated by the event handler\n     * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n     * @param {Objects} functions - collection of functions that are to be executed\n     */\n    handleKey: function () {\n      function handleKey(event, component, functions) {\n        var commandList = commands[component],\n            keyCode = this.parseKey(event),\n            cmds,\n            command,\n            fn;\n\n        if (!commandList) return console.warn('Component not defined!');\n\n        if (typeof commandList.ltr === 'undefined') {\n          // this component does not differentiate between ltr and rtl\n          cmds = commandList; // use plain list\n        } else {\n            // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n            if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n          }\n        command = cmds[keyCode];\n\n        fn = functions[command];\n        if (fn && typeof fn === 'function') {\n          // execute function  if exists\n          var returnValue = fn.apply();\n          if (functions.handled || typeof functions.handled === 'function') {\n            // execute function when event was handled\n            functions.handled(returnValue);\n          }\n        } else {\n          if (functions.unhandled || typeof functions.unhandled === 'function') {\n            // execute function when event was not handled\n            functions.unhandled();\n          }\n        }\n      }\n\n      return handleKey;\n    }(),\n\n\n    /**\n     * Finds all focusable elements within the given `$element`\n     * @param {jQuery} $element - jQuery object to search within\n     * @return {jQuery} $focusable - all focusable elements within `$element`\n     */\n    findFocusable: function () {\n      function findFocusable($element) {\n        return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function () {\n          if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) {\n            return false;\n          } //only have visible elements and those that have a tabindex greater or equal 0\n          return true;\n        });\n      }\n\n      return findFocusable;\n    }(),\n\n\n    /**\n     * Returns the component name name\n     * @param {Object} component - Foundation component, e.g. Slider or Reveal\n     * @return String componentName\n     */\n\n    register: function () {\n      function register(componentName, cmds) {\n        commands[componentName] = cmds;\n      }\n\n      return register;\n    }()\n  };\n\n  /*\n   * Constants for easier comparing.\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   */\n  function getKeyCodes(kcs) {\n    var k = {};\n    for (var kc in meteorBabelHelpers.sanitizeForInObject(kcs)) {\n      k[kcs[kc]] = kcs[kc];\n    }return k;\n  }\n\n  Foundation.Keyboard = Keyboard;\n}(jQuery);","ast":null,"map":{"version":3,"sources":["/packages/zurb:foundation-sites/js/foundation.util.keyboard.js"],"names":[],"mappings":";;;;;;;;AAQA;;AAEA,CAAC,UAAS,CAAT,EAAY;;AAEb,MAAM,WAAW;AACf,OAAG,KADY;AAEf,QAAI,OAFW;AAGf,QAAI,QAHW;AAIf,QAAI,OAJW;AAKf,QAAI,YALW;AAMf,QAAI,UANW;AAOf,QAAI,aAPW;AAQf,QAAI;AARW,GAAjB;;AAWA,MAAI,WAAW,EAAf;;AAEA,MAAI,WAAW;AACb,UAAM,YAAY,QAAZ,CADO;;;;;;;;AASb,YATa;AAAA,wBASJ,KATI,EASG;AACd,YAAI,MAAM,SAAS,MAAM,KAAN,IAAe,MAAM,OAA9B,KAA0C,OAAO,YAAP,CAAoB,MAAM,KAA1B,EAAiC,WAAjC,EAApD;AACA,YAAI,MAAM,QAAV,EAAoB,iBAAe,GAAf;AACpB,YAAI,MAAM,OAAV,EAAmB,gBAAc,GAAd;AACnB,YAAI,MAAM,MAAV,EAAkB,eAAa,GAAb;AAClB,eAAO,GAAP;AACD;;AAfY;AAAA;;;;;;;;;AAuBb,aAvBa;AAAA,yBAuBH,KAvBG,EAuBI,SAvBJ,EAuBe,SAvBf,EAuB0B;AACrC,YAAI,cAAc,SAAS,SAAT,CAAlB;AAAA,YACE,UAAU,KAAK,QAAL,CAAc,KAAd,CADZ;AAAA,YAEE,IAFF;AAAA,YAGE,OAHF;AAAA,YAIE,EAJF;;AAMA,YAAI,CAAC,WAAL,EAAkB,OAAO,QAAQ,IAAR,CAAa,wBAAb,CAAP;;AAElB,YAAI,OAAO,YAAY,GAAnB,KAA2B,WAA/B,EAA4C;;AACxC,iBAAO,WAAP,C;AACH,SAFD,MAEO;;AACH,gBAAI,WAAW,GAAX,EAAJ,EAAsB,OAAO,EAAE,MAAF,CAAS,EAAT,EAAa,YAAY,GAAzB,EAA8B,YAAY,GAA1C,CAAP,CAAtB,KAEK,OAAO,EAAE,MAAF,CAAS,EAAT,EAAa,YAAY,GAAzB,EAA8B,YAAY,GAA1C,CAAP;AACR;AACD,kBAAU,KAAK,OAAL,CAAV;;AAEA,aAAK,UAAU,OAAV,CAAL;AACA,YAAI,MAAM,OAAO,EAAP,KAAc,UAAxB,EAAoC;;AAClC,cAAI,cAAc,GAAG,KAAH,EAAlB;AACA,cAAI,UAAU,OAAV,IAAqB,OAAO,UAAU,OAAjB,KAA6B,UAAtD,EAAkE;;AAC9D,sBAAU,OAAV,CAAkB,WAAlB;AACH;AACF,SALD,MAKO;AACL,cAAI,UAAU,SAAV,IAAuB,OAAO,UAAU,SAAjB,KAA+B,UAA1D,EAAsE;;AAClE,sBAAU,SAAV;AACH;AACF;AACF;;AApDY;AAAA;;;;;;;;AA2Db,iBA3Da;AAAA,6BA2DC,QA3DD,EA2DW;AACtB,eAAO,SAAS,IAAT,CAAc,8KAAd,EAA8L,MAA9L,CAAqM,YAAW;AACrN,cAAI,CAAC,EAAE,IAAF,EAAQ,EAAR,CAAW,UAAX,CAAD,IAA2B,EAAE,IAAF,EAAQ,IAAR,CAAa,UAAb,IAA2B,CAA1D,EAA6D;AAAE,mBAAO,KAAP;AAAe,W;AAC9E,iBAAO,IAAP;AACD,SAHM,CAAP;AAID;;AAhEY;AAAA;;;;;;;;;AAwEb,YAxEa;AAAA,wBAwEJ,aAxEI,EAwEW,IAxEX,EAwEiB;AAC5B,iBAAS,aAAT,IAA0B,IAA1B;AACD;;AA1EY;AAAA;AAAA,GAAf;;;;;;AAiFA,WAAS,WAAT,CAAqB,GAArB,EAA0B;AACxB,QAAI,IAAI,EAAR;AACA,SAAK,IAAI,EAAT,2CAAe,GAAf;AAAoB,QAAE,IAAI,EAAJ,CAAF,IAAa,IAAI,EAAJ,CAAb;AAApB,KACA,OAAO,CAAP;AACD;;AAED,aAAW,QAAX,GAAsB,QAAtB;AAEC,CAxGA,CAwGC,MAxGD,CAAD","file":"/packages/zurb:foundation-sites/js/foundation.util.keyboard.js.map","sourcesContent":["/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function($) {\n\nconst keyCodes = {\n  9: 'TAB',\n  13: 'ENTER',\n  27: 'ESCAPE',\n  32: 'SPACE',\n  37: 'ARROW_LEFT',\n  38: 'ARROW_UP',\n  39: 'ARROW_RIGHT',\n  40: 'ARROW_DOWN'\n}\n\nvar commands = {}\n\nvar Keyboard = {\n  keys: getKeyCodes(keyCodes),\n\n  /**\n   * Parses the (keyboard) event and returns a String that represents its key\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   * @param {Event} event - the event generated by the event handler\n   * @return String key - String that represents the key pressed\n   */\n  parseKey(event) {\n    var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n    if (event.shiftKey) key = `SHIFT_${key}`;\n    if (event.ctrlKey) key = `CTRL_${key}`;\n    if (event.altKey) key = `ALT_${key}`;\n    return key;\n  },\n\n  /**\n   * Handles the given (keyboard) event\n   * @param {Event} event - the event generated by the event handler\n   * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n   * @param {Objects} functions - collection of functions that are to be executed\n   */\n  handleKey(event, component, functions) {\n    var commandList = commands[component],\n      keyCode = this.parseKey(event),\n      cmds,\n      command,\n      fn;\n\n    if (!commandList) return console.warn('Component not defined!');\n\n    if (typeof commandList.ltr === 'undefined') { // this component does not differentiate between ltr and rtl\n        cmds = commandList; // use plain list\n    } else { // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);\n\n        else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n    }\n    command = cmds[keyCode];\n\n    fn = functions[command];\n    if (fn && typeof fn === 'function') { // execute function  if exists\n      var returnValue = fn.apply();\n      if (functions.handled || typeof functions.handled === 'function') { // execute function when event was handled\n          functions.handled(returnValue);\n      }\n    } else {\n      if (functions.unhandled || typeof functions.unhandled === 'function') { // execute function when event was not handled\n          functions.unhandled();\n      }\n    }\n  },\n\n  /**\n   * Finds all focusable elements within the given `$element`\n   * @param {jQuery} $element - jQuery object to search within\n   * @return {jQuery} $focusable - all focusable elements within `$element`\n   */\n  findFocusable($element) {\n    return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function() {\n      if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) { return false; } //only have visible elements and those that have a tabindex greater or equal 0\n      return true;\n    });\n  },\n\n  /**\n   * Returns the component name name\n   * @param {Object} component - Foundation component, e.g. Slider or Reveal\n   * @return String componentName\n   */\n\n  register(componentName, cmds) {\n    commands[componentName] = cmds;\n  }\n}\n\n/*\n * Constants for easier comparing.\n * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n */\nfunction getKeyCodes(kcs) {\n  var k = {};\n  for (var kc in kcs) k[kcs[kc]] = kcs[kc];\n  return k;\n}\n\nFoundation.Keyboard = Keyboard;\n\n}(jQuery);\n"]},"hash":"00358b1be785c65a54212bddfdfb251959c014a0"}
